(this["webpackJsonpdata-structure-visualization"]=this["webpackJsonpdata-structure-visualization"]||[]).push([[0],{161:function(e,a,t){},168:function(e,a,t){},171:function(e,a,t){},174:function(e,a,t){},202:function(e,a,t){},215:function(e,a,t){},216:function(e,a,t){},217:function(e,a,t){},218:function(e,a,t){"use strict";t.r(a);var n,c,r,o=t(0),s=t.n(o),i=t(34),u=t.n(i),l=(t(161),t(162),t(96)),p=t(151),d=t(24),j=(t(133),t(65)),b=(t(135),t(51)),O=t(7),v=t(48),h=(t(219),t(130));function g(e){return"number"===typeof e&&!isNaN(e)}function f(e,a,t){var n=e[a];e[a]=e[t],e[t]=n}function x(e,a,t){return new Promise((function(n){t({type:r.Loading}),e.forEach((function(c,o){setTimeout((function(){c.forEach((function(e){t(e)})),o===e.length-1&&(n("Seq has been excuted."),t({type:r.CancelLoading}))}),o*a)}))}))}function y(e){return+(Math.random()*(e[1]-e[0])+e[0]).toFixed(0)}function m(e,a){for(var t=[],n=0;n<e;n++){for(var c=y(a);t.includes(c);)c=y(a);t.push(c)}return t}function D(){var e=Object(o.useState)(!1),a=Object(O.a)(e,2),t=a[0],n=a[1],c=Object(o.useRef)(),r=function(){return n(!0)},s=function(){return n(!1)};return Object(o.useEffect)((function(){var e=c.current;if(e)return e.addEventListener("mouseover",r),e.addEventListener("mouseout",s),function(){e.removeEventListener("mouseover",r),e.removeEventListener("mouseout",s)}}),[c.current]),[c,t]}!function(e){e[e.Sort=0]="Sort",e[e.LinkedList=1]="LinkedList",e[e.Queue=2]="Queue",e[e.Stack=3]="Stack",e[e.HashTable=4]="HashTable",e[e.BinarySearchTree=5]="BinarySearchTree",e[e.BinaryHeap=6]="BinaryHeap",e[e.AVLTree=7]="AVLTree",e[e.BTree=8]="BTree",e[e.BPlusTree=9]="BPlusTree",e[e.RedBlackTree=10]="RedBlackTree",e[e.Graph=11]="Graph"}(n||(n={})),function(e){e.Swap="\u4ea4\u6362",e.Add="\u65b0\u589e\u5143\u7d20",e.Delete="\u5220\u9664\u5143\u7d20",e.HeadInsert="\u5934\u90e8\u63d2\u5165",e.TailInsert="\u5c3e\u90e8\u63d2\u5165",e.Pop="\u5f39\u6808",e.Push="\u538b\u6808",e.Enqueue="\u5165\u961f",e.Dequeue="\u51fa\u961f",e.PreOrderDetails="\u524d\u5e8f\u904d\u5386",e.InOrderDetails="\u4e2d\u5e8f\u904d\u5386",e.PostOrderDetails="\u540e\u5e8f\u904d\u5386",e.Default="\u6570\u636e\u6e90"}(c||(c={})),function(e){e[e.Pop=0]="Pop",e[e.PopDone=1]="PopDone",e[e.Push=2]="Push",e[e.PushDone=3]="PushDone",e[e.Active=4]="Active",e[e.ActiveLeft=5]="ActiveLeft",e[e.ActiveRight=6]="ActiveRight",e[e.Deactive=7]="Deactive",e[e.Swap=8]="Swap",e[e.SwapDone=9]="SwapDone",e[e.Lock=10]="Lock",e[e.UnLock=11]="UnLock",e[e.SortDone=12]="SortDone",e[e.RandomDone=13]="RandomDone",e[e.Random=14]="Random",e[e.Add=15]="Add",e[e.AddDone=16]="AddDone",e[e.Delete=17]="Delete",e[e.DeleteDone=18]="DeleteDone",e[e.Search=19]="Search",e[e.Move=20]="Move",e[e.Enqueue=21]="Enqueue",e[e.Dequeue=22]="Dequeue",e[e.DequeueDone=23]="DequeueDone",e[e.Disappear=24]="Disappear",e[e.Appear=25]="Appear",e[e.HeadInsert=26]="HeadInsert",e[e.TailInsert=27]="TailInsert",e[e.ShowArrow=28]="ShowArrow",e[e.MoveDown=29]="MoveDown",e[e.MoveTop=30]="MoveTop",e[e.StartPreorder=31]="StartPreorder",e[e.StartInOrder=32]="StartInOrder",e[e.StartPostOrder=33]="StartPostOrder",e[e.Generate=34]="Generate",e[e.Loading=35]="Loading",e[e.CancelLoading=36]="CancelLoading"}(r||(r={}));t(168),t(169);var S=t(155),I=(t(171),t(5)),A=["\u6570\u7ec4","\u54c8\u5e0c\u8868","\u56fe\u8bba","\u6808","\u7ea2\u9ed1\u6811","\u961f\u5217","\u94fe\u8868","\u4e8c\u53c9\u5806","avl\u6811","\u4e8c\u53c9\u641c\u7d22\u6811","B+\u6811","B\u6811"],P=function(e){var a=e.type,t=e.main;return Object(I.jsx)(S.a,{color:t?"orange":"geekblue",children:a})},k=function(e){var a=e.title,t=e.src,n=e.tags,c=e.type,r=e.onClick,o=D(),s=Object(O.a)(o,2),i=s[0],u=s[1],l=Object(v.useSpring)({scale:u?1.05:1,config:v.config.stiff}).scale;return Object(I.jsx)(v.animated.div,{ref:i,className:"homeItem",style:{scale:l},children:Object(I.jsx)(h.a,{hoverable:!0,cover:Object(I.jsx)("img",{src:t,alt:"pic"}),onClick:function(){setTimeout((function(){null===r||void 0===r||r(c)}),250)},children:Object(I.jsx)(h.a.Meta,{title:a,description:null===n||void 0===n?void 0:n.map((function(e,a){return Object(I.jsx)(P,{main:A.includes(e),type:e},a)}))})})})},w=t.p+"static/media/Sort.af83f2f6.jpg",R=t.p+"static/media/Stack.83affc03.jpg",C=t.p+"static/media/Queue.5d3f80d2.jpg",L=t.p+"static/media/BinarySearchTree.0ea5af15.jpg",N=t.p+"static/media/BinaryHeap.8cc118e6.jpg",B=[[{src:w,tags:["\u6570\u7ec4","\u5192\u6ce1","\u9009\u62e9","\u5feb\u6392"],title:"\u6392\u5e8f",type:n.Sort},{src:R,tags:["\u6808","\u538b\u6808","\u5f39\u6808"],title:"\u6808",type:n.Stack},{src:C,tags:["\u961f\u5217","\u5165\u961f","\u51fa\u961f"],title:"\u961f\u5217",type:n.Queue},{src:N,tags:["\u4e8c\u53c9\u5806","\u5927\u9876\u5806"],title:"\u4e8c\u53c9\u5806",type:n.BinaryHeap}],[{src:L,tags:["\u4e8c\u53c9\u641c\u7d22\u6811","\u904d\u5386","\u641c\u7d22"],title:"\u4e8c\u53c9\u641c\u7d22\u6811",type:n.BinarySearchTree}]],T=(t(174),function(){var e=Object(d.g)(),a=Object(o.useState)(!1),t=Object(O.a)(a,2),c=t[0],r=t[1],s=function(a){switch(a){case n.Sort:return e.push(Ua+"/sort");case n.LinkedList:return e.push(Ua+"/linkedList");case n.Stack:return e.push(Ua+"/stack");case n.Queue:return e.push(Ua+"/queue");case n.HashTable:return e.push(Ua+"/hashTable");case n.BinarySearchTree:return e.push(Ua+"/binarySearchTree");case n.BinaryHeap:return e.push(Ua+"/binaryHeap");case n.AVLTree:return e.push(Ua+"/avlTree");case n.RedBlackTree:return e.push(Ua+"/redBlackTree");case n.BTree:return e.push(Ua+"/bTree");case n.BPlusTree:return e.push(Ua+"/bPlusTree");case n.Graph:return e.push(Ua+"/graph")}},i=Object(v.useSpring)({from:{size:"20%",opacity:"0"},to:{size:c?"20%":"100%",opacity:c?"0":"1"},config:v.config.stiff}),u=i.size,l=i.opacity;return Object(I.jsx)("div",{className:"home-warp",children:B.map((function(e,a){return Object(I.jsx)(j.a,{gutter:{xs:8,sm:16,md:24},children:e.map((function(e,t){return Object(I.jsx)(b.a,{xs:12,sm:12,md:6,lg:6,xl:6,children:Object(I.jsx)(v.animated.div,{className:"homeItem-warp",style:{width:u,height:u,opacity:l},onClick:function(){return r(!0)},children:Object(I.jsx)(k,{src:e.src,tags:e.tags,title:e.title,type:e.type,onClick:s})})},a+"&"+t)}))},a+"&")}))})}),V=(t(59),t(29)),Y=(t(67),t(43)),E=t(13),M=(t(86),t(36)),q=t(1),G=(t(72),t(39)),z=t(232),Z=t(233),H=t(227),F=(t(189),t(152)),X=(t(191),t(154)),U=(t(193),t(147)),Q=(t(140),t(112)),W=(t(196),t(71)),J=(t(198),t(97)),K=(t(200),t(153)),$=(t(138),t(70)),_=t(231),ee=t(93),ae=(t(202),$.a.Item),te=($.a.SubMenu,function(e){var a,t,n,c=e.children,r=e.style,s=e.operation,i=e.displayer,u=e.drawerHeight,l=e.showSilider,p=e.radioGroup,d=e.addConfig,j=e.deleteConfig,b=e.searchConfig,h=e.spinning,g=e.onSliderChange,f=e.onAdd,x=e.onDelete,m=e.onSearch,S=e.onRenderChange,A=e.onRender,P=D(),k=Object(O.a)(P,2),w=k[0],R=k[1],C=D(),L=Object(O.a)(C,2),N=L[0],B=L[1],T=Object(o.useState)(!1),Y=Object(O.a)(T,2),E=Y[0],M=Y[1],G=Object(o.useState)(y((null===d||void 0===d?void 0:d.valueRange)||[3,37])),z=Object(O.a)(G,2),Z=z[0],H=z[1],te=Object(o.useState)(y((null===d||void 0===d?void 0:d.indexRange)||[0,3])),ne=Object(O.a)(te,2),ce=ne[0],re=ne[1],oe=Object(o.useState)(y((null===j||void 0===j?void 0:j.valueRange)||[3,37])),se=Object(O.a)(oe,2),ie=se[0],ue=se[1],le=Object(o.useState)(y((null===j||void 0===j?void 0:j.indexRange)||[0,3])),pe=Object(O.a)(le,2),de=pe[0],je=pe[1],be=Object(o.useState)(y((null===b||void 0===b?void 0:b.valueRange)||[3,37])),Oe=Object(O.a)(be,2),ve=Oe[0],he=Oe[1],ge=Object(o.useState)(y((null===b||void 0===b?void 0:b.indexRange)||[0,3])),fe=Object(O.a)(ge,2),xe=fe[0],ye=fe[1],me=Object(o.useState)(""),De=Object(O.a)(me,2),Se=De[0],Ie=De[1],Ae=Object(o.useState)(0),Pe=Object(O.a)(Ae,2),ke=Pe[0],we=Pe[1],Re=Object(o.useRef)(),Ce=Object(v.useSpring)({leftOpacity:R?.7:.2,renderOpacity:B?.7:.2,config:v.config.gentle}),Le=Ce.leftOpacity,Ne=Ce.renderOpacity;Object(o.useEffect)((function(){Re.current&&(Re.current.scrollTop=Re.current.scrollHeight)}),[null===(a=Re.current)||void 0===a?void 0:a.scrollHeight]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(v.animated.div,{className:"console-left",ref:w,style:Object(q.a)(Object(q.a)({},r),{},{opacity:Le}),children:[Object(I.jsxs)($.a,{className:"console",mode:"inline",theme:"dark",inlineCollapsed:!0,selectable:!1,style:{display:E?"none":"inline-block"},children:[Object(I.jsx)(ae,{icon:Object(I.jsx)(_.a,{}),onClick:function(){M(!0)},children:"\u5c55\u5f00\u64cd\u4f5c\u53f0"},"item0"),c]}),Object(I.jsxs)(X.a,{className:"console-drawer",title:"\u64cd\u4f5c\u53f0",height:u,visible:E,placement:"bottom",mask:!1,onClose:function(){M(!1)},children:[Object(I.jsxs)("div",{className:"operation",children:[l&&Object(I.jsxs)("div",{className:"slider-warp",children:["\u52a8\u753b\u901f\u5ea6\uff1a",Object(I.jsx)(K.a,{className:"slider",defaultValue:80,min:40,onChange:function(e){return null===g||void 0===g?void 0:g(e)}})]}),Object(I.jsx)(Q.a,{tip:"\u64cd\u4f5c\u6267\u884c\u4e2d...",spinning:h,indicator:Object(I.jsx)(ee.a,{style:{fontSize:40},spin:!0}),children:Object(I.jsxs)("div",{className:"operation-main",children:[s,Object(I.jsxs)("div",{className:"input-group",children:[function(e){var a=0;return 1===e[0]&&a++,1===e[1]&&a++,1===e[2]&&a++,1===a}(p)?Object(I.jsx)("div",{className:"radio-empty"}):Object(I.jsx)(J.a.Group,{className:"radio-group",defaultValue:function(e){for(var a=0;a<=e.length-1;a++)if(1===e[a])return a}(p),onChange:function(e){return we(e.target.value)},children:p.map((function(e,a){return 1===e&&0===a?Object(I.jsx)(J.a,{value:a,children:null===d||void 0===d?void 0:d.radioName},a):1===e&&1===a?Object(I.jsx)(J.a,{value:a,children:null===j||void 0===j?void 0:j.radioName},a):1===e&&2===a?Object(I.jsx)(J.a,{value:a,children:null===b||void 0===b?void 0:b.radioName},a):Object(I.jsx)(I.Fragment,{})}))}),Object(I.jsx)("div",{className:"label-group",children:0===ke?Object(I.jsxs)(I.Fragment,{children:[(null===d||void 0===d?void 0:d.hasIndex)&&Object(I.jsxs)("label",{children:[Object(I.jsx)("span",{className:"label-name",children:"\u5e8f\u53f7:"}),Object(I.jsx)(W.a,{min:(null===d||void 0===d?void 0:d.indexRange)[0],max:(null===d||void 0===d?void 0:d.indexRange)[1],value:ce,onChange:function(e){re(e)}})]}),(null===d||void 0===d?void 0:d.hasValue)&&Object(I.jsxs)("label",{children:[Object(I.jsx)("span",{className:"label-name",children:"\u6570\u503c:"}),Object(I.jsx)(W.a,{min:(null===d||void 0===d?void 0:d.valueRange)[0],max:(null===d||void 0===d?void 0:d.valueRange)[1],value:Z,onChange:function(e){H(e)}})]}),Object(I.jsx)(V.a,{type:"primary",onClick:function(){return null===f||void 0===f?void 0:f(ce,Z)},children:null===d||void 0===d?void 0:d.radioName})]}):1===ke?Object(I.jsxs)(I.Fragment,{children:[(null===j||void 0===j?void 0:j.hasIndex)&&Object(I.jsxs)("label",{children:[Object(I.jsx)("span",{className:"label-name",children:"\u5e8f\u53f7:"}),Object(I.jsx)(W.a,{min:(null===j||void 0===j?void 0:j.indexRange)[0],max:(null===j||void 0===j?void 0:j.indexRange)[1],value:de,onChange:function(e){je(e)}})]}),(null===j||void 0===j?void 0:j.hasValue)&&Object(I.jsxs)("label",{children:[Object(I.jsx)("span",{className:"label-name",children:"\u6570\u503c:"}),Object(I.jsx)(W.a,{min:(null===j||void 0===j?void 0:j.valueRange)[0],max:(null===j||void 0===j?void 0:j.valueRange)[1],value:ie,onChange:function(e){ue(e)}})]}),Object(I.jsx)(V.a,{type:"primary",onClick:function(){return null===x||void 0===x?void 0:x(de,ie)},children:null===j||void 0===j?void 0:j.radioName})]}):Object(I.jsxs)(I.Fragment,{children:[(null===b||void 0===b?void 0:b.hasIndex)&&Object(I.jsxs)("label",{children:[Object(I.jsx)("span",{className:"label-name",children:"\u5e8f\u53f7:"}),Object(I.jsx)(W.a,{min:(null===b||void 0===b?void 0:b.indexRange)[0],max:(null===b||void 0===b?void 0:b.indexRange)[1],value:xe,onChange:function(e){ye(e)}})]}),(null===b||void 0===b?void 0:b.hasValue)&&Object(I.jsxs)("label",{children:[Object(I.jsx)("span",{className:"label-name",children:"\u6570\u503c:"}),Object(I.jsx)(W.a,{min:null===(t=b.valueRange)||void 0===t?void 0:t[0],max:null===(n=b.valueRange)||void 0===n?void 0:n[1],value:ve,onChange:function(e){he(e)}})]}),Object(I.jsx)(V.a,{type:"primary",onClick:function(){return null===m||void 0===m?void 0:m(xe,ve)},children:null===b||void 0===b?void 0:b.radioName})]})})]})]})})]}),Object(I.jsx)(U.a,{className:"divider",type:"vertical"}),Object(I.jsx)("div",{className:"displayer",children:Object(I.jsx)("div",{className:"content",ref:Re,children:i})})]})]}),Object(I.jsxs)(v.animated.div,{className:"console-render",ref:N,style:Object(q.a)(Object(q.a)({},r),{},{opacity:Ne}),children:[Object(I.jsx)(F.a,{bordered:!1,onChange:function(e){Ie(e.target.value.trim()),null===S||void 0===S||S(e.target.value.trim())}}),Object(I.jsx)(V.a,{type:"primary",onClick:function(){null===A||void 0===A||A(Se)},children:"\u6e32\u67d3"})]})]})});te.defaultProps={showSilider:!0,radioGroup:[1,1,1],addConfig:{hasIndex:!0,hasValue:!0,indexRange:[0,10],valueRange:[3,37],radioName:"\u6dfb\u52a0"},deleteConfig:{hasIndex:!0,hasValue:!0,indexRange:[0,10],valueRange:[3,37],radioName:"\u5220\u9664"},searchConfig:{hasIndex:!0,hasValue:!0,indexRange:[0,10],valueRange:[3,37],radioName:"\u67e5\u627e"},spinning:!1};var ne=te,ce=t(17),re=t(26),oe=t(221),se=t(46),ie={defaultColor:"wheat",activeColor:"orange",hoverColor:"skyblue",lockColor:"#8076a3"},ue=Object(o.forwardRef)((function(e,a){var t=e.args,n=e.position,c=e.isActive,r=e.isLock,s=e.value,i=e.colorConfig,u=e.disappear,l=Object(o.useState)(!1),p=Object(O.a)(l,2),d=p[0],j=p[1],b=Object(o.useState)(!1),v=Object(O.a)(b,2),h=v[0],g=v[1],f=Object(o.useRef)(null),x=Object(se.useSpring)({reverse:u,from:{scale:0},to:{scale:h?1.1:1},config:u?se.config.default:se.config.wobbly}).scale,y=Object(se.useSpring)({color:h?null===i||void 0===i?void 0:i.activeColor:d?null===i||void 0===i?void 0:i.hoverColor:r?null===i||void 0===i?void 0:i.lockColor:null===i||void 0===i?void 0:i.defaultColor}).color;return Object(o.useEffect)((function(){g(!!c)}),[c]),Object(I.jsxs)(se.animated.mesh,{scale:x,position:n,ref:a,children:[Object(I.jsx)(H.a,{fontSize:.5,color:"black",children:s}),Object(I.jsx)(oe.a,{args:t,ref:f,onClick:function(){return g(!h)},onPointerOver:function(){return j(!0)},onPointerOut:function(){return j(!1)},children:Object(I.jsx)(se.animated.meshPhongMaterial,{color:y,opacity:.5,transparent:!0})})]})}));ue.defaultProps={colorConfig:ie};var le=ue,pe={geoBaseDistance:2,geoNumRange:[3,7],geoValueRange:[3,37],geoBasePosY:0,cameraPosZ:19,animationSpeed:800},de=["sortIndexes","sortIndex","startPosX","value"],je=function(e){var a=e.sortIndexes,t=e.sortIndex,n=e.startPosX,c=e.value,r=Object(ce.a)(e,de),s=Object(o.useRef)(null),i=function(e){return n+e*pe.geoBaseDistance},u=i(t),l=i(a[a.length-1]);return Object(re.e)((function(){var e=Math.abs(u-l)/(pe.animationSpeed/20);e&&(u-l<0&&s.current.position.x<l?(s.current.translateX(e),s.current.position.x>=l&&(s.current.position.x=l)):u-l>0&&s.current.position.x>l&&(s.current.translateX(-e),s.current.position.x<=l&&(s.current.position.x=l)))})),Object(I.jsx)(le,Object(q.a)({args:[1,c?.2*c:0,1],value:c,ref:s},r))};je.defaultProps={colorConfig:{defaultColor:"wheat",activeColor:"orange",hoverColor:"skyblue",lockColor:"#8076a3"}};var be=s.a.memo(je),Oe=t(222),ve=t(223),he=t(229),ge=t(230),fe=t(228);t(215);function xe(e){var a=Object(Oe.a)().progress,t=e.onLoaded;return Object(o.useEffect)((function(){100===a&&(null===t||void 0===t||t())}),[a]),Object(I.jsx)(ve.a,{center:!0,style:{marginTop:"200px"},children:Object(I.jsx)(Q.a,{size:"large"})})}var ye=function(e){var a=e.children,t=e.cameraPosZ,n=e.onLoaded,c=Object(o.useRef)(null);return Object(I.jsx)("div",{className:"scene3d-warp",children:Object(I.jsxs)(re.a,{children:[Object(I.jsx)(he.a,{ref:c,makeDefault:!0,position:[0,0,t]}),Object(I.jsx)("ambientLight",{intensity:.3}),Object(I.jsx)("directionalLight",{color:"white",position:[1,1,1]}),Object(I.jsxs)(o.Suspense,{fallback:Object(I.jsx)(xe,{onLoaded:n}),children:[a,Object(I.jsx)(ge.a,{maxDistance:30}),Object(I.jsx)(fe.a,{background:!0,files:["ev.jpg","ev.jpg","ev.jpg","ev.jpg","ev.jpg","ev.jpg"],path:"./"})]})]})})};ye.defaultProps={cameraPosZ:16};var me=ye,De=function(e){for(var a=0;a<e.length-1;a++)if(e[a]>e[a+1])return!1;return!0};function Se(e){return e.map((function(e,a){return{value:e,isActive:!1,isLock:!1,disappear:!1,sortIndexes:[a],sortIndex:a}}))}function Ie(e){return-(e-1)*pe.geoBaseDistance/2}function Ae(e){var a=[];return a.push([{type:r.Disappear}]),a.push([{type:r.Generate,payload:e},{type:r.Appear}]),a}function Pe(e,a,t,n){if(De(e))return n.push([{type:r.Lock}]);if(!(a>=t)){for(var c=a-1,o=t+1,s=e[a+t>>1];c<o;){do{c++,n.push([{type:r.Active,payload:[c]}]),n.push([{type:r.Deactive,payload:[c]}])}while(e[c]<s);do{o--,n.push([{type:r.Active,payload:[o]}]),n.push([{type:r.Deactive,payload:[o]}])}while(e[o]>s);if(c<o){n.push([{type:r.Swap,payload:[c,o]}]);var i=e[c];e[c]=e[o],e[o]=i,n.push([{type:r.SwapDone,payload:[c,o]}])}}Pe(e,a,o,n),Pe(e,o+1,t,n)}}var ke={values:m(y(pe.geoNumRange),pe.geoValueRange),cubes:[],loading:!1,disappearAll:!1,startPosX:0,opeDetails:[]},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case r.Loading:return Object(q.a)(Object(q.a)({},e),{},{loading:!0});case r.CancelLoading:return Object(q.a)(Object(q.a)({},e),{},{loading:!1});case r.Generate:return Object(q.a)(Object(q.a)({},e),{},{values:n,cubes:Se(n),startPosX:Ie(n.length),opeDetails:[{type:c.Default,payload:n}]});case r.Appear:return n||0===n?Object(q.a)({},e):Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{disappear:!1})})),disappearAll:!1});case r.Disappear:return n||0===n?Object(q.a)({},e):Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{disappear:!0})})),disappearAll:!0});case r.Active:return Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return(null===n||void 0===n?void 0:n.includes(e.sortIndexes[e.sortIndexes.length-1]))?Object(q.a)(Object(q.a)({},e),{},{isActive:!0}):Object(q.a)({},e)})),sortDone:!1});case r.Deactive:return Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return(null===n||void 0===n?void 0:n.includes(e.sortIndexes[e.sortIndexes.length-1]))?Object(q.a)(Object(q.a)({},e),{},{isActive:!1}):Object(q.a)({},e)}))});case r.Lock:return n||0===n?Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return(null===n||void 0===n?void 0:n.includes(e.sortIndexes[e.sortIndexes.length-1]))?Object(q.a)(Object(q.a)({},e),{},{isLock:!0}):Object(q.a)({},e)}))}):Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{isLock:!0})}))});case r.UnLock:return Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return(null===n||void 0===n?void 0:n.includes(e.sortIndexes[e.sortIndexes.length-1]))?Object(q.a)(Object(q.a)({},e),{},{isLock:!1}):Object(q.a)({},e)}))});case r.Swap:var o=n[0],s=n[1],i=e.cubes.map((function(e){var a=e.sortIndexes[e.sortIndexes.length-1];if(a===o){var t=[].concat(Object(E.a)(e.sortIndexes),[s]);return Object(q.a)(Object(q.a)({},e),{},{sortIndexes:t})}if(a===s){var n=[].concat(Object(E.a)(e.sortIndexes),[o]);return Object(q.a)(Object(q.a)({},e),{},{sortIndexes:n})}return Object(q.a)({},e)})),u=Object(E.a)(e.values),l=u[o];u[o]=u[s],u[s]=l;var p={type:c.Swap,payload:{indexes:[o,s],curValues:Object(E.a)(u)}};return Object(q.a)(Object(q.a)({},e),{},{cubes:i,opeDetails:[].concat(Object(E.a)(e.opeDetails),[p]),values:u});case r.SwapDone:var d=e.cubes.map((function(e){var a=e.sortIndexes[e.sortIndexes.length-1];return e.sortIndex!==a?Object(q.a)(Object(q.a)({},e),{},{sortIndex:a}):Object(q.a)({},e)}));return Object(q.a)(Object(q.a)({},e),{},{cubes:d});case r.SortDone:return Object(q.a)(Object(q.a)({},e),{},{sortDone:!0});case r.Move:var j,b=n.oldIndexes,O=n.targetIndexes,v=e.cubes.map((function(e){var a=b.findIndex((function(a){return a===e.sortIndex}));return a>=0?Object(q.a)(Object(q.a)({},e),{},{sortIndexes:[].concat(Object(E.a)(e.sortIndexes),[O[a]])}):Object(q.a)({},e)})),h=Object(E.a)(e.values);return O[0]>b[0]?h.push(-1):(h.splice(b[0],1),j={type:c.Delete,payload:{index:b[0],value:e.values[b[0]],curValues:Object(E.a)(h)}}),Object(q.a)(Object(q.a)({},e),{},{cubes:v,values:h,opeDetails:j?[].concat(Object(E.a)(e.opeDetails),[j]):Object(E.a)(e.opeDetails)});case r.AddDone:var g=n.newEle,f=n.targetIndex,x={sortIndex:f,sortIndexes:[f],value:g},y=e.cubes.map((function(e,a){var t=e.sortIndex,n=e.sortIndexes[e.sortIndexes.length-1];return t!==n?Object(q.a)(Object(q.a)({},e),{},{sortIndex:n}):Object(q.a)({},e)}));y.push(x);var m=Object(E.a)(e.values);m.splice(f,0,g),f!==e.values.length&&m.pop();var D={type:c.Add,payload:{index:f,value:g,curValues:Object(E.a)(m)}};return Object(q.a)(Object(q.a)({},e),{},{cubes:y,values:m,opeDetails:[].concat(Object(E.a)(e.opeDetails),[D])});case r.Delete:var S=e.cubes.map((function(e){return e.sortIndex===n?Object(q.a)(Object(q.a)({},e),{},{disappear:!0}):Object(q.a)({},e)}));return Object(q.a)(Object(q.a)({},e),{},{cubes:S});case r.DeleteDone:var I=Object(E.a)(e.cubes);return I.splice(n,1),I=e.cubes.map((function(e){var a=e.sortIndex,t=e.sortIndexes[e.sortIndexes.length-1];return a!==t?Object(q.a)(Object(q.a)({},e),{},{sortIndex:t}):Object(q.a)({},e)})),Object(q.a)(Object(q.a)({},e),{},{cubes:I});default:return e}},Re=G.a.Step,Ce=function(){var e=Object(d.g)(),a=Object(o.useReducer)(we,ke,(function(e){return Object(q.a)(Object(q.a)({},e),{},{cubes:Se(e.values),startPosX:Ie(e.values.length),opeDetails:[{type:c.Default,payload:ke.values}]})})),t=Object(O.a)(a,2),n=t[0],s=t[1],i=Object(o.useState)(!1),u=Object(O.a)(i,2),l=u[0],p=u[1],j=function(){x(Ae(m(y(pe.geoNumRange),pe.geoValueRange)),pe.animationSpeed,s)};return Object(I.jsxs)("div",{className:"sort-warp",children:[Object(I.jsx)(Y.a,{onBack:function(){e.replace(Ua),window.location.reload()},title:"\u6392\u5e8f"}),Object(I.jsxs)("div",{className:"main",children:[Object(I.jsxs)(me,{onLoaded:function(){p(!0)},cameraPosZ:pe.cameraPosZ,children:[n.cubes.map((function(e,a){return Object(I.jsx)(be,{sortIndexes:e.sortIndexes,sortIndex:e.sortIndex,value:e.value,startPosX:n.startPosX,isActive:e.isActive,isLock:e.isLock,position:[n.startPosX+e.sortIndex*pe.geoBaseDistance,.2*e.value/2+pe.geoBasePosY,0],disappear:e.disappear},a+"@")})),n.values.map((function(e,a){return Object(I.jsx)(H.a,{fillOpacity:n.disappearAll?0:1,color:"black",fontSize:.5,position:[n.startPosX+a*pe.geoBaseDistance,-1+pe.geoBasePosY,0],children:a},a+"*")}))]}),Object(I.jsx)(ne,{style:{display:l?"flex":"none"},radioGroup:[1,1,0],addConfig:{hasIndex:!0,hasValue:!0,indexRange:[0,n.values.length],valueRange:pe.geoValueRange,radioName:"\u6dfb\u52a0"},deleteConfig:{hasIndex:!0,hasValue:!1,indexRange:[0,n.values.length-1],radioName:"\u5220\u9664"},onSliderChange:function(e){pe.animationSpeed=-7.95*e+1e3},onAdd:function(e,a){n.values.length<pe.geoNumRange[1]+3?e>n.values.length||e<0?M.b.warning("\u8f93\u5165\u7684\u5e8f\u53f7\u4e0d\u5408\u6cd5"):x(function(e,a,t){var n=[];if(t===e.length)n.push([{type:r.AddDone,payload:{newEle:a,targetIndex:t}}]);else{var c=[];e.forEach((function(e,a){a>=t&&c.push(a)}));var o=[];c.forEach((function(e){o.push(e+1)})),n.push([{type:r.Active,payload:c}]),n.push([{type:r.Move,payload:{oldIndexes:c,targetIndexes:o}}]),n.push([{type:r.Deactive,payload:o}]),n.push([{type:r.AddDone,payload:{newEle:a,targetIndex:t}}])}return n}(n.values,a,e),pe.animationSpeed,s):M.b.warning("\u6dfb\u52a0\u5931\u8d25\uff0c\u6570\u7ec4\u6700\u5927\u5bb9\u91cf\u4e3a".concat(pe.geoNumRange[1]+3))},onDelete:function(e,a){n.values.length>0?e>n.values.length-1||e<0?M.b.warning("\u8f93\u5165\u7684\u5e8f\u53f7\u4e0d\u5408\u6cd5"):x(function(e,a){var t=[],n=[];e.forEach((function(e,t){t>=a&&n.push(t)}));var c=[];return n.forEach((function(e){c.push(e-1)})),t.push([{type:r.Delete,payload:a}]),t.push([{type:r.Active,payload:n}]),t.push([{type:r.Move,payload:{oldIndexes:n,targetIndexes:c}}]),t.push([{type:r.Deactive,payload:c}]),t.push([{type:r.DeleteDone,payload:a}]),t}(n.values,e),pe.animationSpeed,s):M.b.warning("\u5220\u9664\u5931\u8d25\uff0c\u5f53\u524d\u6570\u7ec4\u4e3a\u7a7a")},spinning:n.loading,onRender:function(e){var a=function(e){var a=e.substring(1,e.length-1).split(/[,\uff0c]/g).map((function(e){return+e}));return/\[\s*\]/g.test(e)?"\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a":a}(e);Array.isArray(a)?x(Ae(a),pe.animationSpeed,s):M.b.warning(a)},operation:Object(I.jsx)("div",{className:"btn-group",children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:j,children:"\u968f\u673a\u751f\u6210"}),Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:function(){x(function(e){if(De(e))return[[{type:r.Lock}]];for(var a=Object(E.a)(e),t=[],n=a.length-1;n>=0;n--){for(var c=0;c<n;c++){if(t.push([{type:r.Active,payload:[c,c+1]}]),a[c]>a[c+1]){var o=a[c];a[c]=a[c+1],a[c+1]=o,t.push([{type:r.Swap,payload:[c,c+1]}]),t.push([{type:r.SwapDone,payload:[c,c+1]}])}t.push([{type:r.Deactive,payload:[c,c+1]}])}t.push([{type:r.Lock,payload:[n]}])}return t.push([{type:r.SortDone}]),t}(n.values),pe.animationSpeed,s)},children:"\u5192\u6ce1\u6392\u5e8f"}),Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:function(){x(function(e){if(De(e))return[[{type:r.Lock}]];for(var a=Object(E.a)(e),t=[],n=a.length-1;n>=0;n--){for(var c=-1/0,o=-1,s=0;s<=n;s++)t.push([{type:r.Active,payload:[s]}]),a[s]>c&&(t.push([{type:r.UnLock,payload:[o]}]),c=a[s],o=s,t.push([{type:r.Lock,payload:[s]}])),t.push([{type:r.Deactive,payload:[s]}]);t.push([{type:r.Lock,payload:[o]}]);var i=a[n];a[n]=c,a[o]=i,t.push([{type:r.Swap,payload:[o,n]}]),t.push([{type:r.SwapDone,payload:[o,n]}])}return t.push([{type:r.SortDone}]),t}(n.values),pe.animationSpeed,s)},children:"\u9009\u62e9\u6392\u5e8f"}),Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:function(){var e=[];Pe(Object(E.a)(n.values),0,n.values.length-1,e),x(e,pe.animationSpeed,s)},children:"\u5feb\u901f\u6392\u5e8f"})]})}),displayer:Object(I.jsx)(G.a,{direction:"vertical",size:"small",current:n.opeDetails.length-1,children:n.opeDetails.map((function(e,a){var t=e.type,n=e.payload;switch(t){case c.Swap:return Object(I.jsx)(Re,{title:"\u4ea4\u6362\u5143\u7d20: i1=".concat(n.indexes[0],", i2=").concat(n.indexes[1]),description:"\u5f53\u524d\u6570\u7ec4: [".concat(n.curValues.toString(),"]")},a+"step");case c.Add:return Object(I.jsx)(Re,{title:"\u65b0\u589e\u5143\u7d20: i=".concat(n.index,", v=").concat(n.value),description:"\u5f53\u524d\u6570\u7ec4: [".concat(n.curValues.toString(),"]")},a+"step");case c.Delete:return Object(I.jsx)(Re,{title:"\u5220\u9664\u5143\u7d20: i=".concat(n.index,", v=").concat(n.value),description:"\u5f53\u524d\u6570\u7ec4: [".concat(n.curValues.toString(),"]")},a+"step");default:return Object(I.jsx)(Re,{title:"\u5f53\u524d\u6570\u7ec4: [".concat(n.toString(),"]")},a+"step")}}))}),children:Object(I.jsx)(ae,{icon:Object(I.jsx)(Z.a,{}),onClick:j,children:"\u968f\u673a\u751f\u6210"},"item1")})]})]})},Le={geoBaseDistance:2,geoNumRange:[5,10],geoValueRange:[10,70],geoBasePosY:3,cameraPosZ:21,animationSpeed:400,maxDeepth:3},Ne=[[0,5+Le.geoBasePosY,0],[-4,2+Le.geoBasePosY,0],[4,2+Le.geoBasePosY,0],[-6,-1+Le.geoBasePosY,0],[-2,-1+Le.geoBasePosY,0],[2,-1+Le.geoBasePosY,0],[6,-1+Le.geoBasePosY,0],[-7,-4+Le.geoBasePosY,0],[-5,-4+Le.geoBasePosY,0],[-3,-4+Le.geoBasePosY,0],[-1,-4+Le.geoBasePosY,0],[1,-4+Le.geoBasePosY,0],[3,-4+Le.geoBasePosY,0],[5,-4+Le.geoBasePosY,0],[7,-4+Le.geoBasePosY,0]],Be=Le;function Te(e){return e.substring(1,e.length-1).split(/[,\uff0c]/g).map((function(e){return+e})).map((function(e){return isNaN(e)?null:e}))}function Ve(e){var a=[];return a.push([{type:r.Disappear}]),a.push([{type:r.Generate,payload:e},{type:r.Appear}]),a}function Ye(e,a){var t=[],n=[];for(0!==e.length&&t.push({value:e[a],index:a});0!==t.length;){var c=He(e,t[0].index),r=Fe(e,t[0].index);(c||0===c)&&t.push({value:c,index:2*t[0].index+1,dir:"l"}),(r||0===r)&&t.push({value:r,index:2*t[0].index+2,dir:"r"}),n.push(t.shift())}return n}function Ee(e){return e.map((function(e,a,t){return e||Object(q.a)(Object(q.a)({},t[0]),{},{value:null,sortIndex:a})}))}function Me(e){for(var a=0;a<e.length;a++)e[a]||(e[a]=null);for(var t=e.length-1;t>=0;t--)if(null!==e[t]){e.length=t+1;break}return Object(E.a)(e)}function qe(e){return"["+e.map((function(e){return e||"null"})).toString()+"]"}function Ge(e){return e.map((function(e,a){return{sortIndex:a,sortIndexes:[a],value:e,indexDisappear:!1}}))}function ze(e){return Math.floor((e-1)/2)}function Ze(e,a){var t=[void 0,void 0];return He(e,a)&&(t[0]=2*a+1),Fe(e,a)&&(t[1]=2*a+2),t}function He(e,a){return e[2*a+1]}function Fe(e,a){return e[2*a+2]}function Xe(e,a,t){if(!e[a])throw new Error("node is null");e[2*a+1]=t}function Ue(e,a,t){if(!e[a])throw new Error("node is null");e[2*a+2]=t}function Qe(e){return Math.floor((a=2,t=e+1,Math.log(t)/Math.log(a)));var a,t}function We(e,a){var t=0;return He(e,a)&&t++,Fe(e,a)&&t++,t}function Je(e,a,t){t.push([{type:r.Active,payload:a}]),t.push([{type:r.Deactive,payload:a}]),t.push([{type:r.Lock,payload:a}]),He(e,a)&&Je(e,2*a+1,t),Fe(e,a)&&Je(e,2*a+2,t)}function Ke(e,a,t){He(e,a)&&Ke(e,2*a+1,t),t.push([{type:r.Active,payload:a}]),t.push([{type:r.Deactive,payload:a}]),t.push([{type:r.Lock,payload:a}]),Fe(e,a)&&Ke(e,2*a+2,t)}function $e(e,a,t){He(e,a)&&$e(e,2*a+1,t),Fe(e,a)&&$e(e,2*a+2,t),t.push([{type:r.Active,payload:a}]),t.push([{type:r.Deactive,payload:a}]),t.push([{type:r.Lock,payload:a}])}function _e(e,a){var t=m(y(e),a),n=[];return t.forEach((function(e){!function(e,a){e.push(a);for(var t=e.length-1,n=ze(t);n>=0&&e[n]<e[t];)f(e,n,t),n=ze(t=n)}(n,e)})),n}var ea={values:_e(Be.geoNumRange,Be.geoValueRange),geometries:[],opeDetails:[],disappearAll:!1,loading:!1},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case r.Add:var o=Object(E.a)(e.geometries);o.push({sortIndex:o.length,sortIndexes:[o.length],value:n});var s=Object(E.a)(e.values);s.push(n);var i={type:c.Add,payload:{value:n,cur:s}};return Object(q.a)(Object(q.a)({},e),{},{geometries:o,values:s,opeDetails:[].concat(Object(E.a)(e.opeDetails),[i])});case r.Swap:var u=n[0],l=n[1],p=e.geometries.map((function(e){var a=e.sortIndexes[e.sortIndexes.length-1];if(a===u){var t=[].concat(Object(E.a)(e.sortIndexes),[l]);return Object(q.a)(Object(q.a)({},e),{},{sortIndexes:t})}if(a===l){var n=[].concat(Object(E.a)(e.sortIndexes),[u]);return Object(q.a)(Object(q.a)({},e),{},{sortIndexes:n})}return Object(q.a)({},e)})),d=Object(E.a)(e.values),j=d[u];d[u]=d[l],d[l]=j;var b={type:c.Swap,payload:{indexes:[u,l],cur:Object(E.a)(d)}};return Object(q.a)(Object(q.a)({},e),{},{geometries:p,opeDetails:[].concat(Object(E.a)(e.opeDetails),[b]),values:d});case r.SwapDone:var O=e.geometries.map((function(e){var a=e.sortIndexes[e.sortIndexes.length-1];return e.sortIndex!==a?Object(q.a)(Object(q.a)({},e),{},{sortIndex:a}):Object(q.a)({},e)}));return Object(q.a)(Object(q.a)({},e),{},{geometries:O});case r.Loading:return Object(q.a)(Object(q.a)({},e),{},{loading:!0});case r.CancelLoading:return Object(q.a)(Object(q.a)({},e),{},{loading:!1});case r.Generate:return Object(q.a)(Object(q.a)({},e),{},{values:n,geometries:Ge(n),opeDetails:[{type:c.Default,payload:qe(n)}]});case r.Appear:return n||0===n?Object(q.a)({},e):Object(q.a)(Object(q.a)({},e),{},{geometries:e.geometries.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{disappear:!1})})),disappearAll:!1});case r.Disappear:return n||0===n?Object(q.a)({},e):Object(q.a)(Object(q.a)({},e),{},{geometries:e.geometries.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{disappear:!0})})),disappearAll:!0});case r.Move:return Object(q.a)({},e);case r.Active:return Object(q.a)(Object(q.a)({},e),{},{geometries:e.geometries.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{isActive:n===e.sortIndex||e.isActive})}))});case r.ActiveLeft:return Object(q.a)(Object(q.a)({},e),{},{geometries:e.geometries.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{activeLeft:n===e.sortIndex})}))});case r.ActiveRight:return Object(q.a)(Object(q.a)({},e),{},{geometries:e.geometries.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{activeRight:n===e.sortIndex})}))});case r.Deactive:return Object(q.a)(Object(q.a)({},e),{},{geometries:e.geometries.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{isActive:n!==e.sortIndex&&e.isActive})}))});case r.Lock:return Object(q.a)(Object(q.a)({},e),{},{geometries:e.geometries.map((function(e){return n===e.sortIndex?Object(q.a)(Object(q.a)({},e),{},{isLock:!0}):Object(q.a)({},e)}))});case r.UnLock:return Object(q.a)(Object(q.a)({},e),{},{geometries:e.geometries.map((function(e){return n||0===n?n===e.sortIndex?Object(q.a)(Object(q.a)({},e),{},{isLock:!1}):Object(q.a)({},e):Object(q.a)(Object(q.a)({},e),{},{isLock:!1})}))});default:return e}},ta=t(225),na=function(e){var a=e.points,t=e.hidden,n=e.lineWidth,c=e.isActive;return Object(I.jsx)(ta.a,{lineWidth:n,points:a,color:c?"orange":"gray",opacity:t?0:1,transparent:!0})};na.defaultProps={lineWidth:1.5};var ca=na,ra=t(224),oa=Object(o.forwardRef)((function(e,a){var t=e.position,n=e.value,c=e.isActive,r=e.isLock,s=e.colorConfig,i=e.disappear,u=Object(o.useState)(!1),l=Object(O.a)(u,2),p=l[0],d=l[1],j=Object(o.useState)(!1),b=Object(O.a)(j,2),v=b[0],h=b[1],g=Object(o.useRef)(null),f=Object(se.useSpring)({color:v?null===s||void 0===s?void 0:s.activeColor:p?null===s||void 0===s?void 0:s.hoverColor:r?null===s||void 0===s?void 0:s.lockColor:null===s||void 0===s?void 0:s.defaultColor}).color,x=Object(se.useSpring)({reverse:i,from:{scale:0},to:{scale:v?1.2:1},config:i?se.config.default:se.config.wobbly}).scale;return Object(o.useEffect)((function(){h(!!c)}),[c]),Object(I.jsx)(se.animated.mesh,{position:t,ref:a,scale:x,children:Object(I.jsxs)(ra.a,{ref:g,args:[.7,10],onClick:function(){return h(!v)},onPointerOver:function(){return d(!0)},onPointerOut:function(){return d(!1)},children:[Object(I.jsx)(H.a,{position:[0,0,.7],fontSize:.5,color:"black",children:n}),Object(I.jsx)(se.animated.meshPhongMaterial,{color:f,opacity:1})]})})}));oa.defaultProps={colorConfig:ie};var sa=oa,ia=function(e){var a=e.lChildPos,t=e.rChildPos,n=e.position,c=e.activeLeft,r=e.activeRight,s=e.disappear,i=e.sortIndex,u=e.sortIndexes,l=Object(o.useRef)(null),p=Ne[i][0],d=Ne[i][1],j=Ne[u[u.length-1]][0],b=Ne[u[u.length-1]][1];return Object(re.e)((function(){var e=Math.abs(p-j)/(Be.animationSpeed/20),a=Math.abs(d-b)/(Be.animationSpeed/20);e&&(p-j<0&&l.current.position.x<j?(l.current.translateX(e),l.current.position.x>=j&&(l.current.position.x=j)):p-j>0&&l.current.position.x>j&&(l.current.translateX(-e),l.current.position.x<=j&&(l.current.position.x=j))),a&&(d-b<0&&l.current.position.y<b?(l.current.translateY(a),l.current.position.y>=b&&(l.current.position.y=b)):d-b>0&&l.current.position.y>b&&(l.current.translateY(-a),l.current.position.y<=b&&(l.current.position.y=b)))})),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(sa,Object(q.a)({ref:l},e)),a&&Object(I.jsx)(ca,{hidden:s,points:[n,a],isActive:c}),t&&Object(I.jsx)(ca,{hidden:s,points:[n,t],isActive:r})]})},ua=G.a.Step,la=function(){var e=Object(d.g)(),a=Object(o.useReducer)(aa,ea,(function(e){return Object(q.a)(Object(q.a)({},e),{},{geometries:Ge(e.values),opeDetails:[{type:c.Default,payload:qe(e.values)}]})})),t=Object(O.a)(a,2),n=t[0],i=t[1],u=Object(o.useState)(!1),l=Object(O.a)(u,2),p=l[0],j=l[1],b=function(){x(Ve(_e(Be.geoNumRange,Be.geoValueRange)),Be.animationSpeed,i)};return Object(I.jsxs)("div",{className:"binaryHeap-warp",children:[Object(I.jsx)(Y.a,{onBack:function(){e.replace(Ua),window.location.reload()},title:"\u4e8c\u53c9\u5806"}),Object(I.jsxs)("div",{className:"main",children:[Object(I.jsx)(me,{onLoaded:function(){j(!0)},cameraPosZ:Be.cameraPosZ,children:n.geometries.map((function(e,a){var t,c,r=null===(t=He(n.geometries,e.sortIndex))||void 0===t?void 0:t.value,o=null!==e.lChildPos&&He(Ne,e.sortIndex),i=null!==e.rChildPos&&(null===(c=Fe(n.geometries,e.sortIndex))||void 0===c?void 0:c.value),u=Fe(Ne,e.sortIndex);return e.value&&Object(I.jsxs)(s.a.Fragment,{children:[Object(I.jsx)(ia,{value:e.value,sortIndex:e.sortIndex,sortIndexes:e.sortIndexes,position:Ne[e.sortIndex],isActive:e.isActive,activeLeft:e.activeLeft,activeRight:e.activeRight,isLock:e.isLock,disappear:e.disappear,lChildPos:r&&o,rChildPos:i&&u}),Object(I.jsx)(H.a,{position:[Ne[a][0],Ne[a][1]-1.2,Ne[a][2]],fontSize:.4,fillOpacity:e.disappear||n.disappearAll?0:1,color:"black",children:a})]},"sphere"+a)}))}),Object(I.jsx)(ne,{style:{display:p?"flex":"none"},onSliderChange:function(e){Be.animationSpeed=-7.95*e+1e3},radioGroup:[1,0,0],onRender:function(e){var a=Te(e);a?x(Ve(a),Be.animationSpeed,i):M.b.warning('\u8f93\u5165\u7684\u6570\u636e\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u6309\u7167 "[1,3,8,2]" \u7c7b\u4f3c\u683c\u5f0f\u8f93\u5165')},addConfig:{hasIndex:!1,hasValue:!0,radioName:"\u6dfb\u52a0",valueRange:Be.geoValueRange},onAdd:function(e,a){4===Qe(n.values.length-1)?M.b.warning("\u6dfb\u52a0\u5931\u8d25\uff0c\u4e8c\u53c9\u5806\u6700\u5927\u5c42\u6570\u4e3a4"):x(function(e,a){var t=[],n=Object(E.a)(e);n.push(a),t.push([{type:r.Add,payload:a}]);for(var c=n.length-1,o=ze(c);o>=0&&n[o]<n[c];)f(n,o,c),t.push([{type:r.Active,payload:c},{type:r.Active,payload:o}]),t.push([{type:r.Swap,payload:[c,o]}]),t.push([{type:r.Deactive,payload:c},{type:r.Deactive,payload:o}]),t.push([{type:r.SwapDone,payload:[c,o]}]),o=ze(c=o);return t}(n.values,a),Be.animationSpeed,i)},spinning:n.loading,operation:Object(I.jsx)("div",{className:"btn-group",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:b,children:"\u968f\u673a\u751f\u6210"})})}),displayer:Object(I.jsx)(G.a,{direction:"vertical",size:"small",current:n.opeDetails.length-1,children:n.opeDetails.map((function(e,a){var t=e.type,r=e.payload;switch(t){case c.Add:var o=r.value,s=r.cur;return Object(I.jsx)(ua,{title:"\u65b0\u589e\u7ed3\u70b9:  v=".concat(o),description:"\u5f53\u524d\u6ee1\u4e8c\u53c9\u6811: ".concat(qe(s))},"step"+a);case c.Swap:var i=r.indexes,u=r.cur;return Object(I.jsx)(ua,{title:"\u4ea4\u6362\u7ed3\u70b9:  i=".concat(i[0],", v=").concat(n.values[i[0]]," | i=").concat(i[1],", v=").concat(n.values[i[1]]),description:"\u5f53\u524d\u6ee1\u4e8c\u53c9\u6811: ".concat(qe(u))},"step"+a);default:return Object(I.jsx)(ua,{title:"\u5f53\u524d\u4e8c\u53c9\u5806: ".concat(r)},"step"+a)}}))}),children:Object(I.jsx)(ae,{icon:Object(I.jsx)(Z.a,{}),onClick:b,children:"\u968f\u673a\u751f\u6210"},"item1")})]})]})},pa=function(e){return Object(I.jsx)(le,Object(q.a)({args:[2,1,1]},e))},da=s.a.memo(pa),ja=t(226),ba={geoBaseDistance:2.5,geoNumRange:[3,5],geoValueRange:[0,90],geoBasePosY:2,cameraPosZ:19,animationSpeed:400};function Oa(e){return e.map((function(e){return{value:e,isActive:!1,isLock:!1,key:Object(ja.a)()}}))}var va={values:m(y(ba.geoNumRange),ba.geoValueRange),disappearAll:!1,loading:!1,cubes:[],opeDetails:[]},ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case r.Loading:return Object(q.a)(Object(q.a)({},e),{},{loading:!0});case r.CancelLoading:return Object(q.a)(Object(q.a)({},e),{},{loading:!1});case r.Generate:return Object(q.a)(Object(q.a)({},e),{},{values:n,cubes:Oa(n),opeDetails:[{type:c.Default,payload:n}]});case r.Appear:return n||0===n?Object(q.a)({},e):Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{disappear:!1})})),disappearAll:!1});case r.Disappear:if(n||0===n){var o=e.cubes.map((function(e,a){return Object(q.a)(Object(q.a)({},e),{},{disappear:a===n})}));return Object(q.a)(Object(q.a)({},e),{},{cubes:o})}return Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{disappear:!0})})),disappearAll:!0,opeDetails:[]});case r.Active:var s=e.cubes.map((function(e,a){return Object(q.a)(Object(q.a)({},e),{},{isActive:a===n})}));return Object(q.a)(Object(q.a)({},e),{},{cubes:s});case r.Deactive:var i=e.cubes.map((function(e,a){return Object(q.a)(Object(q.a)({},e),{},{isActive:a!==n&&e.isActive})}));return Object(q.a)(Object(q.a)({},e),{},{cubes:i});case r.Enqueue:var u=Object(E.a)(e.cubes),l={value:n,isActive:!0,key:Object(ja.a)()},p=Object(E.a)(e.values);return u.push(l),p.push(n),Object(q.a)(Object(q.a)({},e),{},{cubes:u,values:p,opeDetails:[].concat(Object(E.a)(e.opeDetails),[{type:c.Enqueue,payload:{enqueueValue:n,curValues:p}}])});case r.Dequeue:var d=Object(E.a)(e.cubes);d.shift();var j=Object(E.a)(e.values),b=j.shift();return Object(q.a)(Object(q.a)({},e),{},{opeDetails:[].concat(Object(E.a)(e.opeDetails),[{type:c.Dequeue,payload:{dequeueValue:b,curValues:j}}]),values:j,cubes:d});default:return e}},ga=G.a.Step,fa=function(){var e=Object(d.g)(),a=Object(o.useReducer)(ha,va,(function(e){return Object(q.a)(Object(q.a)({},e),{},{cubes:Oa(e.values),opeDetails:[{type:c.Default,payload:va.values}]})})),t=Object(O.a)(a,2),n=t[0],i=t[1],u=Object(o.useState)(!1),l=Object(O.a)(u,2),p=l[0],j=l[1],b=-(n.cubes.length-1)*ba.geoBaseDistance/2,v=function(){x(function(e){var a=[];return a.push([{type:r.Disappear}]),a.push([{type:r.Generate,payload:e},{type:r.Appear}]),a}(m(y(ba.geoNumRange),ba.geoValueRange)),ba.animationSpeed,i)};return Object(I.jsxs)("div",{className:"queue-warp",children:[Object(I.jsx)(Y.a,{onBack:function(){e.replace(Ua),window.location.reload()},title:"\u961f\u5217"}),Object(I.jsxs)("div",{className:"main",children:[Object(I.jsx)(me,{onLoaded:function(){j(!0)},cameraPosZ:ba.cameraPosZ,children:n.cubes.map((function(e,a,t){return Object(I.jsxs)(s.a.Fragment,{children:[Object(I.jsx)(da,{value:e.value,position:[b+a*ba.geoBaseDistance,ba.geoBasePosY,0],isActive:e.isActive,disappear:e.disappear}),0===a||a===t.length-1?Object(I.jsx)(H.a,{fillOpacity:n.disappearAll?0:1,color:"black",fontSize:.5,position:[b+a*ba.geoBaseDistance,ba.geoBasePosY-1,0],children:0===a?"head":"tail"}):Object(I.jsx)(I.Fragment,{})]},e.key)}))}),Object(I.jsx)(ne,{style:{display:p?"flex":"none"},radioGroup:[1,1,0],addConfig:{hasIndex:!1,hasValue:!0,valueRange:ba.geoValueRange,radioName:"\u5165\u961f"},deleteConfig:{hasIndex:!1,hasValue:!1,radioName:"\u51fa\u961f"},showSilider:!1,onAdd:function(e,a){n.values.length<ba.geoNumRange[1]+5?x(function(e,a){var t=[];return t.push([{type:r.Enqueue,payload:e}]),t.push([{type:r.Deactive,payload:a}]),t}(a,n.values.length),ba.animationSpeed,i):M.b.warning("\u5165\u961f\u5931\u8d25\uff0c\u961f\u5217\u6700\u5927\u5bb9\u91cf\u4e3a".concat(ba.geoNumRange[1]+5))},onDelete:function(){n.values.length>0?x(function(){var e=[];return e.push([{type:r.Disappear,payload:0}]),e.push([{type:r.Dequeue}]),e}(),ba.animationSpeed,i):M.b.warning("\u51fa\u961f\u5931\u8d25\uff0c\u5f53\u524d\u961f\u5217\u4e3a\u7a7a")},spinning:n.loading,operation:Object(I.jsx)("div",{className:"btn-group",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:v,children:"\u968f\u673a\u751f\u6210"})})}),displayer:Object(I.jsx)(G.a,{direction:"vertical",size:"small",current:n.opeDetails.length-1,children:n.opeDetails.map((function(e,a){var t=e.type,n=e.payload;switch(t){case c.Enqueue:return Object(I.jsx)(ga,{title:"\u5165\u961f: v=".concat(n.enqueueValue),description:"\u5f53\u524d\u961f\u5217: [".concat(n.curValues.toString(),"]")},"step"+a);case c.Dequeue:return Object(I.jsx)(ga,{title:"\u51fa\u961f: v=".concat(n.dequeueValue),description:"\u5f53\u524d\u961f\u5217: [".concat(n.curValues.toString(),"]")},"step"+a);default:return Object(I.jsx)(ga,{title:"\u5f53\u524d\u961f\u5217: [".concat(n.toString(),"]")},"step"+a)}}))}),children:Object(I.jsx)(ae,{icon:Object(I.jsx)(Z.a,{}),onClick:v,children:"\u968f\u673a\u751f\u6210"},"item1")})]})]})},xa=function(e){return Object(I.jsx)(le,Object(q.a)({args:[2.5,.5,2.5]},e))},ya=s.a.memo(xa),ma={geoBaseDistance:.8,geoNumRange:[2,6],geoValueRange:[0,90],geoBasePosY:2,cameraPosZ:16,animationSpeed:400};function Da(e){return e.map((function(e){return{value:e,isActive:!1,isLock:!1}}))}function Sa(e){var a=[];return a.push([{type:r.Disappear}]),a.push([{type:r.Generate,payload:e},{type:r.Appear}]),a}var Ia={cubes:[],disappearAll:!1,loading:!1,opeDetails:[],values:m(y(ma.geoNumRange),ma.geoValueRange)},Aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case r.Loading:return Object(q.a)(Object(q.a)({},e),{},{loading:!0});case r.CancelLoading:return Object(q.a)(Object(q.a)({},e),{},{loading:!1});case r.Generate:return Object(q.a)(Object(q.a)({},e),{},{values:n,cubes:Da(n),opeDetails:[{type:c.Default,payload:n}]});case r.Appear:return n||0===n?Object(q.a)({},e):Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{disappear:!1})})),disappearAll:!1});case r.Disappear:return n||0===n?Object(q.a)({},e):Object(q.a)(Object(q.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{disappear:!0})})),disappearAll:!0,opeDetails:[]});case r.Active:var o=e.cubes.map((function(e,a,t){return Object(q.a)(Object(q.a)({},e),{},{isActive:a===t.length-1})}));return Object(q.a)(Object(q.a)({},e),{},{cubes:o});case r.Deactive:var s=e.cubes.map((function(e,a,t){return Object(q.a)(Object(q.a)({},e),{},{isActive:a!==t.length-1&&e.isActive})}));return Object(q.a)(Object(q.a)({},e),{},{cubes:s});case r.Pop:var i=e.cubes.map((function(e,a,t){return Object(q.a)(Object(q.a)({},e),{},{disappear:a===t.length-1})})),u=Object(E.a)(e.values),l=u.pop();return Object(q.a)(Object(q.a)({},e),{},{cubes:i,opeDetails:[].concat(Object(E.a)(e.opeDetails),[{type:c.Pop,payload:{popValue:l,curValues:u}}]),values:u});case r.PopDone:var p=Object(E.a)(e.cubes);return p.pop(),Object(q.a)(Object(q.a)({},e),{},{cubes:p});case r.Push:var d=Object(E.a)(e.cubes),j={value:n,isActive:!0},b=Object(E.a)(e.values);return d.push(j),b.push(n),Object(q.a)(Object(q.a)({},e),{},{cubes:d,values:b,opeDetails:[].concat(Object(E.a)(e.opeDetails),[{type:c.Push,payload:{pushValue:n,curValues:b}}])});default:return e}},Pa=G.a.Step,ka=function(){var e=Object(d.g)(),a=Object(o.useReducer)(Aa,Ia,(function(e){return Object(q.a)(Object(q.a)({},e),{},{cubes:Da(e.values),opeDetails:[{type:c.Default,payload:Ia.values}]})})),t=Object(O.a)(a,2),n=t[0],i=t[1],u=-(n.cubes.length-1)*ma.geoBaseDistance/2,l=Object(o.useState)(!1),p=Object(O.a)(l,2),j=p[0],b=p[1],v=function(){x(Sa(m(y(ma.geoNumRange),ma.geoValueRange)),ma.animationSpeed,i)};return Object(I.jsxs)("div",{className:"stack-warp",children:[Object(I.jsx)(Y.a,{onBack:function(){e.replace(Ua),window.location.reload()},title:"\u6808"}),Object(I.jsxs)("div",{className:"main",children:[Object(I.jsx)(me,{onLoaded:function(){b(!0)},cameraPosZ:ma.cameraPosZ,children:n.cubes.map((function(e,a){return Object(I.jsxs)(s.a.Fragment,{children:[Object(I.jsx)(ya,{value:e.value,position:[0,u+a*ma.geoBaseDistance+ma.geoBasePosY,0],isActive:e.isActive,disappear:e.disappear}),a!==n.cubes.length-1||n.disappearAll?Object(I.jsx)(I.Fragment,{}):Object(I.jsx)(H.a,{fontSize:.5,color:"black",position:[-2.5,u+a*ma.geoBaseDistance+ma.geoBasePosY,0],children:"Top \u2014\u2014>"})]},a+"!")}))}),Object(I.jsx)(ne,{style:{display:j?"flex":"none"},radioGroup:[1,1,0],addConfig:{hasIndex:!1,hasValue:!0,valueRange:ma.geoValueRange,radioName:"\u538b\u6808"},deleteConfig:{hasIndex:!1,hasValue:!1,radioName:"\u5f39\u6808"},showSilider:!1,onAdd:function(e,a){n.values.length<ma.geoNumRange[1]+4?x(function(e){var a=[];return a.push([{type:r.Push,payload:e}]),a.push([{type:r.Deactive}]),a}(a),ma.animationSpeed,i):M.b.warning("\u538b\u6808\u5931\u8d25\uff0c\u6808\u6700\u5927\u5bb9\u91cf\u4e3a".concat(ma.geoNumRange[1]+4))},onDelete:function(){n.values.length>0?x(function(){var e=[];return e.push([{type:r.Active}]),e.push([{type:r.Pop}]),e.push([{type:r.PopDone}]),e}(),ma.animationSpeed,i):M.b.warning("\u5f39\u6808\u5931\u8d25\uff0c\u5f53\u524d\u6808\u4e3a\u7a7a")},onRender:function(e){var a=function(e){return e.substring(1,e.length-1).split(/[,\uff0c]/g).map((function(e){return+e}))}(e);Array.isArray(a)?x(Sa(a),ma.animationSpeed,i):M.b.warning(a)},spinning:n.loading,operation:Object(I.jsx)("div",{className:"btn-group",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:v,children:"\u968f\u673a\u751f\u6210"})})}),displayer:Object(I.jsx)(G.a,{direction:"vertical",size:"small",current:n.opeDetails.length-1,children:n.opeDetails.map((function(e,a){var t=e.type,n=e.payload;switch(t){case c.Pop:return Object(I.jsx)(Pa,{title:"\u5f39\u6808: v=".concat(n.popValue),description:"\u5f53\u524d\u6808: [".concat(n.curValues.toString(),"]")},"step"+a);case c.Push:return Object(I.jsx)(Pa,{title:"\u538b\u6808: v=".concat(n.pushValue),description:"\u5f53\u524d\u6808: [".concat(n.curValues.toString(),"]")},"step"+a);default:return Object(I.jsx)(Pa,{title:"\u5f53\u524d\u6808: [".concat(n.toString(),"]")},"step"+a)}}))}),children:Object(I.jsx)(ae,{icon:Object(I.jsx)(Z.a,{}),onClick:v,children:"\u968f\u673a\u751f\u6210"},"item1")})]})]})},wa={geoBaseDistance:2,geoNumRange:[5,15],geoValueRange:[1,70],geoBasePosY:3,cameraPosZ:21,animationSpeed:400,maxDeepth:3},Ra=[[0,5+wa.geoBasePosY,0],[-4,2+wa.geoBasePosY,0],[4,2+wa.geoBasePosY,0],[-6,-1+wa.geoBasePosY,0],[-2,-1+wa.geoBasePosY,0],[2,-1+wa.geoBasePosY,0],[6,-1+wa.geoBasePosY,0],[-7,-4+wa.geoBasePosY,0],[-5,-4+wa.geoBasePosY,0],[-3,-4+wa.geoBasePosY,0],[-1,-4+wa.geoBasePosY,0],[1,-4+wa.geoBasePosY,0],[3,-4+wa.geoBasePosY,0],[5,-4+wa.geoBasePosY,0],[7,-4+wa.geoBasePosY,0]],Ca=wa;function La(e,a,t){if(0===e.length)throw new Error("the length of bst is 0");(e[a]||0===e[a])&&(t>e[a]?Fe(e,a)?La(e,2*a+2,t):Ue(e,a,t):He(e,a)?La(e,2*a+1,t):Xe(e,a,t))}function Na(e,a,t){for(var n=new Array(500);Qe(n.length-1)>t;){var c=m(y(e),a);n.fill(null),n[0]=y(a),c.forEach((function(e){La(n,0,e)}));for(var r=500;r>=0;r--)if(n[r]){n.length=r+1;break}}return n}function Ba(e,a,t,n){if(0===e.length)throw new Error("the length of bst is 0");(e[a]||0===e[a])&&(n.push([{type:r.Active,payload:a}]),n.push([{type:r.Deactive,payload:a}]),t>e[a]?!Fe(e,a)&&Qe(2*a+2)<=Ca.maxDeepth?n.push([{type:r.Add,payload:{value:t,index:2*a+2}}]):Ba(e,2*a+2,t,n):!He(e,a)&&Qe(2*a+1)<=Ca.maxDeepth?n.push([{type:r.Add,payload:{value:t,index:2*a+1}}]):Ba(e,2*a+1,t,n))}function Ta(e,a,t,n){if(0===e.length)throw new Error("the length of bst is 0");if(e[t])if(n.push([{type:r.Active,payload:t}]),n.push([{type:r.Deactive,payload:t}]),0===We(e,a))e[a]>e[t]?Fe(e,t)===e[a]?(n.push([{type:r.Active,payload:2*t+2}]),n.push([{type:r.Deactive,payload:2*t+2}]),n.push([{type:r.Disappear,payload:2*t+2}]),n.push([{type:r.Delete,payload:2*t+2}])):Ta(e,a,2*t+2,n):e[a]<e[t]?He(e,t)===e[a]?(n.push([{type:r.Active,payload:2*t+1}]),n.push([{type:r.Deactive,payload:2*t+1}]),n.push([{type:r.Disappear,payload:2*t+1}]),n.push([{type:r.Delete,payload:2*t+1}])):Ta(e,a,2*t+1,n):(n.push([{type:r.Active,payload:t}]),n.push([{type:r.Deactive,payload:t}]),n.push([{type:r.Disappear,payload:t}]),n.push([{type:r.Delete,payload:t}]));else if(1===We(e,a))if(e[a]>e[t])if(Fe(e,t)===e[a]){n.push([{type:r.Active,payload:2*t+2}]),n.push([{type:r.Deactive,payload:2*t+2}]),n.push([{type:r.Disappear,payload:2*t+2}]);var c=Ze(e,2*t+2)[0]||Ze(e,2*t+2)[1],o=Ye(e,c).map((function(e){return e.index})),s=Ye(e,c).map((function(e,t){return 0===t?a:"l"===e.dir?2*a+1:2*a+2}));n.push([{type:r.Move,payload:{oldIndexes:o,targetIndexes:s}}]),n.push([{type:r.Delete,payload:{oldIndexes:o,targetIndexes:s}}])}else Ta(e,a,2*t+2,n);else if(e[a]<e[t])if(He(e,t)===e[a]){n.push([{type:r.Active,payload:2*t+1}]),n.push([{type:r.Deactive,payload:2*t+1}]),n.push([{type:r.Disappear,payload:2*t+1}]);var i=Ze(e,2*t+1)[0]||Ze(e,2*t+1)[1],u=Ye(e,i).map((function(e){return e.index})),l=Ye(e,i).map((function(e,t){return 0===t?a:"l"===e.dir?2*a+1:2*a+2}));n.push([{type:r.Move,payload:{oldIndexes:u,targetIndexes:l}}]),n.push([{type:r.Delete,payload:u}])}else Ta(e,a,2*t+1,n);else{n.push([{type:r.Active,payload:t}]),n.push([{type:r.Deactive,payload:t}]),n.push([{type:r.Disappear,payload:t}]);var p=Ze(e,t)[0]||Ze(e,t)[1],d=Ye(e,p).map((function(e){return e.index})),j=Ye(e,p).map((function(e,t){return 0===t?a:"l"===e.dir?2*a+1:2*a+2}));n.push([{type:r.Move,payload:{oldIndexes:d,targetIndexes:j}}]),n.push([{type:r.Delete,payload:d}])}}function Va(e,a,t,n){if(0===e.length)throw new Error("the length of bst is 0");e[t]&&(n.push([{type:r.Active,payload:t}]),n.push([{type:r.Deactive,payload:t}]),a>e[t]?Fe(e,t)===a?(n.push([{type:r.Active,payload:2*t+2}]),n.push([{type:r.Deactive,payload:2*t+2}]),n.push([{type:r.Lock,payload:2*t+2}])):Va(e,a,2*t+2,n):a<e[t]?He(e,t)===a?(n.push([{type:r.Active,payload:2*t+1}]),n.push([{type:r.Deactive,payload:2*t+1}]),n.push([{type:r.Lock,payload:2*t+1}])):Va(e,a,2*t+1,n):(n.push([{type:r.Active,payload:t}]),n.push([{type:r.Deactive,payload:t}]),n.push([{type:r.Lock,payload:t}])))}var Ya={binaryTree:Na(Ca.geoNumRange,Ca.geoValueRange,Ca.maxDeepth),spheres:[],opeDetails:[],loading:!1,disappearAll:!1},Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case r.Loading:return Object(q.a)(Object(q.a)({},e),{},{loading:!0});case r.CancelLoading:return Object(q.a)(Object(q.a)({},e),{},{loading:!1});case r.Generate:return Object(q.a)(Object(q.a)({},e),{},{binaryTree:n,spheres:Ge(n),opeDetails:[{type:c.Default,payload:qe(n)}]});case r.Appear:return n||0===n?Object(q.a)({},e):Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{disappear:!1})})),disappearAll:!1});case r.Disappear:if(n||0===n){var o=We(e.binaryTree,n),s=Object(E.a)(e.spheres),i=Object(E.a)(e.binaryTree);if(0===o){s=s.map((function(e){return e.sortIndex===n?Object(q.a)(Object(q.a)({},e),{},{disappear:!0}):e}));var u=ze(n),l=e.binaryTree[u]>=e.binaryTree[n];return s=s.map((function(e){var a=Object(q.a)({},e);return e.sortIndex===u&&(l?a.lChildPos=null:a.rChildPos=null),a})),i[n]=null,Object(q.a)(Object(q.a)({},e),{},{spheres:s,opeDetails:[].concat(Object(E.a)(e.opeDetails),[{type:c.Delete,payload:{index:n,value:e.binaryTree[n],cur:Me(i)}}])})}if(1===o){s=s.map((function(e){return e.sortIndex===n?Object(q.a)(Object(q.a)({},e),{},{disappear:!0}):e}));Ze(e.binaryTree,n);var p=ze(n),d=e.binaryTree[p]>=e.binaryTree[n];return s=s.map((function(e){var a=Object(q.a)({},e);return e.sortIndex===p&&(d?a.lChildPos=null:a.rChildPos=null),a})),Object(q.a)(Object(q.a)({},e),{},{spheres:s})}return Object(q.a)({},e)}return Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{disappear:!0})})),disappearAll:!0});case r.Move:var j=n.oldIndexes,b=n.targetIndexes,O=e.spheres.map((function(e){var a=j.findIndex((function(a){return a===e.sortIndex}));return a>=0?Object(q.a)(Object(q.a)({},e),{},{sortIndexes:[].concat(Object(E.a)(e.sortIndexes),[b[a]]),indexDisappear:!0}):Object(q.a)({},e)})),v=Object(E.a)(e.binaryTree);return b.forEach((function(e,a){v[e]=v[j[a]]})),j.forEach((function(e){v[e]=null})),v=Me(v),Object(q.a)(Object(q.a)({},e),{},{spheres:O,binaryTree:v,opeDetails:[].concat(Object(E.a)(e.opeDetails),[{type:c.Delete,payload:{index:b[0],value:e.binaryTree[b[0]],cur:v}}])});case r.Delete:var h;h=g(n)?0:1;var f=Object(E.a)(e.spheres),x=Object(E.a)(e.binaryTree);if(0===h)return f=f.map((function(e){return e.sortIndex===n?Object(q.a)(Object(q.a)({},e),{},{value:null}):e})),x[n]=null,Object(q.a)(Object(q.a)({},e),{},{spheres:f,binaryTree:Me(x)});if(1===h){var y=n.oldIndexes,m=n.targetIndexes,D=Object(E.a)(e.spheres);return D=(D=D.map((function(a){return y.includes(a.sortIndex)?Object(q.a)(Object(q.a)({},a),{},{value:null}):m.includes(a.sortIndex)?Object(q.a)(Object(q.a)({},a),{},{value:e.binaryTree[a.sortIndex]}):a}))).map((function(e){return Object(q.a)(Object(q.a)({},e),{},{sortIndex:e.sortIndexes[e.sortIndexes.length-1]})})),console.log("delete"),Object(q.a)(Object(q.a)({},e),{},{spheres:D})}return Object(q.a)({},e);case r.Add:var S=n.value,I=n.index,A=Object(E.a)(e.spheres),P=ze(I),k=e.binaryTree[P],w=S<=k,R={value:S,sortIndex:I,sortIndexes:[I]};A[I]=R,A=Ee(A=A.map((function(e){return e.sortIndex===P?w?Object(q.a)(Object(q.a)({},e),{},{lChildPos:Ra[I]}):Object(q.a)(Object(q.a)({},e),{},{rChildPos:Ra[I]}):e})));var C=Object(E.a)(e.binaryTree);return C[I]=S,C=Me(C),Object(q.a)(Object(q.a)({},e),{},{binaryTree:C,spheres:A,opeDetails:[].concat(Object(E.a)(e.opeDetails),[{type:c.Add,payload:{index:n.index,value:n.value,cur:C}}])});case r.StartPreorder:return Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{isLock:!1})})),opeDetails:[].concat(Object(E.a)(e.opeDetails),[{type:c.PreOrderDetails,payload:n}])});case r.StartInOrder:return Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{isLock:!1,activeLeft:!1,activeRight:!1})})),opeDetails:[].concat(Object(E.a)(e.opeDetails),[{type:c.InOrderDetails,payload:n}])});case r.StartPostOrder:return Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{isLock:!1,activeLeft:!1,activeRight:!1})})),opeDetails:[].concat(Object(E.a)(e.opeDetails),[{type:c.PostOrderDetails,payload:n}])});case r.Active:return Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{isActive:n===e.sortIndex})}))});case r.ActiveLeft:return Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{activeLeft:n===e.sortIndex})}))});case r.ActiveRight:return Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{activeRight:n===e.sortIndex})}))});case r.Deactive:return Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{isActive:n!==e.sortIndex&&e.isActive})}))});case r.Lock:return Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return n===e.sortIndex?Object(q.a)(Object(q.a)({},e),{},{isLock:!0}):Object(q.a)({},e)}))});case r.UnLock:return Object(q.a)(Object(q.a)({},e),{},{spheres:e.spheres.map((function(e){return n||0===n?n===e.sortIndex?Object(q.a)(Object(q.a)({},e),{},{isLock:!1}):Object(q.a)({},e):Object(q.a)(Object(q.a)({},e),{},{isLock:!1})}))});default:return e}},Ma=function(e){var a=e.lChildPos,t=e.rChildPos,n=e.position,c=e.activeLeft,r=e.activeRight,s=e.disappear,i=e.sortIndex,u=e.sortIndexes,l=Object(o.useRef)(null),p=Ra[i][0],d=Ra[i][1],j=Ra[u[u.length-1]][0],b=Ra[u[u.length-1]][1];return Object(re.e)((function(){var e=Math.abs(p-j)/(Ca.animationSpeed/20),a=Math.abs(d-b)/(Ca.animationSpeed/20);e&&(p-j<0&&l.current.position.x<j?(l.current.translateX(e),l.current.position.x>=j&&(l.current.position.x=j)):p-j>0&&l.current.position.x>j&&(l.current.translateX(-e),l.current.position.x<=j&&(l.current.position.x=j))),a&&(d-b<0&&l.current.position.y<b?(l.current.translateY(a),l.current.position.y>=b&&(l.current.position.y=b)):d-b>0&&l.current.position.y>b&&(l.current.translateY(-a),l.current.position.y<=b&&(l.current.position.y=b)))})),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(sa,Object(q.a)({ref:l},e)),a&&Object(I.jsx)(ca,{hidden:s,points:[n,a],isActive:c}),t&&Object(I.jsx)(ca,{hidden:s,points:[n,t],isActive:r})]})};Ma.defaultProps={colorConfig:Object(q.a)(Object(q.a)({},ie),{},{lockColor:"#a69ad0"})};var qa=Ma,Ga=G.a.Step,za=function(){var e=Object(d.g)(),a=Object(o.useReducer)(Ea,Ya,(function(e){return Object(q.a)(Object(q.a)({},e),{},{spheres:Ge(Ya.binaryTree),opeDetails:[{type:c.Default,payload:qe(Ya.binaryTree)}]})})),t=Object(O.a)(a,2),n=t[0],i=t[1],u=Object(o.useState)(!1),l=Object(O.a)(u,2),p=l[0],j=l[1],b=function(){x(Ve(Na(Ca.geoNumRange,Ca.geoValueRange,Ca.maxDeepth)),Ca.animationSpeed,i)};return Object(o.useEffect)((function(){console.log(n.spheres.map((function(e,a){return{index:a,value:e.value,sortIndex:e.sortIndex,sortIndexes:e.sortIndexes.toString()}}))),console.log(n.binaryTree)}),[n.spheres]),Object(I.jsxs)("div",{className:"binarySearchTree-warp",children:[Object(I.jsx)(Y.a,{onBack:function(){e.replace(Ua),window.location.reload()},title:"\u4e8c\u53c9\u641c\u7d22\u6811"}),Object(I.jsxs)("div",{className:"main",children:[Object(I.jsx)(me,{onLoaded:function(){j(!0)},cameraPosZ:Ca.cameraPosZ,children:n.spheres.map((function(e,a){var t,c,r=null===(t=He(n.spheres,e.sortIndex))||void 0===t?void 0:t.value,o=null!==e.lChildPos&&He(Ra,e.sortIndex),i=null===(c=Fe(n.spheres,e.sortIndex))||void 0===c?void 0:c.value,u=null!==e.rChildPos&&Fe(Ra,e.sortIndex);return e.value&&Object(I.jsxs)(s.a.Fragment,{children:[Object(I.jsx)(qa,{value:e.value,sortIndex:e.sortIndex,sortIndexes:e.sortIndexes,position:Ra[e.sortIndex],isActive:e.isActive,activeLeft:e.activeLeft,activeRight:e.activeRight,isLock:e.isLock,disappear:e.disappear,lChildPos:r&&o,rChildPos:i&&u}),Object(I.jsx)(H.a,{position:[Ra[a][0],Ra[a][1]-1.2,Ra[a][2]],fontSize:.4,fillOpacity:e.indexDisappear||e.disappear||n.disappearAll?0:1,color:"black",children:e.sortIndex})]},"sphere"+e.sortIndex)}))}),Object(I.jsx)(ne,{style:{display:p?"flex":"none"},radioGroup:[1,1,1],addConfig:{hasIndex:!1,hasValue:!0,valueRange:Ca.geoValueRange,radioName:"\u6dfb\u52a0"},deleteConfig:{hasIndex:!0,hasValue:!1,indexRange:[0,n.binaryTree.length-1],radioName:"\u5220\u9664"},searchConfig:{hasIndex:!1,hasValue:!0,valueRange:Ca.geoValueRange,radioName:"\u67e5\u627e"},onSliderChange:function(e){Ca.animationSpeed=-7.95*e+1e3},onAdd:function(e,a){i({type:r.UnLock});var t=[];Ba(n.binaryTree,0,a,t),Qe(t[t.length-2][0].payload)===Ca.maxDeepth&&setTimeout((function(){M.b.warning("\u6dfb\u52a0\u5931\u8d25\uff0c\u4e8c\u53c9\u6811\u6700\u5927\u5c42\u6570\u4e3a".concat(Ca.maxDeepth+1))}),t.length*Ca.animationSpeed),x(t,Ca.animationSpeed,i)},onDelete:function(e){if(i({type:r.UnLock}),!n.binaryTree[e]&&0!==n.binaryTree[e])return M.b.warning("\u5220\u9664\u5931\u8d25\uff0c\u8f93\u5165\u7684\u7ed3\u70b9\u5e8f\u53f7\u4e0d\u5b58\u5728");var a=[];Ta(n.binaryTree,e,0,a),x(a,Ca.animationSpeed,i)},onSearch:function(e,a){i({type:r.UnLock});var t=[];Va(n.binaryTree,a,0,t),x(t,Ca.animationSpeed,i),n.binaryTree[[].concat(t).pop()[0].payload]!==a&&setTimeout((function(){M.b.warning("\u6ca1\u6709\u67e5\u627e\u5230\u53d6\u503c\u4e3a ".concat(a," \u7684\u5143\u7d20"))}),t.length*Ca.animationSpeed)},onRender:function(e){var a=Te(e);(console.log(a),a)?x(Ve(a),Ca.animationSpeed,i):M.b.warning('\u8f93\u5165\u7684\u6570\u636e\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u6309\u7167 "[1,3,8,2]" \u7c7b\u4f3c\u683c\u5f0f\u8f93\u5165')},spinning:n.loading,operation:Object(I.jsx)("div",{className:"btn-group",children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:b,children:"\u968f\u673a\u751f\u6210"}),Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:function(){var e=[];Je(n.binaryTree,0,e);var a=[];e.forEach((function(e){e[0].type===r.Active&&a.push(n.binaryTree[e[0].payload])})),i({type:r.StartPreorder,payload:a}),x(e,Ca.animationSpeed,i)},children:"\u524d\u5e8f\u904d\u5386"}),Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:function(){var e=[];Ke(n.binaryTree,0,e);var a=[];e.forEach((function(e){e[0].type===r.Active&&a.push(n.binaryTree[e[0].payload])})),i({type:r.StartInOrder,payload:a}),x(e,Ca.animationSpeed,i)},children:"\u4e2d\u5e8f\u904d\u5386"}),Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:function(){var e=[];$e(n.binaryTree,0,e);var a=[];e.forEach((function(e){e[0].type===r.Active&&a.push(n.binaryTree[e[0].payload])})),i({type:r.StartPostOrder,payload:a}),x(e,Ca.animationSpeed,i)},children:"\u540e\u5e8f\u904d\u5386"})]})}),displayer:Object(I.jsx)(G.a,{direction:"vertical",size:"small",current:n.opeDetails.length-1,children:n.opeDetails.map((function(e,a){var t=e.type,n=e.payload;switch(t){case c.InOrderDetails:return Object(I.jsx)(Ga,{title:"\u4e2d\u5e8f\u904d\u5386: [".concat(n,"]")},"step"+a);case c.PreOrderDetails:return Object(I.jsx)(Ga,{title:"\u524d\u5e8f\u904d\u5386: [".concat(n,"]")},"step"+a);case c.PostOrderDetails:return Object(I.jsx)(Ga,{title:"\u540e\u5e8f\u904d\u5386: [".concat(n,"]")},"step"+a);case c.Add:var r=n.index,o=n.value,s=n.cur;return Object(I.jsx)(Ga,{title:"\u65b0\u589e\u7ed3\u70b9: i=".concat(r,", v=").concat(o),description:"\u5f53\u524d\u4e8c\u53c9\u6811: ".concat(qe(s))},"step"+a);case c.Delete:var i=n.index,u=n.value,l=n.cur;return Object(I.jsx)(Ga,{title:"\u5220\u9664\u7ed3\u70b9: i=".concat(i,", v=").concat(u),description:"\u5f53\u524d\u4e8c\u53c9\u6811: ".concat(qe(l))},"step"+a);default:return Object(I.jsx)(Ga,{title:"\u5f53\u524d\u4e8c\u53c9\u6811: ".concat(n)},"step"+a)}}))}),children:Object(I.jsx)(ae,{icon:Object(I.jsx)(Z.a,{}),onClick:b,children:"\u968f\u673a\u751f\u6210"},"item1")})]})]})},Za={geoBaseDistance:2.5,geoNumRange:[3,5],geoValueRange:[0,90],geoBasePosY:2,cameraPosZ:19,animationSpeed:400},Ha=(G.a.Step,function(){var e=Object(d.g)(),a=Object(o.useState)(!1),t=Object(O.a)(a,2),n=(t[0],t[1],Object(o.useState)(!1)),c=Object(O.a)(n,2),r=c[0],s=c[1],i=function(){};return Object(I.jsxs)("div",{className:"hashTable-warp",children:[Object(I.jsx)(Y.a,{onBack:function(){e.goBack(),window.location.reload()},title:"\u54c8\u5e0c\u8868"}),Object(I.jsxs)("div",{className:"main",children:[Object(I.jsx)(me,{onLoaded:function(){s(!0)},cameraPosZ:Za.cameraPosZ}),Object(I.jsx)(ne,{style:{display:r?"flex":"none"},showSilider:!1,radioGroup:[1,1,1],operation:Object(I.jsx)("div",{className:"btn-group",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsx)(V.a,{icon:Object(I.jsx)(z.a,{}),onClick:i,children:"\u968f\u673a\u751f\u6210"})})}),displayer:Object(I.jsx)(G.a,{direction:"vertical",size:"small"}),children:Object(I.jsx)(ae,{icon:Object(I.jsx)(Z.a,{}),onClick:i,children:"\u968f\u673a\u751f\u6210"},"item1")})]})]})}),Fa=(t(216),{randomDone:!0});function Xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,a=arguments.length>1?arguments[1]:void 0,t=a.type;a.payload;switch(t){case r.Active:case r.Deactive:case r.Lock:case r.UnLock:return Object(q.a)({},e);case r.RandomDone:return Object(q.a)(Object(q.a)({},e),{},{randomDone:!0});case r.Random:return Object(q.a)(Object(q.a)({},e),{},{randomDone:!1});default:return e}}var Ua="/data-structure-visualization",Qa=[{path:Ua+"/home",page:T},{path:Ua+"/sort",page:Ce},{path:Ua+"/graph",page:function(){var e=Object(d.g)(),a=Object(o.useReducer)(Xa,Fa,(function(e){return Object(q.a)({},e)})),t=Object(O.a)(a,2),n=(t[0],t[1],Object(o.useState)(!1)),c=Object(O.a)(n,2),r=(c[0],c[1],Object(o.useState)(!1)),s=Object(O.a)(r,2),i=(s[0],s[1]);return Object(I.jsxs)("div",{className:"graph-warp",children:[Object(I.jsx)(Y.a,{onBack:function(){e.goBack(),window.location.reload()},title:"\u56fe"}),Object(I.jsx)("div",{className:"main",children:Object(I.jsx)(me,{onLoaded:function(){i(!0)}})})]})}},{path:Ua+"/queue",page:fa},{path:Ua+"/stack",page:ka},{path:Ua+"/binarySearchTree",page:za},{path:Ua+"/binaryHeap",page:la},{path:Ua+"/hashTable",page:Ha}],Wa=function(){return Object(I.jsxs)(p.a,{children:[Object(I.jsx)(d.d,{children:Qa.map((function(e,a){return 0===a?Object(I.jsx)(d.b,{path:e.path,component:e.page},a):Object(I.jsx)(d.b,{path:e.path+"",component:e.page},a)}))}),Object(I.jsx)(d.a,{to:Ua+"/home"})]})},Ja=(t(217),l.a.Header,l.a.Content);l.a.Footer;var Ka=function(){return Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(l.a,{className:"layout",children:Object(I.jsx)(Ja,{className:"content",children:Object(I.jsx)(Wa,{})})})})};u.a.render(Object(I.jsx)(Ka,{}),document.getElementById("root"))}},[[218,1,2]]]);
//# sourceMappingURL=main.3e293396.chunk.js.map