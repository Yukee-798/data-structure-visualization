(this["webpackJsonpdata-structure-visualization"]=this["webpackJsonpdata-structure-visualization"]||[]).push([[0],{185:function(e,t,a){},191:function(e,t,a){},194:function(e,t,a){},199:function(e,t,a){},228:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){"use strict";a.r(t);var n,c,r,s=a(0),o=a.n(s),i=a(34),l=a.n(i),u=(a(185),a(186),a(113)),p=a(176),d=a(25),j=(a(155),a(73)),b=(a(157),a(58)),O=a(12),h=a(55),v=(a(246),a(153));function f(e,t,a){return new Promise((function(n){a({type:r.Loading}),e.forEach((function(c,s){setTimeout((function(){c.forEach((function(e){a(e)})),s===e.length-1&&(n("Seq has been excuted."),a({type:r.CancelLoading}))}),s*t)}))}))}function x(e){return+(Math.random()*(e[1]-e[0])+e[0]).toFixed(0)}function y(e,t){for(var a=[],n=0;n<e;n++){for(var c=x(t);a.includes(c);)c=x(t);a.push(c)}return a}function g(){var e=Object(s.useState)(!1),t=Object(O.a)(e,2),a=t[0],n=t[1],c=Object(s.useRef)(),r=function(){return n(!0)},o=function(){return n(!1)};return Object(s.useEffect)((function(){var e=c.current;if(e)return e.addEventListener("mouseover",r),e.addEventListener("mouseout",o),function(){e.removeEventListener("mouseover",r),e.removeEventListener("mouseout",o)}}),[c.current]),[c,a]}!function(e){e[e.Sort=0]="Sort",e[e.LinkedList=1]="LinkedList",e[e.Queue=2]="Queue",e[e.Stack=3]="Stack",e[e.HashTable=4]="HashTable",e[e.BinarySearchTree=5]="BinarySearchTree",e[e.BinaryHeap=6]="BinaryHeap",e[e.AVLTree=7]="AVLTree",e[e.BTree=8]="BTree",e[e.BPlusTree=9]="BPlusTree",e[e.RedBlackTree=10]="RedBlackTree",e[e.Graph=11]="Graph"}(n||(n={})),function(e){e.Swap="\u4ea4\u6362",e.Add="\u65b0\u589e\u5143\u7d20",e.Delete="\u5220\u9664\u5143\u7d20",e.HeadInsert="\u5934\u90e8\u63d2\u5165",e.TailInsert="\u5c3e\u90e8\u63d2\u5165",e.Pop="\u5f39\u6808",e.Push="\u538b\u6808",e.Enqueue="\u5165\u961f",e.Dequeue="\u51fa\u961f",e.PreOrderDetails="\u524d\u5e8f\u904d\u5386",e.InOrderDetails="\u4e2d\u5e8f\u904d\u5386",e.PostOrderDetails="\u540e\u5e8f\u904d\u5386",e.Default="\u6570\u636e\u6e90"}(c||(c={})),function(e){e[e.Pop=0]="Pop",e[e.PopDone=1]="PopDone",e[e.Push=2]="Push",e[e.PushDone=3]="PushDone",e[e.Active=4]="Active",e[e.ActiveLeft=5]="ActiveLeft",e[e.ActiveRight=6]="ActiveRight",e[e.Deactive=7]="Deactive",e[e.Swap=8]="Swap",e[e.SwapDone=9]="SwapDone",e[e.Lock=10]="Lock",e[e.UnLock=11]="UnLock",e[e.SortDone=12]="SortDone",e[e.RandomDone=13]="RandomDone",e[e.Random=14]="Random",e[e.Add=15]="Add",e[e.AddDone=16]="AddDone",e[e.Delete=17]="Delete",e[e.DeleteDone=18]="DeleteDone",e[e.Search=19]="Search",e[e.Move=20]="Move",e[e.Enqueue=21]="Enqueue",e[e.Dequeue=22]="Dequeue",e[e.DequeueDone=23]="DequeueDone",e[e.Disappear=24]="Disappear",e[e.Appear=25]="Appear",e[e.HeadInsert=26]="HeadInsert",e[e.TailInsert=27]="TailInsert",e[e.ShowArrow=28]="ShowArrow",e[e.MoveDown=29]="MoveDown",e[e.MoveTop=30]="MoveTop",e[e.StartPreorder=31]="StartPreorder",e[e.StartInOrder=32]="StartInOrder",e[e.StartPostOrder=33]="StartPostOrder",e[e.Generate=34]="Generate",e[e.Loading=35]="Loading",e[e.CancelLoading=36]="CancelLoading"}(r||(r={}));a(191),a(192);var m=a(179),D=(a(194),a(2)),S=function(e){var t=e.type,a=e.color;return Object(D.jsx)(m.a,{color:a,children:t})};S.defaultProps={color:"geekblue"};var k=S,A=function(e){var t=e.title,a=e.src,n=e.tags,c=e.type,r=e.onClick,s=g(),o=Object(O.a)(s,2),i=o[0],l=o[1],u=Object(h.useSpring)({scale:l?1.05:1,config:h.config.stiff}).scale;return Object(D.jsx)(h.animated.div,{ref:i,className:"homeItem",style:{scale:u},children:Object(D.jsx)(v.a,{hoverable:!0,cover:Object(D.jsx)("img",{src:a,alt:"pic"}),onClick:function(){setTimeout((function(){null===r||void 0===r||r(c)}),250)},children:Object(D.jsx)(v.a.Meta,{title:t,description:null===n||void 0===n?void 0:n.map((function(e,t){return Object(D.jsx)(k,{type:e},t)}))})})})},P=a.p+"static/media/Sort.af83f2f6.jpg",I=a.p+"static/media/Stack.83affc03.jpg",L=a.p+"static/media/Queue.5d3f80d2.jpg",w=a.p+"static/media/BinarySearchTree.0ea5af15.jpg",C=a.p+"static/media/84993086_p0.33708829.jpg",T=[[{src:P,tags:["\u6570\u7ec4","\u5192\u6ce1","\u9009\u62e9","\u63d2\u5165","\u5feb\u6392","\u5f52\u5e76"],title:"\u6392\u5e8f",type:n.Sort},{src:I,tags:["\u6808","\u538b\u6808","\u5f39\u6808"],title:"\u6808",type:n.Stack},{src:L,tags:["\u961f\u5217","\u5165\u961f","\u51fa\u961f"],title:"\u961f\u5217",type:n.Queue},{src:C,tags:["\u4e8c\u53c9\u5806"],title:"\u4e8c\u53c9\u5806",type:n.BinaryHeap}],[{src:w,tags:["\u4e8c\u53c9\u641c\u7d22\u6811","\u904d\u5386"],title:"\u4e8c\u53c9\u641c\u7d22\u6811",type:n.BinarySearchTree},{src:C,tags:["\u54c8\u5e0c\u8868"],title:"\u54c8\u5e0c\u8868",type:n.HashTable},{src:C,tags:["\u56fe\u8bba"],title:"\u56fe\u7ed3\u6784",type:n.Graph}]],R=(a(199),function(){var e=Object(d.g)(),t=Object(s.useState)(!1),a=Object(O.a)(t,2),c=a[0],r=a[1],o=function(t){switch(t){case n.Sort:return e.push(Ut+"/sort");case n.LinkedList:return e.push(Ut+"/linkedList");case n.Stack:return e.push(Ut+"/stack");case n.Queue:return e.push(Ut+"/queue");case n.HashTable:return e.push(Ut+"/hashTable");case n.BinarySearchTree:return e.push(Ut+"/binarySearchTree");case n.BinaryHeap:return e.push(Ut+"/binaryHeap");case n.AVLTree:return e.push(Ut+"/avlTree");case n.RedBlackTree:return e.push(Ut+"/redBlackTree");case n.BTree:return e.push(Ut+"/bTree");case n.BPlusTree:return e.push(Ut+"/bPlusTree");case n.Graph:return e.push(Ut+"/graph")}},i=Object(h.useSpring)({from:{size:"20%",opacity:"0"},to:{size:c?"20%":"100%",opacity:c?"0":"1"},config:h.config.stiff}),l=i.size,u=i.opacity;return Object(D.jsx)("div",{className:"home-warp",children:T.map((function(e,t){return Object(D.jsx)(j.a,{gutter:{xs:8,sm:16,md:24},children:e.map((function(e,a){return Object(D.jsx)(b.a,{xs:12,sm:12,md:6,lg:6,xl:6,children:Object(D.jsx)(h.animated.div,{className:"homeItem-warp",style:{width:l,height:l,opacity:u},onClick:function(){return r(!0)},children:Object(D.jsx)(A,{src:e.src,tags:e.tags,title:e.title,type:e.type,onClick:o})})},t+"&"+a)}))},t+"&")}))})}),B=(a(63),a(27)),N=(a(74),a(51)),V=a(14),Y=(a(97),a(41)),E=a(1),M=(a(98),a(50)),q=a(259),z=a(260),H=a(254),Z=(a(147),a(91)),U=(a(217),a(177)),G=(a(219),a(172)),X=(a(164),a(133)),F=(a(222),a(114)),Q=(a(224),a(115)),W=(a(226),a(178)),J=(a(162),a(79)),_=a(110),K=a(258),$=(a(228),J.a.Item),ee=J.a.SubMenu,te=function(e){var t,a=e.children,n=e.style,c=e.operation,r=e.displayer,o=e.drawerHeight,i=e.showSilider,l=e.addText,u=e.defaultIndex,p=e.defaultSearchValue,d=(e.valueRange,e.indexRange,e.defaultValue),j=e.deleteText,b=e.isUpdate,v=e.isAddIndex,f=e.isDeleteIndex,x=e.isSearch,y=e.spinning,m=e.onSliderChange,S=e.onAdd,k=e.onDelete,A=e.onSearch,P=e.onIndexChange,I=e.onValueChange,L=e.onSearchValueChange,w=e.onRenderChange,C=e.onRender,T=g(),R=Object(O.a)(T,2),N=R[0],V=R[1],Y=g(),M=Object(O.a)(Y,2),q=M[0],z=M[1],H=Object(s.useState)(!1),ee=Object(O.a)(H,2),te=ee[0],ae=ee[1],ne=Object(s.useState)(d||8),ce=Object(O.a)(ne,2),re=ce[0],se=ce[1],oe=Object(s.useState)(u||0),ie=Object(O.a)(oe,2),le=ie[0],ue=ie[1],pe=Object(s.useState)(p||32),de=Object(O.a)(pe,2),je=de[0],be=de[1],Oe=Object(s.useState)(""),he=Object(O.a)(Oe,2),ve=he[0],fe=he[1],xe=Object(s.useState)(1),ye=Object(O.a)(xe,2),ge=ye[0],me=ye[1],De=Object(s.useRef)(),Se=Object(h.useSpring)({leftOpacity:V?.7:.2,renderOpacity:z?.7:.2,config:h.config.gentle}),ke=Se.leftOpacity,Ae=Se.renderOpacity;return Object(s.useEffect)((function(){De.current&&(De.current.scrollTop=De.current.scrollHeight)}),[null===(t=De.current)||void 0===t?void 0:t.scrollHeight]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(h.animated.div,{className:"console-left",ref:N,style:Object(E.a)(Object(E.a)({},n),{},{opacity:ke}),children:[Object(D.jsxs)(J.a,{className:"console",mode:"inline",theme:"dark",inlineCollapsed:!0,selectable:!1,style:{display:te?"none":"inline-block"},children:[Object(D.jsx)($,{icon:Object(D.jsx)(K.a,{}),onClick:function(){ae(!0)},children:"\u5c55\u5f00\u64cd\u4f5c\u53f0"},"item0"),a]}),Object(D.jsxs)(U.a,{className:"console-drawer",title:"\u64cd\u4f5c\u53f0",height:o,visible:te,placement:"bottom",mask:!1,onClose:function(){ae(!1)},children:[Object(D.jsxs)("div",{className:"operation",children:[i&&Object(D.jsxs)("div",{className:"slider-warp",children:["\u52a8\u753b\u901f\u5ea6\uff1a",Object(D.jsx)(W.a,{className:"slider",defaultValue:32,onChange:function(e){return null===m||void 0===m?void 0:m(e)}})]}),Object(D.jsx)(X.a,{tip:"\u64cd\u4f5c\u6267\u884c\u4e2d...",spinning:y,indicator:Object(D.jsx)(_.a,{style:{fontSize:40},spin:!0}),children:Object(D.jsxs)("div",{className:"operation-main",children:[c,b&&Object(D.jsxs)("div",{className:"input-group",children:[Object(D.jsxs)(Q.a.Group,{className:"radio-group",defaultValue:1,onChange:function(e){return me(e.target.value)},children:[Object(D.jsx)(Q.a,{value:1,children:l}),Object(D.jsx)(Q.a,{value:2,children:j}),x&&Object(D.jsx)(Q.a,{value:3,children:"\u67e5\u627e"})]}),Object(D.jsxs)("div",{className:"label-group",children:[1===ge?Object(D.jsxs)(D.Fragment,{children:[v&&Object(D.jsxs)("label",{children:[Object(D.jsx)("span",{className:"label-name",children:"\u5e8f\u53f7:"}),Object(D.jsx)(F.a,{defaultValue:u,onChange:function(e){ue(e),null===P||void 0===P||P(e)}})]}),Object(D.jsxs)("label",{children:[Object(D.jsx)("span",{className:"label-name",children:"\u6570\u503c:"}),Object(D.jsx)(F.a,{defaultValue:d,onChange:function(e){se(e),null===I||void 0===I||I(e)}})]})]}):2===ge?f&&Object(D.jsxs)("label",{children:[Object(D.jsx)("span",{className:"label-name",children:"\u5e8f\u53f7:"}),Object(D.jsx)(F.a,{defaultValue:u,onChange:function(e){ue(e),null===P||void 0===P||P(e)}})]}):x&&Object(D.jsxs)("label",{children:[Object(D.jsx)("span",{className:"label-name",children:"\u6570\u503c:"}),Object(D.jsx)(F.a,{defaultValue:p,onChange:function(e){be(e),null===L||void 0===L||L(e)}})]}),1===ge&&Object(D.jsx)(B.a,{type:"primary",onClick:function(){return null===S||void 0===S?void 0:S(re,le)},children:l}),2===ge&&Object(D.jsx)(B.a,{type:"primary",onClick:function(){return null===k||void 0===k?void 0:k(le)},children:j}),3===ge&&Object(D.jsx)(B.a,{type:"primary",onClick:function(){return null===A||void 0===A?void 0:A(je)},children:"\u67e5\u627e"})]})]})]})})]}),Object(D.jsx)(G.a,{className:"divider",type:"vertical"}),Object(D.jsx)("div",{className:"displayer",children:Object(D.jsx)("div",{className:"content",ref:De,children:r})})]})]}),Object(D.jsxs)(h.animated.div,{className:"console-render",ref:q,style:Object(E.a)(Object(E.a)({},n),{},{opacity:Ae}),children:[Object(D.jsx)(Z.a,{bordered:!1,onChange:function(e){fe(e.target.value.trim()),null===w||void 0===w||w(e.target.value.trim())}}),Object(D.jsx)(B.a,{type:"primary",onClick:function(){null===C||void 0===C||C(ve)},children:"\u6e32\u67d3"})]})]})};te.defaultProps={showSilider:!0,addText:"\u6dfb\u52a0",deleteText:"\u5220\u9664",defaultIndex:2,defaultValue:3,defaultSearchValue:27,valueRange:[3,90],indexRange:[0,10],isUpdate:!0,isSearch:!1,isAddIndex:!0,isDeleteIndex:!0,spinning:!1};var ae=te,ne=a(20),ce=a(29),re=a(248),se=a(54),oe={defaultColor:"wheat",activeColor:"orange",hoverColor:"skyblue",lockColor:"#8076a3"},ie=Object(s.forwardRef)((function(e,t){var a=e.args,n=e.position,c=e.isActive,r=e.isLock,o=e.value,i=e.colorConfig,l=e.disappear,u=Object(s.useState)(!1),p=Object(O.a)(u,2),d=p[0],j=p[1],b=Object(s.useState)(!1),h=Object(O.a)(b,2),v=h[0],f=h[1],x=Object(s.useRef)(null),y=Object(se.useSpring)({reverse:l,from:{scale:0},to:{scale:v?1.1:1},config:l?se.config.default:se.config.wobbly}).scale,g=Object(se.useSpring)({color:v?null===i||void 0===i?void 0:i.activeColor:d?null===i||void 0===i?void 0:i.hoverColor:r?null===i||void 0===i?void 0:i.lockColor:null===i||void 0===i?void 0:i.defaultColor}).color;return Object(s.useEffect)((function(){f(!!c)}),[c]),Object(D.jsxs)(se.animated.mesh,{scale:y,position:n,ref:t,children:[Object(D.jsx)(H.a,{fontSize:.5,color:"black",children:o}),Object(D.jsx)(re.a,{args:a,ref:x,onClick:function(){return f(!v)},onPointerOver:function(){return j(!0)},onPointerOut:function(){return j(!1)},children:Object(D.jsx)(se.animated.meshPhongMaterial,{color:g,opacity:.5,transparent:!0})})]})}));ie.defaultProps={colorConfig:oe};var le=ie,ue={geoBaseDistance:2,geoNumRange:[3,7],geoValueRange:[3,37],geoBasePosY:0,cameraPosZ:19,animationSpeed:400},pe=function(e){var t=e.sortIndexes,a=e.sortIndex,n=e.startPosX,c=e.value,r=Object(ne.a)(e,["sortIndexes","sortIndex","startPosX","value"]),o=Object(s.useRef)(null),i=function(e){return n+e*ue.geoBaseDistance},l=i(a),u=i(t[t.length-1]);return Object(ce.e)((function(){var e=Math.abs(l-u)/(ue.animationSpeed/20);e&&(l-u<0&&o.current.position.x<u?(o.current.translateX(e),o.current.position.x>=u&&(o.current.position.x=u)):l-u>0&&o.current.position.x>u&&(o.current.translateX(-e),o.current.position.x<=u&&(o.current.position.x=u)))})),Object(D.jsx)(le,Object(E.a)({args:[1,c?.2*c:0,1],value:c,ref:o},r))};pe.defaultProps={colorConfig:{defaultColor:"wheat",activeColor:"orange",hoverColor:"skyblue",lockColor:"#8076a3"}};var de=o.a.memo(pe),je=a(249),be=a(250),Oe=a(256),he=a(257),ve=a(255);a(241);function fe(e){var t=Object(je.a)().progress,a=e.onLoaded;return Object(s.useEffect)((function(){100===t&&(null===a||void 0===a||a())}),[t]),Object(D.jsx)(be.a,{center:!0,style:{marginTop:"200px"},children:Object(D.jsx)(X.a,{size:"large"})})}var xe=function(e){var t=e.children,a=e.cameraPosZ,n=e.onLoaded,c=Object(s.useRef)(null);return Object(D.jsx)("div",{className:"scene3d-warp",children:Object(D.jsxs)(ce.a,{children:[Object(D.jsx)(Oe.a,{ref:c,makeDefault:!0,position:[0,0,a]}),Object(D.jsx)("ambientLight",{intensity:.3}),Object(D.jsx)("directionalLight",{color:"white",position:[1,1,1]}),Object(D.jsxs)(s.Suspense,{fallback:Object(D.jsx)(fe,{onLoaded:n}),children:[t,Object(D.jsx)(he.a,{maxDistance:30}),Object(D.jsx)(ve.a,{background:!0,files:["ev.jpg","ev.jpg","ev.jpg","ev.jpg","ev.jpg","ev.jpg"],path:"./"})]})]})})};xe.defaultProps={cameraPosZ:16};var ye=xe,ge=function(e){for(var t=0;t<e.length-1;t++)if(e[t]>e[t+1])return!1;return!0};function me(e){return e.map((function(e,t){return{value:e,isActive:!1,isLock:!1,disappear:!1,sortIndexes:[t],sortIndex:t}}))}function De(e){return-(e-1)*ue.geoBaseDistance/2}function Se(e){var t=[];return t.push([{type:r.Disappear}]),t.push([{type:r.Generate,payload:e},{type:r.Appear}]),t}function ke(e,t,a,n){if(ge(e))return n.push([{type:r.Lock}]);if(!(t>=a)){for(var c=t-1,s=a+1,o=e[t+a>>1];c<s;){do{c++,n.push([{type:r.Active,payload:[c]}]),n.push([{type:r.Deactive,payload:[c]}])}while(e[c]<o);do{s--,n.push([{type:r.Active,payload:[s]}]),n.push([{type:r.Deactive,payload:[s]}])}while(e[s]>o);if(c<s){n.push([{type:r.Swap,payload:[c,s]}]);var i=e[c];e[c]=e[s],e[s]=i,n.push([{type:r.SwapDone,payload:[c,s]}])}}ke(e,t,s,n),ke(e,s+1,a,n)}}var Ae={values:y(x(ue.geoNumRange),ue.geoValueRange),cubes:[],loading:!1,disappearAll:!1,startPosX:0,opeDetails:[]},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case r.Loading:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case r.CancelLoading:return Object(E.a)(Object(E.a)({},e),{},{loading:!1});case r.Generate:return Object(E.a)(Object(E.a)({},e),{},{values:n,cubes:me(n),startPosX:De(n.length),opeDetails:[{type:c.Default,payload:n}]});case r.Appear:return n||0===n?Object(E.a)({},e):Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{disappear:!1})})),disappearAll:!1});case r.Disappear:return n||0===n?Object(E.a)({},e):Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{disappear:!0})})),disappearAll:!0});case r.Active:return Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return(null===n||void 0===n?void 0:n.includes(e.sortIndexes[e.sortIndexes.length-1]))?Object(E.a)(Object(E.a)({},e),{},{isActive:!0}):Object(E.a)({},e)})),sortDone:!1});case r.Deactive:return Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return(null===n||void 0===n?void 0:n.includes(e.sortIndexes[e.sortIndexes.length-1]))?Object(E.a)(Object(E.a)({},e),{},{isActive:!1}):Object(E.a)({},e)}))});case r.Lock:return n||0===n?Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return(null===n||void 0===n?void 0:n.includes(e.sortIndexes[e.sortIndexes.length-1]))?Object(E.a)(Object(E.a)({},e),{},{isLock:!0}):Object(E.a)({},e)}))}):Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLock:!0})}))});case r.UnLock:return Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return(null===n||void 0===n?void 0:n.includes(e.sortIndexes[e.sortIndexes.length-1]))?Object(E.a)(Object(E.a)({},e),{},{isLock:!1}):Object(E.a)({},e)}))});case r.Swap:var s=n[0],o=n[1],i=e.cubes.map((function(e){var t=e.sortIndexes[e.sortIndexes.length-1];if(t===s){var a=[].concat(Object(V.a)(e.sortIndexes),[o]);return Object(E.a)(Object(E.a)({},e),{},{sortIndexes:a})}if(t===o){var n=[].concat(Object(V.a)(e.sortIndexes),[s]);return Object(E.a)(Object(E.a)({},e),{},{sortIndexes:n})}return Object(E.a)({},e)})),l=Object(V.a)(e.values),u=l[s];l[s]=l[o],l[o]=u;var p={type:c.Swap,payload:{indexes:[s,o],curValues:Object(V.a)(l)}};return Object(E.a)(Object(E.a)({},e),{},{cubes:i,opeDetails:[].concat(Object(V.a)(e.opeDetails),[p]),values:l});case r.SwapDone:var d=e.cubes.map((function(e){var t=e.sortIndexes[e.sortIndexes.length-1];return e.sortIndex!==t?Object(E.a)(Object(E.a)({},e),{},{sortIndex:t}):Object(E.a)({},e)}));return Object(E.a)(Object(E.a)({},e),{},{cubes:d});case r.SortDone:return Object(E.a)(Object(E.a)({},e),{},{sortDone:!0});case r.Move:var j,b=n.oldIndexes,O=n.targetIndexes,h=e.cubes.map((function(e){var t=b.findIndex((function(t){return t===e.sortIndex}));return t>=0?Object(E.a)(Object(E.a)({},e),{},{sortIndexes:[].concat(Object(V.a)(e.sortIndexes),[O[t]])}):Object(E.a)({},e)})),v=Object(V.a)(e.values);return O[0]>b[0]?v.push(-1):(v.splice(b[0],1),j={type:c.Delete,payload:{index:b[0],value:e.values[b[0]],curValues:Object(V.a)(v)}}),Object(E.a)(Object(E.a)({},e),{},{cubes:h,values:v,opeDetails:j?[].concat(Object(V.a)(e.opeDetails),[j]):Object(V.a)(e.opeDetails)});case r.AddDone:var f=n.newEle,x=n.targetIndex,y={sortIndex:x,sortIndexes:[x],value:f},g=e.cubes.map((function(e,t){var a=e.sortIndex,n=e.sortIndexes[e.sortIndexes.length-1];return a!==n?Object(E.a)(Object(E.a)({},e),{},{sortIndex:n}):Object(E.a)({},e)}));g.push(y);var m=Object(V.a)(e.values);m.splice(x,0,f),m.pop();var D={type:c.Add,payload:{index:x,value:f,curValues:Object(V.a)(m)}};return Object(E.a)(Object(E.a)({},e),{},{cubes:g,values:m,opeDetails:[].concat(Object(V.a)(e.opeDetails),[D])});case r.Delete:var S=e.cubes.map((function(e){return e.sortIndex===n?Object(E.a)(Object(E.a)({},e),{},{disappear:!0}):Object(E.a)({},e)}));return Object(E.a)(Object(E.a)({},e),{},{cubes:S});case r.DeleteDone:var k=Object(V.a)(e.cubes);return k.splice(n,1),k=e.cubes.map((function(e){var t=e.sortIndex,a=e.sortIndexes[e.sortIndexes.length-1];return t!==a?Object(E.a)(Object(E.a)({},e),{},{sortIndex:a}):Object(E.a)({},e)})),Object(E.a)(Object(E.a)({},e),{},{cubes:k});default:return e}},Ie=M.a.Step,Le=function(){var e=Object(d.g)(),t=Object(s.useReducer)(Pe,Ae,(function(e){return Object(E.a)(Object(E.a)({},e),{},{cubes:me(e.values),startPosX:De(e.values.length),opeDetails:[{type:c.Default,payload:Ae.values}]})})),a=Object(O.a)(t,2),n=a[0],o=a[1],i=Object(s.useState)(!1),l=Object(O.a)(i,2),u=l[0],p=l[1],j=function(){f(Se(y(x(ue.geoNumRange),ue.geoValueRange)),ue.animationSpeed,o)},b=function(){f(function(e){if(ge(e))return[[{type:r.Lock}]];for(var t=Object(V.a)(e),a=[],n=t.length-1;n>=0;n--){for(var c=0;c<n;c++){if(a.push([{type:r.Active,payload:[c,c+1]}]),t[c]>t[c+1]){var s=t[c];t[c]=t[c+1],t[c+1]=s,a.push([{type:r.Swap,payload:[c,c+1]}]),a.push([{type:r.SwapDone,payload:[c,c+1]}])}a.push([{type:r.Deactive,payload:[c,c+1]}])}a.push([{type:r.Lock,payload:[n]}])}return a.push([{type:r.SortDone}]),a}(n.values),ue.animationSpeed,o)},h=function(){f(function(e){if(ge(e))return[[{type:r.Lock}]];for(var t=Object(V.a)(e),a=[],n=t.length-1;n>=0;n--){for(var c=-1/0,s=-1,o=0;o<=n;o++)a.push([{type:r.Active,payload:[o]}]),t[o]>c&&(a.push([{type:r.UnLock,payload:[s]}]),c=t[o],s=o,a.push([{type:r.Lock,payload:[o]}])),a.push([{type:r.Deactive,payload:[o]}]);a.push([{type:r.Lock,payload:[s]}]);var i=t[n];t[n]=c,t[s]=i,a.push([{type:r.Swap,payload:[s,n]}]),a.push([{type:r.SwapDone,payload:[s,n]}])}return a.push([{type:r.SortDone}]),a}(n.values),ue.animationSpeed,o)},v=function(){var e=[];ke(Object(V.a)(n.values),0,n.values.length-1,e),f(e,ue.animationSpeed,o)};return Object(D.jsxs)("div",{className:"sort-warp",children:[Object(D.jsx)(N.a,{onBack:function(){e.replace(Ut),window.location.reload()},title:"\u6392\u5e8f"}),Object(D.jsxs)("div",{className:"main",children:[Object(D.jsxs)(ye,{onLoaded:function(){p(!0)},cameraPosZ:ue.cameraPosZ,children:[n.cubes.map((function(e,t){return Object(D.jsx)(de,{sortIndexes:e.sortIndexes,sortIndex:e.sortIndex,value:e.value,startPosX:n.startPosX,isActive:e.isActive,isLock:e.isLock,position:[n.startPosX+e.sortIndex*ue.geoBaseDistance,.2*e.value/2+ue.geoBasePosY,0],disappear:e.disappear},t+"@")})),n.values.map((function(e,t){return Object(D.jsx)(H.a,{fillOpacity:n.disappearAll?0:1,color:"black",fontSize:.5,position:[n.startPosX+t*ue.geoBaseDistance,-1+ue.geoBasePosY,0],children:t},t+"*")}))]}),Object(D.jsxs)(ae,{style:{display:u?"flex":"none"},onSliderChange:function(e){},onAdd:function(e,t){n.values.length<ue.geoNumRange[1]+3?t>n.values.length-1||t<0?Y.b.warning("\u8f93\u5165\u7684\u5e8f\u53f7\u4e0d\u5408\u6cd5"):f(function(e,t,a){var n=[],c=[];e.forEach((function(e,t){t>=a&&c.push(t)}));var s=[];return c.forEach((function(e){s.push(e+1)})),n.push([{type:r.Active,payload:c}]),n.push([{type:r.Move,payload:{oldIndexes:c,targetIndexes:s}}]),n.push([{type:r.Deactive,payload:s}]),n.push([{type:r.AddDone,payload:{newEle:t,targetIndex:a}}]),n}(n.values,e,t),ue.animationSpeed,o):Y.b.warning("\u6dfb\u52a0\u5931\u8d25\uff0c\u6570\u7ec4\u6700\u5927\u5bb9\u91cf\u4e3a".concat(ue.geoNumRange[1]+3))},onDelete:function(e){n.values.length>0?e>n.values.length-1||e<0?Y.b.warning("\u8f93\u5165\u7684\u5e8f\u53f7\u4e0d\u5408\u6cd5"):f(function(e,t){var a=[],n=[];e.forEach((function(e,a){a>=t&&n.push(a)}));var c=[];return n.forEach((function(e){c.push(e-1)})),a.push([{type:r.Delete,payload:t}]),a.push([{type:r.Active,payload:n}]),a.push([{type:r.Move,payload:{oldIndexes:n,targetIndexes:c}}]),a.push([{type:r.Deactive,payload:c}]),a.push([{type:r.DeleteDone,payload:t}]),a}(n.values,e),ue.animationSpeed,o):Y.b.warning("\u5220\u9664\u5931\u8d25\uff0c\u5f53\u524d\u6570\u7ec4\u4e3a\u7a7a")},indexRange:[0,10],valueRange:[3,35],spinning:n.loading,onRender:function(e){var t=function(e){var t=e.substring(1,e.length-1).split(/[,\uff0c]/g).map((function(e){return+e}));return/\[\s*\]/g.test(e)?"\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a":t}(e);Array.isArray(t)?f(Se(t),ue.animationSpeed,o):Y.b.warning(t)},operation:Object(D.jsxs)("div",{className:"btn-group",children:[Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:j,children:"\u968f\u673a\u751f\u6210"}),Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:b,children:"\u5192\u6ce1\u6392\u5e8f"}),Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:h,children:"\u9009\u62e9\u6392\u5e8f"})]}),Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),children:"\u63d2\u5165\u6392\u5e8f"}),Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:v,children:"\u5feb\u901f\u6392\u5e8f"}),Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),children:"\u5f52\u5e76\u6392\u5e8f"})]})]}),displayer:Object(D.jsx)(M.a,{direction:"vertical",size:"small",current:n.opeDetails.length-1,children:n.opeDetails.map((function(e,t){var a=e.type,n=e.payload;switch(a){case c.Swap:return Object(D.jsx)(Ie,{title:"\u4ea4\u6362\u5143\u7d20: i1=".concat(n.indexes[0],", i2=").concat(n.indexes[1]),description:"\u5f53\u524d\u6570\u7ec4: [".concat(n.curValues.toString(),"]")},t+"step");case c.Add:return Object(D.jsx)(Ie,{title:"\u65b0\u589e\u5143\u7d20: i=".concat(n.index,", v=").concat(n.value),description:"\u5f53\u524d\u6570\u7ec4: [".concat(n.curValues.toString(),"]")},t+"step");case c.Delete:return Object(D.jsx)(Ie,{title:"\u5220\u9664\u5143\u7d20: i=".concat(n.index,", v=").concat(n.value),description:"\u5f53\u524d\u6570\u7ec4: [".concat(n.curValues.toString(),"]")},t+"step");default:return Object(D.jsx)(Ie,{title:"\u5f53\u524d\u6570\u7ec4: [".concat(n.toString(),"]")},t+"step")}}))}),children:[Object(D.jsx)($,{icon:Object(D.jsx)(z.a,{}),onClick:j,children:"\u968f\u673a\u751f\u6210"},"item1"),Object(D.jsxs)(ee,{icon:Object(D.jsx)(q.a,{}),title:"\u6392\u5e8f",children:[Object(D.jsx)($,{onClick:b,children:"\u5192\u6ce1\u6392\u5e8f"}),Object(D.jsx)($,{onClick:h,children:"\u9009\u62e9\u6392\u5e8f"}),Object(D.jsx)($,{children:"\u63d2\u5165\u6392\u5e8f"}),Object(D.jsx)($,{onClick:v,children:"\u5feb\u901f\u6392\u5e8f"}),Object(D.jsx)($,{children:"\u5f52\u5e76\u6392\u5e8f"})]},"item2")]})]})]})},we={geoBaseDistance:2,geoNumRange:[5,15],geoValueRange:[10,70],geoBasePosY:3,cameraPosZ:21,animationSpeed:400,maxDeepth:3},Ce=[[0,5+we.geoBasePosY,0],[-4,2+we.geoBasePosY,0],[4,2+we.geoBasePosY,0],[-6,-1+we.geoBasePosY,0],[-2,-1+we.geoBasePosY,0],[2,-1+we.geoBasePosY,0],[6,-1+we.geoBasePosY,0],[-7,-4+we.geoBasePosY,0],[-5,-4+we.geoBasePosY,0],[-3,-4+we.geoBasePosY,0],[-1,-4+we.geoBasePosY,0],[1,-4+we.geoBasePosY,0],[3,-4+we.geoBasePosY,0],[5,-4+we.geoBasePosY,0],[7,-4+we.geoBasePosY,0]],Te=we,Re={binaryTree:[],spheres:[],opeDetails:[],randomDone:!0},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case r.Move:return Object(E.a)({},e);case r.StartPreorder:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLock:!1})})),opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.PreOrderDetails,payload:n}])});case r.StartInOrder:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLock:!1,activeLeft:!1,activeRight:!1})})),opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.InOrderDetails,payload:n}])});case r.StartPostOrder:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLock:!1,activeLeft:!1,activeRight:!1})})),opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.PostOrderDetails,payload:n}])});case r.Active:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isActive:n===e.sortIndex})}))});case r.ActiveLeft:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{activeLeft:n===e.sortIndex})}))});case r.ActiveRight:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{activeRight:n===e.sortIndex})}))});case r.Deactive:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isActive:n!==e.sortIndex&&e.isActive})}))});case r.Lock:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return n===e.sortIndex?Object(E.a)(Object(E.a)({},e),{},{isLock:!0}):Object(E.a)({},e)}))});case r.UnLock:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return n||0===n?n===e.sortIndex?Object(E.a)(Object(E.a)({},e),{},{isLock:!1}):Object(E.a)({},e):Object(E.a)(Object(E.a)({},e),{},{isLock:!1})}))});case r.Random:return Object(E.a)(Object(E.a)({},e),{},{randomDone:!1});case r.RandomDone:return Object(E.a)({},e);default:return e}},Ne=a(252),Ve=function(e){var t=e.points,a=e.hidden,n=e.lineWidth,c=e.isActive;return Object(D.jsx)(Ne.a,{lineWidth:n,points:t,color:c?"orange":"gray",opacity:a?0:1,transparent:!0})};Ve.defaultProps={lineWidth:1.5};var Ye=Ve,Ee=a(251),Me=Object(s.forwardRef)((function(e,t){var a=e.position,n=e.value,c=e.isActive,r=e.isLock,o=e.colorConfig,i=e.disappear,l=Object(s.useState)(!1),u=Object(O.a)(l,2),p=u[0],d=u[1],j=Object(s.useState)(!1),b=Object(O.a)(j,2),h=b[0],v=b[1],f=Object(s.useRef)(null),x=Object(se.useSpring)({color:h?null===o||void 0===o?void 0:o.activeColor:p?null===o||void 0===o?void 0:o.hoverColor:r?null===o||void 0===o?void 0:o.lockColor:null===o||void 0===o?void 0:o.defaultColor}).color,y=Object(se.useSpring)({reverse:i,from:{scale:0},to:{scale:h?1.2:1},config:i?se.config.default:se.config.wobbly}).scale;return Object(s.useEffect)((function(){v(!!c)}),[c]),Object(D.jsx)(se.animated.mesh,{position:a,ref:t,scale:y,children:Object(D.jsxs)(Ee.a,{ref:f,args:[.7,10],onClick:function(){return v(!h)},onPointerOver:function(){return d(!0)},onPointerOut:function(){return d(!1)},children:[Object(D.jsx)(H.a,{position:[0,0,.7],fontSize:.5,color:"black",children:n}),Object(D.jsx)(se.animated.meshPhongMaterial,{color:x,opacity:1})]})})}));Me.defaultProps={colorConfig:oe};var qe=Me,ze=function(e){var t=e.lChildPos,a=e.rChildPos,n=e.position,c=e.activeLeft,r=e.activeRight,o=e.disappear,i=e.sortIndex,l=e.sortIndexes,u=Object(s.useRef)(null),p=Ce[i][0],d=Ce[i][1],j=Ce[l[l.length-1]][0],b=Ce[l[l.length-1]][1];return Object(ce.e)((function(){var e=Math.abs(p-j)/(Te.animationSpeed/20),t=Math.abs(d-b)/(Te.animationSpeed/20);e&&(p-j<0&&u.current.position.x<j?(u.current.translateX(e),u.current.position.x>=j&&(u.current.position.x=j)):p-j>0&&u.current.position.x>j&&(u.current.translateX(-e),u.current.position.x<=j&&(u.current.position.x=j))),t&&(d-b<0&&u.current.position.y<b?(u.current.translateY(t),u.current.position.y>=b&&(u.current.position.y=b)):d-b>0&&u.current.position.y>b&&(u.current.translateY(-t),u.current.position.y<=b&&(u.current.position.y=b)))})),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(qe,Object(E.a)({ref:u},e)),t&&Object(D.jsx)(Ye,{hidden:o,points:[n,t],isActive:c}),a&&Object(D.jsx)(Ye,{hidden:o,points:[n,a],isActive:r})]})};function He(e){var t=[];return t.push([{type:r.Disappear}]),t.push([{type:r.Generate,payload:e},{type:r.Appear}]),t}function Ze(e){return e.map((function(e,t,a){return e||Object(E.a)(Object(E.a)({},a[0]),{},{value:null,sortIndex:t})}))}function Ue(e){for(var t=0;t<e.length;t++)e[t]||(e[t]=null);for(var a=e.length-1;a>=0;a--)if(null!==e[a]){e.length=a+1;break}return Object(V.a)(e)}function Ge(e){return"["+e.map((function(e){return e||"null"})).toString()+"]"}function Xe(e){return e.map((function(e,t){return{sortIndex:t,sortIndexes:[t],value:e}}))}function Fe(e){return Math.floor((e-1)/2)}function Qe(e,t){var a=[void 0,void 0];return We(e,t)&&(a[0]=2*t+1),Je(e,t)&&(a[1]=2*t+2),a}function We(e,t){return e[2*t+1]}function Je(e,t){return e[2*t+2]}function _e(e,t,a){if(!e[t])throw new Error("node is null");e[2*t+1]=a}function Ke(e,t,a){if(!e[t])throw new Error("node is null");e[2*t+2]=a}function $e(e){return Math.floor((t=2,a=e+1,Math.log(a)/Math.log(t)));var t,a}function et(e,t){var a=0;return We(e,t)&&a++,Je(e,t)&&a++,a}function tt(e,t,a){a.push([{type:r.Active,payload:t}]),a.push([{type:r.Deactive,payload:t}]),a.push([{type:r.Lock,payload:t}]),We(e,t)&&tt(e,2*t+1,a),Je(e,t)&&tt(e,2*t+2,a)}function at(e,t,a){We(e,t)&&at(e,2*t+1,a),a.push([{type:r.Active,payload:t}]),a.push([{type:r.Deactive,payload:t}]),a.push([{type:r.Lock,payload:t}]),Je(e,t)&&at(e,2*t+2,a)}function nt(e,t,a){We(e,t)&&nt(e,2*t+1,a),Je(e,t)&&nt(e,2*t+2,a),a.push([{type:r.Active,payload:t}]),a.push([{type:r.Deactive,payload:t}]),a.push([{type:r.Lock,payload:t}])}function ct(e,t,a){if(0===e.length)throw new Error("the length of bst is 0");e[t]&&(a>e[t]?Je(e,t)?ct(e,2*t+2,a):Ke(e,t,a):We(e,t)?ct(e,2*t+1,a):_e(e,t,a))}function rt(e,t,a){for(var n=new Array(500);$e(n.length-1)>a;){var c=y(x(e),t);n.fill(null),n[0]=x(t),c.forEach((function(e){ct(n,0,e)}));for(var r=500;r>=0;r--)if(n[r]){n.length=r+1;break}}return n}function st(e,t,a,n){if(0===e.length)throw new Error("the length of bst is 0");e[t]&&(n.push([{type:r.Active,payload:t}]),n.push([{type:r.Deactive,payload:t}]),a>e[t]?Je(e,t)?st(e,2*t+2,a,n):n.push([{type:r.Add,payload:{value:a,index:2*t+2}}]):We(e,t)?st(e,2*t+1,a,n):n.push([{type:r.Add,payload:{value:a,index:2*t+1}}]))}function ot(e,t,a,n){if(0===e.length)throw new Error("the length of bst is 0");e[a]&&(n.push([{type:r.Active,payload:a}]),n.push([{type:r.Deactive,payload:a}]),0===et(e,t)?e[t]>e[a]?Je(e,a)===e[t]?(n.push([{type:r.Active,payload:2*a+2}]),n.push([{type:r.Deactive,payload:2*a+2}]),n.push([{type:r.Disappear,payload:2*a+2}]),n.push([{type:r.Delete,payload:2*a+2}])):ot(e,t,2*a+2,n):e[t]<e[a]?We(e,a)===e[t]?(n.push([{type:r.Active,payload:2*a+1}]),n.push([{type:r.Deactive,payload:2*a+1}]),n.push([{type:r.Disappear,payload:2*a+1}]),n.push([{type:r.Delete,payload:2*a+1}])):ot(e,t,2*a+1,n):(n.push([{type:r.Active,payload:a}]),n.push([{type:r.Deactive,payload:a}]),n.push([{type:r.Disappear,payload:a}]),n.push([{type:r.Delete,payload:a}])):1===et(e,t)&&(e[t]>e[a]?Je(e,a)===e[t]?(n.push([{type:r.Active,payload:2*a+2}]),n.push([{type:r.Deactive,payload:2*a+2}]),n.push([{type:r.Disappear,payload:2*a+2}]),n.push([{type:r.Move,payload:{oldSortIndexes:Qe(e,2*a+2)[0]||Qe(e,2*a+2)[1],targetIndexes:2*a+2}}]),n.push([{type:r.Delete,payload:2*a+2}])):ot(e,t,2*a+2,n):e[t]<e[a]?We(e,a)===e[t]?(n.push([{type:r.Active,payload:2*a+1}]),n.push([{type:r.Deactive,payload:2*a+1}]),n.push([{type:r.Disappear,payload:2*a+1}]),n.push([{type:r.Delete,payload:2*a+1}])):ot(e,t,2*a+1,n):(n.push([{type:r.Active,payload:a}]),n.push([{type:r.Deactive,payload:a}]),n.push([{type:r.Disappear,payload:a}]),n.push([{type:r.Delete,payload:a}]))))}function it(e,t,a,n){if(0===e.length)throw new Error("the length of bst is 0");e[a]&&(n.push([{type:r.Active,payload:a}]),n.push([{type:r.Deactive,payload:a}]),t>e[a]?Je(e,a)===t?(n.push([{type:r.Active,payload:2*a+2}]),n.push([{type:r.Deactive,payload:2*a+2}]),n.push([{type:r.Lock,payload:2*a+2}])):it(e,t,2*a+2,n):t<e[a]?We(e,a)===t?(n.push([{type:r.Active,payload:2*a+1}]),n.push([{type:r.Deactive,payload:2*a+1}]),n.push([{type:r.Lock,payload:2*a+1}])):it(e,t,2*a+1,n):(n.push([{type:r.Active,payload:a}]),n.push([{type:r.Deactive,payload:a}]),n.push([{type:r.Lock,payload:a}])))}var lt=M.a.Step,ut=function(){var e=Object(d.g)(),t=Object(s.useReducer)(Be,Re,(function(e){var t=rt(Te.geoNumRange,Te.geoValueRange,Te.maxDeepth);return Object(E.a)(Object(E.a)({},e),{},{binaryTree:t,spheres:Xe(t),opeDetails:[{type:c.Default,payload:Ge(t)}]})})),a=Object(O.a)(t,2),n=a[0],i=a[1],l=Object(s.useState)(!1),u=Object(O.a)(l,2),p=u[0],j=u[1],b=function(){i({type:r.Random}),setTimeout((function(){i({type:r.RandomDone})}),Te.animationSpeed)},h=function(){var e=[];tt(n.binaryTree,0,e);var t=[];e.forEach((function(e){e.type===r.Active&&t.push(n.binaryTree[e.index])})),i({type:r.StartPreorder,payload:t}),e.forEach((function(e,t){setTimeout((function(){i({type:e.type,payload:e.index})}),t*Te.animationSpeed)}))},v=function(){var e=[];at(n.binaryTree,0,e);var t=[];e.forEach((function(e){e.type===r.Active&&t.push(n.binaryTree[e.index])})),i({type:r.StartInOrder,payload:t}),e.forEach((function(e,t){setTimeout((function(){i({type:e.type,payload:e.index})}),t*Te.animationSpeed)}))},f=function(){var e=[];nt(n.binaryTree,0,e);var t=[];e.forEach((function(e){e.type===r.Active&&t.push(n.binaryTree[e.index])})),i({type:r.StartPostOrder,payload:t}),e.forEach((function(e,t){setTimeout((function(){i({type:e.type,payload:e.index})}),t*Te.animationSpeed)}))};return Object(D.jsxs)("div",{className:"binarySearchTree-warp",children:[Object(D.jsx)(N.a,{onBack:function(){e.replace(Ut),window.location.reload()},title:"\u4e8c\u53c9\u641c\u7d22\u6811"}),Object(D.jsxs)("div",{className:"main",children:[Object(D.jsx)(ye,{onLoaded:function(){j(!0)},cameraPosZ:Te.cameraPosZ,children:n.spheres.map((function(e,t){var a,c,r=null===(a=We(n.spheres,e.sortIndex))||void 0===a?void 0:a.value,s=null!==e.lChildPos&&We(Ce,e.sortIndex),i=null!==e.rChildPos&&(null===(c=Je(n.spheres,e.sortIndex))||void 0===c?void 0:c.value),l=Je(Ce,e.sortIndex);return e.value&&Object(D.jsxs)(o.a.Fragment,{children:[Object(D.jsx)(ze,{value:e.value,sortIndex:e.sortIndex,sortIndexes:e.sortIndexes,position:Ce[e.sortIndex],isActive:e.isActive,activeLeft:e.activeLeft,activeRight:e.activeRight,isLock:e.isLock,disappear:e.disappear||!n.randomDone,lChildPos:r&&s,rChildPos:i&&l}),Object(D.jsx)(H.a,{position:[Ce[t][0],Ce[t][1]-1.2,Ce[t][2]],fontSize:.4,fillOpacity:!e.disappear&&n.randomDone?1:0,color:"black",children:t})]},"sphere"+t)}))}),Object(D.jsxs)(ae,{style:{display:p?"flex":"none"},isAddIndex:!1,isSearch:!0,onAdd:function(e,t){i({type:r.UnLock})},onDelete:function(e){if(i({type:r.UnLock}),!n.binaryTree[e])return Y.b.warning("\u5220\u9664\u5931\u8d25\uff0c\u8f93\u5165\u7684\u7ed3\u70b9\u5e8f\u53f7\u4e0d\u5b58\u5728")},onSearch:function(e){i({type:r.UnLock})},operation:Object(D.jsx)("div",{className:"btn-group",children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:b,children:"\u968f\u673a\u751f\u6210"}),Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:h,children:"\u524d\u5e8f\u904d\u5386"}),Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:v,children:"\u4e2d\u5e8f\u904d\u5386"}),Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:f,children:"\u540e\u5e8f\u904d\u5386"})]})}),displayer:Object(D.jsx)(M.a,{direction:"vertical",size:"small",current:n.opeDetails.length-1,children:n.opeDetails.map((function(e,t){var a=e.type,n=e.payload;switch(a){case c.InOrderDetails:return Object(D.jsx)(lt,{title:"\u4e2d\u5e8f\u904d\u5386: [".concat(n,"]")},"step"+t);case c.PreOrderDetails:return Object(D.jsx)(lt,{title:"\u524d\u5e8f\u904d\u5386: [".concat(n,"]")},"step"+t);case c.PostOrderDetails:return Object(D.jsx)(lt,{title:"\u540e\u5e8f\u904d\u5386: [".concat(n,"]")},"step"+t);case c.Add:var r=n.index,s=n.value,o=n.cur;return Object(D.jsx)(lt,{title:"\u65b0\u589e\u7ed3\u70b9: i=".concat(r,", v=").concat(s),description:"\u5f53\u524d\u4e8c\u53c9\u6811: ".concat(Ge(o))},"step"+t);case c.Delete:var i=n.index,l=n.value,u=n.cur;return Object(D.jsx)(lt,{title:"\u5220\u9664\u7ed3\u70b9: i=".concat(i,", v=").concat(l),description:"\u5f53\u524d\u4e8c\u53c9\u6811: ".concat(Ge(u))},"step"+t);default:return Object(D.jsx)(lt,{title:"\u5f53\u524d\u4e8c\u53c9\u6811: ".concat(n)},"step"+t)}}))}),children:[Object(D.jsx)($,{icon:Object(D.jsx)(z.a,{}),onClick:b,children:"\u968f\u673a\u751f\u6210"},"item1"),Object(D.jsxs)(ee,{icon:Object(D.jsx)(q.a,{}),title:"\u904d\u5386",children:[Object(D.jsx)($,{onClick:h,children:"\u524d\u5e8f\u904d\u5386"}),Object(D.jsx)($,{onClick:v,children:"\u4e2d\u5e8f\u904d\u5386"}),Object(D.jsx)($,{onClick:f,children:"\u540e\u5e8f\u904d\u5386"})]},"item2")]})]})]})},pt=function(e){return Object(D.jsx)(le,Object(E.a)({args:[2,1,1]},e))},dt=o.a.memo(pt),jt=a(253),bt={geoBaseDistance:2.5,geoNumRange:[3,5],geoValueRange:[0,90],geoBasePosY:2,cameraPosZ:19,animationSpeed:400};function Ot(e){return e.map((function(e){return{value:e,isActive:!1,isLock:!1,key:Object(jt.a)()}}))}var ht={values:y(x(bt.geoNumRange),bt.geoValueRange),disappearAll:!1,loading:!1,cubes:[],opeDetails:[]},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case r.Loading:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case r.CancelLoading:return Object(E.a)(Object(E.a)({},e),{},{loading:!1});case r.Generate:return Object(E.a)(Object(E.a)({},e),{},{values:n,cubes:Ot(n),opeDetails:[{type:c.Default,payload:n}]});case r.Appear:return n||0===n?Object(E.a)({},e):Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{disappear:!1})})),disappearAll:!1});case r.Disappear:if(n||0===n){var s=e.cubes.map((function(e,t){return Object(E.a)(Object(E.a)({},e),{},{disappear:t===n})}));return Object(E.a)(Object(E.a)({},e),{},{cubes:s})}return Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{disappear:!0})})),disappearAll:!0,opeDetails:[]});case r.Active:var o=e.cubes.map((function(e,t){return Object(E.a)(Object(E.a)({},e),{},{isActive:t===n})}));return Object(E.a)(Object(E.a)({},e),{},{cubes:o});case r.Deactive:var i=e.cubes.map((function(e,t){return Object(E.a)(Object(E.a)({},e),{},{isActive:t!==n&&e.isActive})}));return Object(E.a)(Object(E.a)({},e),{},{cubes:i});case r.Enqueue:var l=Object(V.a)(e.cubes),u={value:n,isActive:!0,key:Object(jt.a)()},p=Object(V.a)(e.values);return l.push(u),p.push(n),Object(E.a)(Object(E.a)({},e),{},{cubes:l,values:p,opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.Enqueue,payload:{enqueueValue:n,curValues:p}}])});case r.Dequeue:var d=Object(V.a)(e.cubes);d.shift();var j=Object(V.a)(e.values),b=j.shift();return Object(E.a)(Object(E.a)({},e),{},{opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.Dequeue,payload:{dequeueValue:b,curValues:j}}]),values:j,cubes:d});default:return e}},ft=M.a.Step,xt=function(){var e=Object(d.g)(),t=Object(s.useReducer)(vt,ht,(function(e){return Object(E.a)(Object(E.a)({},e),{},{cubes:Ot(e.values),opeDetails:[{type:c.Default,payload:ht.values}]})})),a=Object(O.a)(t,2),n=a[0],i=a[1],l=Object(s.useState)(!1),u=Object(O.a)(l,2),p=u[0],j=u[1],b=-(n.cubes.length-1)*bt.geoBaseDistance/2,h=function(){f(function(e){var t=[];return t.push([{type:r.Disappear}]),t.push([{type:r.Generate,payload:e},{type:r.Appear}]),t}(y(x(bt.geoNumRange),bt.geoValueRange)),bt.animationSpeed,i)};return Object(D.jsxs)("div",{className:"queue-warp",children:[Object(D.jsx)(N.a,{onBack:function(){e.replace(Ut),window.location.reload()},title:"\u961f\u5217"}),Object(D.jsxs)("div",{className:"main",children:[Object(D.jsx)(ye,{onLoaded:function(){j(!0)},cameraPosZ:bt.cameraPosZ,children:n.cubes.map((function(e,t,a){return Object(D.jsxs)(o.a.Fragment,{children:[Object(D.jsx)(dt,{value:e.value,position:[b+t*bt.geoBaseDistance,bt.geoBasePosY,0],isActive:e.isActive,disappear:e.disappear}),0===t||t===a.length-1?Object(D.jsx)(H.a,{fillOpacity:n.disappearAll?0:1,color:"black",fontSize:.5,position:[b+t*bt.geoBaseDistance,bt.geoBasePosY-1,0],children:0===t?"head":"tail"}):Object(D.jsx)(D.Fragment,{})]},e.key)}))}),Object(D.jsx)(ae,{style:{display:p?"flex":"none"},showSilider:!1,onAdd:function(e){n.values.length<bt.geoNumRange[1]+5?f(function(e,t){var a=[];return a.push([{type:r.Enqueue,payload:e}]),a.push([{type:r.Deactive,payload:t}]),a}(e,n.values.length),bt.animationSpeed,i):Y.b.warning("\u5165\u961f\u5931\u8d25\uff0c\u961f\u5217\u6700\u5927\u5bb9\u91cf\u4e3a".concat(bt.geoNumRange[1]+5))},onDelete:function(){n.values.length>0?f(function(){var e=[];return e.push([{type:r.Disappear,payload:0}]),e.push([{type:r.Dequeue}]),e}(),bt.animationSpeed,i):Y.b.warning("\u51fa\u961f\u5931\u8d25\uff0c\u5f53\u524d\u961f\u5217\u4e3a\u7a7a")},addText:"\u5165\u961f",deleteText:"\u51fa\u961f",isAddIndex:!1,isDeleteIndex:!1,spinning:n.loading,operation:Object(D.jsx)("div",{className:"btn-group",children:Object(D.jsx)("div",{className:"row",children:Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:h,children:"\u968f\u673a\u751f\u6210"})})}),displayer:Object(D.jsx)(M.a,{direction:"vertical",size:"small",current:n.opeDetails.length-1,children:n.opeDetails.map((function(e,t){var a=e.type,n=e.payload;switch(a){case c.Enqueue:return Object(D.jsx)(ft,{title:"\u5165\u961f: v=".concat(n.enqueueValue),description:"\u5f53\u524d\u961f\u5217: [".concat(n.curValues.toString(),"]")},"step"+t);case c.Dequeue:return Object(D.jsx)(ft,{title:"\u51fa\u961f: v=".concat(n.dequeueValue),description:"\u5f53\u524d\u961f\u5217: [".concat(n.curValues.toString(),"]")},"step"+t);default:return Object(D.jsx)(ft,{title:"\u5f53\u524d\u961f\u5217: [".concat(n.toString(),"]")},"step"+t)}}))}),children:Object(D.jsx)($,{icon:Object(D.jsx)(z.a,{}),onClick:h,children:"\u968f\u673a\u751f\u6210"},"item1")})]})]})},yt=function(e){return Object(D.jsx)(le,Object(E.a)({args:[2.5,.5,2.5]},e))},gt=o.a.memo(yt),mt={geoBaseDistance:.8,geoNumRange:[2,6],geoValueRange:[0,90],geoBasePosY:2,cameraPosZ:16,animationSpeed:400};function Dt(e){return e.map((function(e){return{value:e,isActive:!1,isLock:!1}}))}function St(e){var t=[];return t.push([{type:r.Disappear}]),t.push([{type:r.Generate,payload:e},{type:r.Appear}]),t}var kt={cubes:[],disappearAll:!1,loading:!1,opeDetails:[],values:y(x(mt.geoNumRange),mt.geoValueRange)},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case r.Loading:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case r.CancelLoading:return Object(E.a)(Object(E.a)({},e),{},{loading:!1});case r.Generate:return Object(E.a)(Object(E.a)({},e),{},{values:n,cubes:Dt(n),opeDetails:[{type:c.Default,payload:n}]});case r.Appear:return n||0===n?Object(E.a)({},e):Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{disappear:!1})})),disappearAll:!1});case r.Disappear:return n||0===n?Object(E.a)({},e):Object(E.a)(Object(E.a)({},e),{},{cubes:e.cubes.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{disappear:!0})})),disappearAll:!0,opeDetails:[]});case r.Active:var s=e.cubes.map((function(e,t,a){return Object(E.a)(Object(E.a)({},e),{},{isActive:t===a.length-1})}));return Object(E.a)(Object(E.a)({},e),{},{cubes:s});case r.Deactive:var o=e.cubes.map((function(e,t,a){return Object(E.a)(Object(E.a)({},e),{},{isActive:t!==a.length-1&&e.isActive})}));return Object(E.a)(Object(E.a)({},e),{},{cubes:o});case r.Pop:var i=e.cubes.map((function(e,t,a){return Object(E.a)(Object(E.a)({},e),{},{disappear:t===a.length-1})})),l=Object(V.a)(e.values),u=l.pop();return Object(E.a)(Object(E.a)({},e),{},{cubes:i,opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.Pop,payload:{popValue:u,curValues:l}}]),values:l});case r.PopDone:var p=Object(V.a)(e.cubes);return p.pop(),Object(E.a)(Object(E.a)({},e),{},{cubes:p});case r.Push:var d=Object(V.a)(e.cubes),j={value:n,isActive:!0},b=Object(V.a)(e.values);return d.push(j),b.push(n),Object(E.a)(Object(E.a)({},e),{},{cubes:d,values:b,opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.Push,payload:{pushValue:n,curValues:b}}])});default:return e}},Pt=M.a.Step,It=function(){var e=Object(d.g)(),t=Object(s.useReducer)(At,kt,(function(e){return Object(E.a)(Object(E.a)({},e),{},{cubes:Dt(e.values),opeDetails:[{type:c.Default,payload:kt.values}]})})),a=Object(O.a)(t,2),n=a[0],i=a[1],l=-(n.cubes.length-1)*mt.geoBaseDistance/2,u=Object(s.useState)(!1),p=Object(O.a)(u,2),j=p[0],b=p[1],h=function(){f(St(y(x(mt.geoNumRange),mt.geoValueRange)),mt.animationSpeed,i)};return Object(D.jsxs)("div",{className:"stack-warp",children:[Object(D.jsx)(N.a,{onBack:function(){e.replace(Ut),window.location.reload()},title:"\u6808"}),Object(D.jsxs)("div",{className:"main",children:[Object(D.jsx)(ye,{onLoaded:function(){b(!0)},cameraPosZ:mt.cameraPosZ,children:n.cubes.map((function(e,t){return Object(D.jsxs)(o.a.Fragment,{children:[Object(D.jsx)(gt,{value:e.value,position:[0,l+t*mt.geoBaseDistance+mt.geoBasePosY,0],isActive:e.isActive,disappear:e.disappear}),t!==n.cubes.length-1||n.disappearAll?Object(D.jsx)(D.Fragment,{}):Object(D.jsx)(H.a,{fontSize:.5,color:"black",position:[-2.5,l+t*mt.geoBaseDistance+mt.geoBasePosY,0],children:"Top \u2014\u2014>"})]},t+"!")}))}),Object(D.jsx)(ae,{style:{display:j?"flex":"none"},showSilider:!1,onAdd:function(e){n.values.length<mt.geoNumRange[1]+4?f(function(e){var t=[];return t.push([{type:r.Push,payload:e}]),t.push([{type:r.Deactive}]),t}(e),mt.animationSpeed,i):Y.b.warning("\u538b\u6808\u5931\u8d25\uff0c\u6808\u6700\u5927\u5bb9\u91cf\u4e3a".concat(mt.geoNumRange[1]+4))},onDelete:function(){n.values.length>0?f(function(){var e=[];return e.push([{type:r.Active}]),e.push([{type:r.Pop}]),e.push([{type:r.PopDone}]),e}(),mt.animationSpeed,i):Y.b.warning("\u5f39\u6808\u5931\u8d25\uff0c\u5f53\u524d\u6808\u4e3a\u7a7a")},valueRange:[0,90],onRender:function(e){var t=function(e){return e.substring(1,e.length-1).split(/[,\uff0c]/g).map((function(e){return+e}))}(e);Array.isArray(t)?f(St(t),mt.animationSpeed,i):Y.b.warning(t)},addText:"\u538b\u6808",deleteText:"\u5f39\u6808",isAddIndex:!1,isDeleteIndex:!1,spinning:n.loading,operation:Object(D.jsx)("div",{className:"btn-group",children:Object(D.jsx)("div",{className:"row",children:Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:h,children:"\u968f\u673a\u751f\u6210"})})}),displayer:Object(D.jsx)(M.a,{direction:"vertical",size:"small",current:n.opeDetails.length-1,children:n.opeDetails.map((function(e,t){var a=e.type,n=e.payload;switch(a){case c.Pop:return Object(D.jsx)(Pt,{title:"\u5f39\u6808: v=".concat(n.popValue),description:"\u5f53\u524d\u6808: [".concat(n.curValues.toString(),"]")},"step"+t);case c.Push:return Object(D.jsx)(Pt,{title:"\u538b\u6808: v=".concat(n.pushValue),description:"\u5f53\u524d\u6808: [".concat(n.curValues.toString(),"]")},"step"+t);default:return Object(D.jsx)(Pt,{title:"\u5f53\u524d\u6808: [".concat(n.toString(),"]")},"step"+t)}}))}),children:Object(D.jsx)($,{icon:Object(D.jsx)(z.a,{}),onClick:h,children:"\u968f\u673a\u751f\u6210"},"item1")})]})]})},Lt={geoBaseDistance:2,geoNumRange:[5,15],geoValueRange:[10,70],geoBasePosY:3,cameraPosZ:21,animationSpeed:400,maxDeepth:3},wt=[[0,5+Lt.geoBasePosY,0],[-4,2+Lt.geoBasePosY,0],[4,2+Lt.geoBasePosY,0],[-6,-1+Lt.geoBasePosY,0],[-2,-1+Lt.geoBasePosY,0],[2,-1+Lt.geoBasePosY,0],[6,-1+Lt.geoBasePosY,0],[-7,-4+Lt.geoBasePosY,0],[-5,-4+Lt.geoBasePosY,0],[-3,-4+Lt.geoBasePosY,0],[-1,-4+Lt.geoBasePosY,0],[1,-4+Lt.geoBasePosY,0],[3,-4+Lt.geoBasePosY,0],[5,-4+Lt.geoBasePosY,0],[7,-4+Lt.geoBasePosY,0]],Ct=Lt,Tt={binaryTree:rt(Ct.geoNumRange,Ct.geoValueRange,Ct.maxDeepth),spheres:[],opeDetails:[],loading:!1,disappearAll:!1},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case r.Loading:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case r.CancelLoading:return Object(E.a)(Object(E.a)({},e),{},{loading:!1});case r.Generate:return Object(E.a)(Object(E.a)({},e),{},{binaryTree:n,spheres:Xe(n),opeDetails:[{type:c.Default,payload:Ge(n)}]});case r.Appear:return n||0===n?Object(E.a)({},e):Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{disappear:!1})})),disappearAll:!1});case r.Disappear:if(n||0===n){var s=et(e.binaryTree,n),o=Object(V.a)(e.spheres),i=Object(V.a)(e.binaryTree);if(0===s){o=o.map((function(e){return e.sortIndex===n?Object(E.a)(Object(E.a)({},e),{},{disappear:!0}):e}));var l=Fe(n),u=e.binaryTree[l]>=e.binaryTree[n];return o=o.map((function(e){var t=Object(E.a)({},e);return e.sortIndex===l&&(u?t.lChildPos=null:t.rChildPos=null),t})),i[n]=null,Object(E.a)(Object(E.a)({},e),{},{spheres:o,opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.Delete,payload:{index:n,value:e.binaryTree[n],cur:Ue(i)}}])})}if(1===s){o=o.map((function(e){return e.sortIndex===n?Object(E.a)(Object(E.a)({},e),{},{disappear:!0}):e}));var p=Qe(e.binaryTree,n),d=p[0]||p[1],j=Fe(n),b=e.binaryTree[j]>=e.binaryTree[n];return o=o.map((function(e){var t=Object(E.a)({},e);return e.sortIndex===j?b?t.lChildPos=null:t.rChildPos=null:e.sortIndex===d&&t.sortIndexes.push(n),t})),i[n]=e.binaryTree[d],i[d]=null,Object(E.a)(Object(E.a)({},e),{},{spheres:o,opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.Delete,payload:{index:n,value:e.binaryTree[n],cur:Ue(i)}}])})}return Object(E.a)({},e)}return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{disappear:!0})})),disappearAll:!0});case r.Move:var O=n.oldSortIndex,h=n.targetIndex,v=Object(V.a)(e.spheres),f=v.find((function(e){return e.sortIndex===O}));return null===f||void 0===f||f.sortIndexes.push(h),Object(E.a)(Object(E.a)({},e),{},{spheres:v});case r.Delete:var x=et(e.binaryTree,n),y=Object(V.a)(e.spheres),g=Object(V.a)(e.binaryTree);if(0===x)return y=y.map((function(e){return e.sortIndex===n?Object(E.a)(Object(E.a)({},e),{},{value:null}):e})),g[n]=null,Object(E.a)(Object(E.a)({},e),{},{spheres:y,binaryTree:Ue(g)});if(1===x){Fe(n);var m=Qe(e.binaryTree,n);m[0]&&m[1];return Object(E.a)({},e)}return Object(E.a)({},e);case r.Add:var D=n.value,S=n.index,k=Object(V.a)(e.spheres),A={value:D,sortIndex:S,sortIndexes:[S]};k[S]=A,k=Ze(k);var P=Object(V.a)(e.binaryTree);return P[S]=D,P=Ue(P),Object(E.a)(Object(E.a)({},e),{},{binaryTree:P,spheres:k,opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.Add,payload:{index:n.index,value:n.value,cur:P}}])});case r.StartPreorder:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLock:!1})})),opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.PreOrderDetails,payload:n}])});case r.StartInOrder:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLock:!1,activeLeft:!1,activeRight:!1})})),opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.InOrderDetails,payload:n}])});case r.StartPostOrder:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLock:!1,activeLeft:!1,activeRight:!1})})),opeDetails:[].concat(Object(V.a)(e.opeDetails),[{type:c.PostOrderDetails,payload:n}])});case r.Active:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isActive:n===e.sortIndex})}))});case r.ActiveLeft:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{activeLeft:n===e.sortIndex})}))});case r.ActiveRight:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{activeRight:n===e.sortIndex})}))});case r.Deactive:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isActive:n!==e.sortIndex&&e.isActive})}))});case r.Lock:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return n===e.sortIndex?Object(E.a)(Object(E.a)({},e),{},{isLock:!0}):Object(E.a)({},e)}))});case r.UnLock:return Object(E.a)(Object(E.a)({},e),{},{spheres:e.spheres.map((function(e){return n||0===n?n===e.sortIndex?Object(E.a)(Object(E.a)({},e),{},{isLock:!1}):Object(E.a)({},e):Object(E.a)(Object(E.a)({},e),{},{isLock:!1})}))});default:return e}},Bt=function(e){var t=e.lChildPos,a=e.rChildPos,n=e.position,c=e.activeLeft,r=e.activeRight,o=e.disappear,i=e.sortIndex,l=e.sortIndexes,u=Object(s.useRef)(null),p=wt[i][0],d=wt[i][1],j=wt[l[l.length-1]][0],b=wt[l[l.length-1]][1];return Object(ce.e)((function(){var e=Math.abs(p-j)/(Ct.animationSpeed/20),t=Math.abs(d-b)/(Ct.animationSpeed/20);e&&(p-j<0&&u.current.position.x<j?(u.current.translateX(e),u.current.position.x>=j&&(u.current.position.x=j)):p-j>0&&u.current.position.x>j&&(u.current.translateX(-e),u.current.position.x<=j&&(u.current.position.x=j))),t&&(d-b<0&&u.current.position.y<b?(u.current.translateY(t),u.current.position.y>=b&&(u.current.position.y=b)):d-b>0&&u.current.position.y>b&&(u.current.translateY(-t),u.current.position.y<=b&&(u.current.position.y=b)))})),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(qe,Object(E.a)({ref:u},e)),t&&Object(D.jsx)(Ye,{hidden:o,points:[n,t],isActive:c}),a&&Object(D.jsx)(Ye,{hidden:o,points:[n,a],isActive:r})]})},Nt=M.a.Step,Vt=function(){var e=Object(d.g)(),t=Object(s.useReducer)(Rt,Tt,(function(e){return Object(E.a)(Object(E.a)({},e),{},{spheres:Xe(Tt.binaryTree),opeDetails:[{type:c.Default,payload:Ge(Tt.binaryTree)}]})})),a=Object(O.a)(t,2),n=a[0],i=a[1],l=Object(s.useState)(!1),u=Object(O.a)(l,2),p=u[0],j=u[1],b=function(){f(He(rt(Ct.geoNumRange,Ct.geoValueRange,Ct.maxDeepth)),Ct.animationSpeed,i)},h=function(){var e=[];tt(n.binaryTree,0,e);var t=[];e.forEach((function(e){e[0].type===r.Active&&t.push(n.binaryTree[e[0].payload])})),i({type:r.StartPreorder,payload:t}),f(e,Ct.animationSpeed,i)},v=function(){var e=[];at(n.binaryTree,0,e);var t=[];e.forEach((function(e){e[0].type===r.Active&&t.push(n.binaryTree[e[0].payload])})),i({type:r.StartInOrder,payload:t}),f(e,Ct.animationSpeed,i)},x=function(){var e=[];nt(n.binaryTree,0,e);var t=[];e.forEach((function(e){e[0].type===r.Active&&t.push(n.binaryTree[e[0].payload])})),i({type:r.StartPostOrder,payload:t}),f(e,Ct.animationSpeed,i)};return Object(D.jsxs)("div",{className:"binarySearchTree-warp",children:[Object(D.jsx)(N.a,{onBack:function(){e.replace(Ut),window.location.reload()},title:"\u4e8c\u53c9\u641c\u7d22\u6811"}),Object(D.jsxs)("div",{className:"main",children:[Object(D.jsx)(ye,{onLoaded:function(){j(!0)},cameraPosZ:Ct.cameraPosZ,children:n.spheres.map((function(e,t){var a,c,r=null===(a=We(n.spheres,e.sortIndex))||void 0===a?void 0:a.value,s=null!==e.lChildPos&&We(wt,e.sortIndex),i=null!==e.rChildPos&&(null===(c=Je(n.spheres,e.sortIndex))||void 0===c?void 0:c.value),l=Je(wt,e.sortIndex);return e.value&&Object(D.jsxs)(o.a.Fragment,{children:[Object(D.jsx)(Bt,{value:e.value,sortIndex:e.sortIndex,sortIndexes:e.sortIndexes,position:wt[e.sortIndex],isActive:e.isActive,activeLeft:e.activeLeft,activeRight:e.activeRight,isLock:e.isLock,disappear:e.disappear,lChildPos:r&&s,rChildPos:i&&l}),Object(D.jsx)(H.a,{position:[wt[t][0],wt[t][1]-1.2,wt[t][2]],fontSize:.4,fillOpacity:e.disappear||n.disappearAll?0:1,color:"black",children:t})]},"sphere"+t)}))}),Object(D.jsxs)(ae,{style:{display:p?"flex":"none"},isAddIndex:!1,isSearch:!0,onAdd:function(e,t){i({type:r.UnLock});var a=[];st(n.binaryTree,0,e,a),a.forEach((function(e,t){setTimeout((function(){e.type!==r.Add||$e(e.payload.index)<=Ct.maxDeepth?i(e):Y.b.warning("\u6dfb\u52a0\u5931\u8d25\uff0c\u4e8c\u53c9\u6811\u6700\u5927\u5c42\u6570\u4e3a".concat(Ct.maxDeepth+1))}),t*Ct.animationSpeed)}))},onDelete:function(e){if(i({type:r.UnLock}),!n.binaryTree[e])return Y.b.warning("\u5220\u9664\u5931\u8d25\uff0c\u8f93\u5165\u7684\u7ed3\u70b9\u5e8f\u53f7\u4e0d\u5b58\u5728");var t=[];ot(n.binaryTree,e,0,t),console.log(t),t.forEach((function(e,t){setTimeout((function(){i(e)}),t*Ct.animationSpeed)}))},onSearch:function(e){i({type:r.UnLock});var t=[];it(n.binaryTree,e,0,t),f(t,Ct.animationSpeed,i),n.binaryTree[[].concat(t).pop()[0].payload]!==e&&setTimeout((function(){Y.b.warning("\u6ca1\u6709\u67e5\u627e\u5230\u53d6\u503c\u4e3a ".concat(e," \u7684\u5143\u7d20"))}),t.length*Ct.animationSpeed)},onRender:function(e){var t=function(e){return e.substring(1,e.length-1).split(/[,\uff0c]/g).map((function(e){return+e})).map((function(e){return isNaN(e)?null:e}))}(e);(console.log(t),t)?f(He(t),Ct.animationSpeed,i):Y.b.warning('\u8f93\u5165\u7684\u6570\u636e\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u6309\u7167 "[1,3,8,2]" \u7c7b\u4f3c\u683c\u5f0f\u8f93\u5165')},spinning:n.loading,operation:Object(D.jsx)("div",{className:"btn-group",children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:b,children:"\u968f\u673a\u751f\u6210"}),Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:h,children:"\u524d\u5e8f\u904d\u5386"}),Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:v,children:"\u4e2d\u5e8f\u904d\u5386"}),Object(D.jsx)(B.a,{icon:Object(D.jsx)(q.a,{}),onClick:x,children:"\u540e\u5e8f\u904d\u5386"})]})}),displayer:Object(D.jsx)(M.a,{direction:"vertical",size:"small",current:n.opeDetails.length-1,children:n.opeDetails.map((function(e,t){var a=e.type,n=e.payload;switch(a){case c.InOrderDetails:return Object(D.jsx)(Nt,{title:"\u4e2d\u5e8f\u904d\u5386: [".concat(n,"]")},"step"+t);case c.PreOrderDetails:return Object(D.jsx)(Nt,{title:"\u524d\u5e8f\u904d\u5386: [".concat(n,"]")},"step"+t);case c.PostOrderDetails:return Object(D.jsx)(Nt,{title:"\u540e\u5e8f\u904d\u5386: [".concat(n,"]")},"step"+t);case c.Add:var r=n.index,s=n.value,o=n.cur;return Object(D.jsx)(Nt,{title:"\u65b0\u589e\u7ed3\u70b9: i=".concat(r,", v=").concat(s),description:"\u5f53\u524d\u4e8c\u53c9\u6811: ".concat(Ge(o))},"step"+t);case c.Delete:var i=n.index,l=n.value,u=n.cur;return Object(D.jsx)(Nt,{title:"\u5220\u9664\u7ed3\u70b9: i=".concat(i,", v=").concat(l),description:"\u5f53\u524d\u4e8c\u53c9\u6811: ".concat(Ge(u))},"step"+t);default:return Object(D.jsx)(Nt,{title:"\u5f53\u524d\u4e8c\u53c9\u6811: ".concat(n)},"step"+t)}}))}),children:[Object(D.jsx)($,{icon:Object(D.jsx)(z.a,{}),onClick:b,children:"\u968f\u673a\u751f\u6210"},"item1"),Object(D.jsxs)(ee,{icon:Object(D.jsx)(q.a,{}),title:"\u904d\u5386",children:[Object(D.jsx)($,{onClick:h,children:"\u524d\u5e8f\u904d\u5386"}),Object(D.jsx)($,{onClick:v,children:"\u4e2d\u5e8f\u904d\u5386"}),Object(D.jsx)($,{onClick:x,children:"\u540e\u5e8f\u904d\u5386"})]},"item2")]})]})]})},Yt=a(261),Et=a(262),Mt=(a(242),{randomDone:!0});function qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0,a=t.type;t.payload;switch(a){case r.Active:case r.Deactive:case r.Lock:case r.UnLock:return Object(E.a)({},e);case r.RandomDone:return Object(E.a)(Object(E.a)({},e),{},{randomDone:!0});case r.Random:return Object(E.a)(Object(E.a)({},e),{},{randomDone:!1});default:return e}}var zt=function(){var e=Object(d.g)(),t=Object(s.useReducer)(qt,Mt,(function(e){return Object(E.a)({},e)})),a=Object(O.a)(t,2),n=(a[0],a[1]),c=Object(s.useState)(!1),o=Object(O.a)(c,2),i=(o[0],o[1],Object(s.useState)(!1)),l=Object(O.a)(i,2),u=l[0],p=l[1];return Object(D.jsxs)("div",{className:"hashTable-warp",children:[Object(D.jsx)(N.a,{onBack:function(){e.goBack(),window.location.reload()},title:"\u54c8\u5e0c\u8868"}),Object(D.jsxs)("div",{className:"main",children:[Object(D.jsx)(ye,{onLoaded:function(){p(!0)}}),Object(D.jsxs)(ae,{style:{display:u?"flex":"none"},children:[Object(D.jsx)($,{icon:Object(D.jsx)(z.a,{}),onClick:function(){n({type:r.Random}),setTimeout((function(){n({type:r.RandomDone})}),400)},children:"\u968f\u673a\u751f\u6210"}),Object(D.jsxs)(ee,{icon:Object(D.jsx)(q.a,{}),title:"\u6392\u5e8f",children:[Object(D.jsx)($,{children:"\u5192\u6ce1\u6392\u5e8f"}),Object(D.jsx)($,{children:"\u9009\u62e9\u6392\u5e8f"}),Object(D.jsx)($,{children:"\u63d2\u5165\u6392\u5e8f"}),Object(D.jsx)($,{children:"\u5feb\u901f\u6392\u5e8f"}),Object(D.jsx)($,{children:"\u5f52\u5e76\u6392\u5e8f"})]},"2"),Object(D.jsx)(ee,{icon:Object(D.jsx)(Yt.a,{}),children:Object(D.jsxs)($,{children:[Object(D.jsx)(Z.a,{}),Object(D.jsx)(B.a,{children:"\u6dfb\u52a0"})]})}),Object(D.jsx)($,{icon:Object(D.jsx)(Et.a,{}),children:"\u5220\u9664"})]})]})]})},Ht=(a(243),{randomDone:!0});function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0,a=t.type;t.payload;switch(a){case r.Active:case r.Deactive:case r.Lock:case r.UnLock:return Object(E.a)({},e);case r.RandomDone:return Object(E.a)(Object(E.a)({},e),{},{randomDone:!0});case r.Random:return Object(E.a)(Object(E.a)({},e),{},{randomDone:!1});default:return e}}var Ut="/data-structure-visualization",Gt=[{path:Ut+"/home",page:R},{path:Ut+"/sort",page:Le},{path:Ut+"/graph",page:function(){var e=Object(d.g)(),t=Object(s.useReducer)(Zt,Ht,(function(e){return Object(E.a)({},e)})),a=Object(O.a)(t,2),n=(a[0],a[1]),c=Object(s.useState)(!1),o=Object(O.a)(c,2),i=(o[0],o[1],Object(s.useState)(!1)),l=Object(O.a)(i,2),u=l[0],p=l[1];return Object(D.jsxs)("div",{className:"graph-warp",children:[Object(D.jsx)(N.a,{onBack:function(){e.goBack(),window.location.reload()},title:"\u56fe"}),Object(D.jsxs)("div",{className:"main",children:[Object(D.jsx)(ye,{onLoaded:function(){p(!0)}}),Object(D.jsxs)(ae,{style:{display:u?"flex":"none"},children:[Object(D.jsx)($,{icon:Object(D.jsx)(z.a,{}),onClick:function(){n({type:r.Random}),setTimeout((function(){n({type:r.RandomDone})}),400)},children:"\u968f\u673a\u751f\u6210"}),Object(D.jsxs)(ee,{icon:Object(D.jsx)(q.a,{}),title:"\u6392\u5e8f",children:[Object(D.jsx)($,{children:"\u5192\u6ce1\u6392\u5e8f"}),Object(D.jsx)($,{children:"\u9009\u62e9\u6392\u5e8f"}),Object(D.jsx)($,{children:"\u63d2\u5165\u6392\u5e8f"}),Object(D.jsx)($,{children:"\u5feb\u901f\u6392\u5e8f"}),Object(D.jsx)($,{children:"\u5f52\u5e76\u6392\u5e8f"})]},"2"),Object(D.jsx)(ee,{icon:Object(D.jsx)(Yt.a,{}),children:Object(D.jsxs)($,{children:[Object(D.jsx)(Z.a,{}),Object(D.jsx)(B.a,{children:"\u6dfb\u52a0"})]})}),Object(D.jsx)($,{icon:Object(D.jsx)(Et.a,{}),children:"\u5220\u9664"})]})]})]})}},{path:Ut+"/queue",page:xt},{path:Ut+"/stack",page:It},{path:Ut+"/binarySearchTree",page:Vt},{path:Ut+"/binaryHeap",page:ut},{path:Ut+"/hashTable",page:zt}],Xt=function(){return Object(D.jsxs)(p.a,{children:[Object(D.jsx)(d.d,{children:Gt.map((function(e,t){return 0===t?Object(D.jsx)(d.b,{path:e.path,component:e.page},t):Object(D.jsx)(d.b,{path:e.path+"",component:e.page},t)}))}),Object(D.jsx)(d.a,{to:Ut+"/home"})]})},Ft=(a(244),u.a.Header),Qt=u.a.Content,Wt=u.a.Footer;var Jt=function(){return Object(D.jsx)("div",{className:"App",children:Object(D.jsxs)(u.a,{className:"layout",children:[Object(D.jsx)(Ft,{className:"header",children:Object(D.jsx)("a",{href:Ut,children:"Data Structure Visualization"})}),Object(D.jsx)(Qt,{className:"content",children:Object(D.jsx)(Xt,{})}),Object(D.jsx)(Wt,{className:"footer",children:"DSV \xa92021 Created by Dora and Conan"})]})})};l.a.render(Object(D.jsx)(Jt,{}),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.2810fd49.chunk.js.map