{"version":3,"sources":["utils/index.ts","types/index.ts","components/HomeItem/homeItem.tsx","assets/homeItemCovers/Sort.jpg","assets/homeItemCovers/Stack.jpg","assets/homeItemCovers/Queue.jpg","assets/homeItemCovers/BinarySearchTree.jpg","components/Tags/tags.tsx","configs/homeItems/index.tsx","pages/Home/home.tsx","components/Console/console.tsx","pages/Sort/SortCube3d/sortCube3d.tsx","configs/loading/index.tsx","components/Scene3d/scene3d.tsx","utils/sort.ts","pages/Sort/sort.tsx","pages/AVLTree/avlTree.tsx","pages/Graph/graph.tsx","pages/BinaryHeap/binaryHeap.tsx","pages/BTree/bTree.tsx","pages/Queue/QueueCube3d/queueCube3d.tsx","utils/queue.ts","pages/Queue/queue.tsx","pages/Stack/StackCube3d/stackCube3d.tsx","utils/stack.ts","pages/Stack/stack.tsx","pages/HashTable/hashTable.tsx","components/Arrow3d/arrow3d.tsx","pages/LinkedList/LinkCube3d/linkCube3d.tsx","utils/linkedList.ts","pages/LinkedList/linkedList.tsx","pages/RedBlackTree/redBlackTree.tsx","pages/BPlusTree/bPlusTree.tsx","components/Line3d/line3d.tsx","components/Sphere3d/sphere3d.tsx","utils/binaryTree.ts","utils/math.ts","pages/BinarySearchTree/binarySearchTree.tsx","configs/router/config.ts","configs/router/index.tsx","App.tsx","index.tsx"],"names":["randomNum","start","end","Math","random","toFixed","randomArr","length","arr","i","push","useHover","useState","value","setValue","ref","useRef","handleMouseOver","handleMouseOut","useEffect","node","current","addEventListener","removeEventListener","DataStrucTypes","OpeDetailTypes","ActionTypes","HomeItem","props","title","src","tag","type","onClick","hoverRef","isHover","scale","useSpring","config","stiff","div","className","style","hoverable","cover","alt","setTimeout","Meta","description","LINK_CUBE_INTERVAL_DISTANCE","DISPATCH_INTERVAL","Tags","Array","color","AVLTree","BPlusTree","BTree","BinarySearchTree","Graph","HashTable","BinaryHeap","LinkedList","Queue","RedBlackTree","Stack","Sort","Traverse","Search","Tree","BinarySearch","QuickSort","SelectSort","InsertSort","BubbleSort","MergeSort","Push","Pop","Enqueue","Dequeue","homeItemsConfig","SortPic","StackPic","QueuePic","root","Home","history","useHistory","open","setOpen","handleClick","from","size","opacity","to","map","row","gutter","xs","sm","md","col","j","lg","xl","width","height","Item","SubMenu","Console","children","operation","displayer","drawerHeight","showSilider","onSliderChange","isUnfold","setIsUnfold","displayConRef","gentle","scrollTop","scrollHeight","mode","theme","inlineCollapsed","selectable","display","icon","MenuUnfoldOutlined","visible","placement","mask","onClose","defaultValue","onChange","defaultProps","SortCube3d","position","isActive","isLock","isSpRev","sortIndexes","sortIndex","startPosX","colorConfig","disappear","setIsHover","isClick","setIsClick","meshRef","getPosX","oldPosX","targetPosX","reverse","default","wobbly","activeColor","hoverColor","lockColor","defaultColor","useFrame","delta","abs","x","translateX","mesh","Text","fontSize","RoundedBox","args","onPointerOver","onPointerOut","meshPhongMaterial","transparent","React","memo","SceneLoader","progress","useProgress","onLoaded","Html","center","marginTop","Scene3d","cameraRef","THREE","PerspectiveCamera","makeDefault","intensity","fallback","OrbitControls","maxDistance","Environment","background","files","path","initCubes","values","index","getStartPosX","arrLen","quickSortSeq","l","r","sortSeq","Active","indexes","Deactive","Swap","temp","SwapDone","Step","initState","cubes","sortDone","randomDone","opeDetails","reducer","state","action","payload","List","toJS","item","Map","includes","Lock","UnLock","index1","index2","newCubes","curSortIndex","newSortIndexes","newValues","newOpeDetail","curValues","newSortIndex","SortDone","Move","oldIndexes","targetIndexes","findIndex","splice","Delete","AddDone","newEle","targetIndex","newCube","pop","Add","DeleteDone","RandomDone","newStartPosX","Default","Random","useReducer","dispatch","isSceneLoaded","setIsSceneLoaded","setIndex","handleRandom","handleBubbleSort","backup","bubbleSortSeq","forEach","event","handleSelectSort","max","indexOfMax","selectSortSeq","handleQuickSort","sequence","onBack","goBack","window","location","reload","_","fillOpacity","BarChartOutlined","min","message","warning","seq","addEleSeq","deleteEleSeq","direction","toString","DotChartOutlined","PlusSquareOutlined","MinusSquareOutlined","QueueCube3d","key","uuidv4","Disappear","enqueueValue","shift","dequeueValue","Fragment","enqueueSeq","dequeueSeq","StackCube3d","popValue","PopDone","pushValue","startPosY","pushSeq","popSeq","Arrow3d","points","hidden","lineWidth","Line","LinkCube3d","arrowTo","moveTop","moveDown","posY","setPosY","setPosX","deltaX","y","translateY","arrowStartPosX","HeadInsert","initValues","handleHeadInsert","ShowArrow","MoveDown","headInsertSeq","handleTailInsert","Line3d","Sphere3d","reset","getLChildValue","binaryTree","indexOfNode","getRChildValue","setLChild","lChild","setRChild","rChild","getDeepthByNodeIndex","floor","base","truth","log","addToBST","bts","indexOfRoot","nodeV","randomBST","cache","fill","initSpheres","preOrderSeq","inOrderSeq","postOrderSeq","cdnOfNodes","spheres","newBinaryTree","routerView","page","initBinaryTree","treeToString","maxDeepth","handlePreorder","handleInorder","handlePostorder","sphere","curDeepth","curLChildValue","curRChildValue","RouterView","routerMap","component","Header","Content","Footer","App","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c10ce0a2.chunk.js","sourcesContent":["import { useEffect, useRef, useState } from \"react\"\n\n/** 随机生成一个 start ~ end 的整数 */\nexport function randomNum(start: number, end: number): number {\n    return +(Math.random() * (end - start) + start).toFixed(0);\n}\n\n/** 随机生成指定长度的数组 */\nexport function randomArr(length: number): number[] {\n    const arr = [];\n    for (let i = 0; i < length; i++) {\n        arr.push(randomNum(3, 40));\n    }\n    return arr;\n}\n\n/** 判断某个元素是否 hover */\nexport function useHover() {\n    const [value, setValue] = useState(false);\n    const ref = useRef<any>();\n    const handleMouseOver = () => setValue(true);\n    const handleMouseOut = () => setValue(false);\n    useEffect(\n        () => {\n            const node = ref.current;\n            if (node) {\n                node.addEventListener(\"mouseover\", handleMouseOver);\n                node.addEventListener(\"mouseout\", handleMouseOut);\n                return () => {\n                    node.removeEventListener(\"mouseover\", handleMouseOver);\n                    node.removeEventListener(\"mouseout\", handleMouseOut);\n                };\n            }\n        },\n        [ref.current] // Recall only if ref changes\n    );\n    return [ref, value];\n}","import React from \"react\";\n\n/** 设置 SortCube 之间的间距 */\nexport const SORT_CUBE_INTERVAL_DISTANCE = 2;\n\n/** 设置 StackCube 之间的间距 */\nexport const STACK_CUBE_INTERVAL_DISTANCE = 0.8;\n\n/** 设置 QueueCube 之间的间距 */\nexport const QUEUE_CUBE_INTERVAL_DISTANCE = 2.2;\n\n/** 设置 LinkCube 之间的间距 */\nexport const LINK_CUBE_INTERVAL_DISTANCE = 3.5;\n\n/** 设置 3d 物品在 scene 中的基准 y 轴坐标 */\nexport const BASE_POSY = -2;\n\n\n/** 520 ~ 120\n \n\n\n */\n\n/** 遍历细节数组，分发任务的间隔时间 */\nexport const DISPATCH_INTERVAL = 320;\n\n\nexport interface IBaseProps {\n    style?: React.CSSProperties;\n    className?: string;\n}\n\n/** 数据结构类型枚举同时也是tag的类型 */\nexport enum DataStrucTypes {\n    Sort,\n    Array,\n    BubbleSort,\n    SelectSort,\n    InsertSort,\n    QuickSort,\n    MergeSort,\n\n    LinkedList,\n    HeadInsert,\n    TailInsert,\n    Queue,\n    Enqueue,\n    Dequeue,\n    Stack,\n    Push,\n    Pop,\n\n    Search,\n    HashTable,\n    BinarySearch,\n\n    Tree,\n    BinarySearchTree,\n    BinaryHeap,\n    AVLTree,\n    BTree,\n    BPlusTree,\n    RedBlackTree,\n\n    Graph,\n    Traverse,\n}\n\n/** 3d几何体通用配置 */\nexport interface IGeometryProps {\n    value: number | null;\n    disappear?: boolean;\n    colorConfig?: IColorConfig\n    position?: any;\n    isActive?: boolean;\n    isLock?: boolean;\n    isSpRev?: boolean;\n}\n\n/** 控制台操作细节类型 */\nexport enum OpeDetailTypes {\n    Swap = '交换',\n    Add = '新增元素',\n    Delete = '删除元素',\n    HeadInsert = '头部插入',\n    TailInsert = '尾部插入',\n    Pop = '弹栈',\n    Push = '压栈',\n    Enqueue = '入队',\n    Dequeue = '出队',\n    TravDetails = '遍历',\n    Default = '数据源'\n}\n\nexport enum ActionTypes {\n    Pop,\n    PopDone,\n    Push,\n    PushDone,\n    Active,\n    Deactive,\n    Swap,\n    SwapDone,\n    Lock,\n    UnLock,\n    SortDone,\n    RandomDone,\n    Random,\n    Add,\n    AddDone,\n    Delete,\n    DeleteDone,\n    Search,\n    Move,\n    Enqueue,\n    Dequeue,\n    DequeueDone,\n    Disappear,\n    HeadInsert,\n    TailInsert,\n    ShowArrow,\n    MoveDown,\n    MoveTop\n}\n\nexport interface IColorConfig {\n    /** 默认颜色 */\n    defaultColor?: string;\n    /** hover颜色 */\n    hoverColor?: string;\n    /** active颜色 */\n    activeColor?: string;\n    /** lock颜色 */\n    lockColor?: string;\n}\n\n\nexport type Points = [number, number, number][];\n","import { useSpring, animated, config } from 'react-spring'\nimport { Card } from 'antd'\nimport { DataStrucTypes, IBaseProps } from '../../types'\nimport { useHover } from '../../utils'\nimport './homeItem.scss'\n\nexport interface IHomeItemProps extends IBaseProps {\n    /** 卡片标题 */\n    title: string;\n    /** 数据结构类型 */\n    type: DataStrucTypes;\n    /** 图片资源 */\n    src: string;\n    /** 标签 */\n    tag: React.ReactNode;\n    /** 点击事件 */\n    onClick: (type: DataStrucTypes) => void;\n}\n\nconst HomeItem: React.FC<IHomeItemProps> = (props) => {\n    const { title, src, tag, type, onClick } = props;\n    const [hoverRef, isHover] = useHover();\n\n    const { scale } = useSpring({\n        scale: (\n            isHover ? 1.05 : 1\n        ),\n        config: config.stiff\n    });\n\n    return (\n        <animated.div\n            ref={hoverRef as any}\n            className='homeItem'\n            style={{ scale }}\n        >\n            <Card\n                hoverable\n                cover={<img src={src} alt='pic' />}\n                onClick={() => { setTimeout(() => { onClick(type) }, 250) }}\n            >\n                <Card.Meta\n                    title={title}\n                    description={tag}\n                />\n            </Card>\n        </animated.div>\n\n    )\n}\n\nexport default HomeItem;","export default __webpack_public_path__ + \"static/media/Sort.af83f2f6.jpg\";","export default __webpack_public_path__ + \"static/media/Stack.83affc03.jpg\";","export default __webpack_public_path__ + \"static/media/Queue.5d3f80d2.jpg\";","export default __webpack_public_path__ + \"static/media/BinarySearchTree.0ea5af15.jpg\";","import { Tag } from 'antd'\nimport { DataStrucTypes, IBaseProps } from '../../types';\nimport './tags.scss'\n\n\n\ninterface ITagsProps extends IBaseProps {\n    /** 标签组类型 */\n    type: DataStrucTypes\n}\n\nconst Tags: React.FC<ITagsProps> = (props) => {\n    const { type } = props;\n\n    switch (type) {\n        case DataStrucTypes.Array:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">数组</Tag>\n            </div>);\n\n        case DataStrucTypes.AVLTree:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">avl树</Tag>\n            </div>);\n\n        case DataStrucTypes.BPlusTree:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">B+树</Tag>\n            </div>);\n\n        case DataStrucTypes.BTree:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">B树</Tag>\n            </div>);\n\n        case DataStrucTypes.BinarySearchTree:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">二叉搜索树</Tag>\n            </div>);\n\n        case DataStrucTypes.Graph:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">图论</Tag>\n            </div>);\n\n        case DataStrucTypes.HashTable:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">哈希表</Tag>\n            </div>);\n\n        case DataStrucTypes.BinaryHeap:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">二叉堆</Tag>\n            </div>);\n\n        case DataStrucTypes.LinkedList:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">链表</Tag>\n            </div>);\n\n        case DataStrucTypes.Queue:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">队列</Tag>\n            </div>);\n\n        case DataStrucTypes.RedBlackTree:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">红黑树</Tag>\n            </div>);\n\n        case DataStrucTypes.Stack:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">栈</Tag>\n            </div>);\n        case DataStrucTypes.Sort:\n            return (<div className='tags-warp'>\n                <Tag color=\"geekblue\">排序</Tag>\n            </div>);\n        case DataStrucTypes.Traverse:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">遍历</Tag>\n            </div>);\n        case DataStrucTypes.Search:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">搜索</Tag>\n            </div>);\n        case DataStrucTypes.Tree:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">树</Tag>\n            </div>);\n\n        case DataStrucTypes.BinarySearch:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">二分</Tag>\n            </div>);\n        case DataStrucTypes.QuickSort:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">快排</Tag>\n            </div>);\n        case DataStrucTypes.SelectSort:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">选择</Tag>\n            </div>);\n        case DataStrucTypes.InsertSort:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">插入</Tag>\n            </div>);\n        case DataStrucTypes.BubbleSort:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">冒泡</Tag>\n            </div>);\n        case DataStrucTypes.MergeSort:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">归并</Tag>\n            </div>);\n        case DataStrucTypes.Push:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">压栈</Tag>\n            </div>);\n        case DataStrucTypes.Pop:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">弹栈</Tag>\n            </div>);\n        case DataStrucTypes.Enqueue:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">入队</Tag>\n            </div>);\n        case DataStrucTypes.Dequeue:\n            return (<div className='tags-warp'>\n                <Tag color=\"orange\">出队</Tag>\n            </div>);\n        default:\n            return (\n                <></>\n            )\n    }\n}\n\nexport default Tags;","import { IHomeItemProps } from \"../../components/HomeItem/homeItem\";\nimport { DataStrucTypes } from \"../../types\";\nimport Pic from '../../assets/homeItemCovers/84993086_p0.jpg'\nimport SortPic from '../../assets/homeItemCovers/Sort.jpg';\nimport StackPic from '../../assets/homeItemCovers/Stack.jpg';\nimport LinkedListPic from '../../assets/homeItemCovers/LinkedList.jpg';\nimport QueuePic from '../../assets/homeItemCovers/Queue.jpg';\nimport BinarySearchTree from '../../assets/homeItemCovers/BinarySearchTree.jpg';\nimport Tags from \"../../components/Tags/tags\";\n\n/** home 的 item 数据配置 */\nexport const homeItemsConfig: Omit<IHomeItemProps, 'onClick'>[][] = [\n    // 第一排\n    [\n        {\n            src: SortPic,\n            tag: (\n                <>\n                    <Tags type={DataStrucTypes.Array} />\n                    <Tags type={DataStrucTypes.BubbleSort} />\n                    <Tags type={DataStrucTypes.SelectSort} />\n                    {/* <Tags type={DataStrucTypes.InsertSort} /> */}\n                    <Tags type={DataStrucTypes.QuickSort} />\n                </>\n            ),\n            title: '排序',\n            type: DataStrucTypes.Sort\n        },\n        // {\n        //     src: LinkedListPic,\n        //     tag: <Tags type={DataStrucTypes.LinkedList} />,\n        //     title: '链表',\n        //     type: DataStrucTypes.LinkedList\n        // },\n        {\n            src: StackPic,\n            tag: (\n                <>\n                    <Tags type={DataStrucTypes.Stack} />\n                    <Tags type={DataStrucTypes.Push} />\n                    <Tags type={DataStrucTypes.Pop} />\n                </>\n            ),\n            title: '栈',\n            type: DataStrucTypes.Stack\n        },\n        {\n            src: QueuePic,\n            tag: (\n                <>\n                    <Tags type={DataStrucTypes.Queue} />\n                    <Tags type={DataStrucTypes.Enqueue} />\n                    <Tags type={DataStrucTypes.Dequeue} />\n                </>\n            ),\n            title: '队列',\n            type: DataStrucTypes.Queue\n        },\n        {\n            src: BinarySearchTree,\n            tag: (\n                <>\n                    <Tags type={DataStrucTypes.BinarySearchTree} />\n                    <Tags type={DataStrucTypes.Traverse} />\n                </>\n            ),\n            title: '二叉搜索树',\n            type: DataStrucTypes.BinarySearchTree\n        },\n    ],\n    // 第二排\n    // [\n    //     {\n    //         src: Pic,\n    //         tag: <Tags type={DataStrucTypes.HashTable} />,\n    //         title: '哈希表',\n    //         type: DataStrucTypes.HashTable\n    //     },\n    //     {\n    //         src: BinarySearchTree,\n    //         tag: (\n    //             <Tags type={DataStrucTypes.BinarySearchTree} />\n    //         ),\n    //         title: '二叉搜索树',\n    //         type: DataStrucTypes.BinarySearchTree\n    //     },\n    //     {\n    //         src: Pic,\n    //         tag: <Tags type={DataStrucTypes.BinaryHeap} />,\n    //         title: '二叉堆',\n    //         type: DataStrucTypes.BinaryHeap\n    //     },\n    //     {\n    //         src: Pic,\n    //         tag: <Tags type={DataStrucTypes.AVLTree} />,\n    //         title: 'AVL树',\n    //         type: DataStrucTypes.AVLTree\n    //     },\n    // ],\n    // // 第三排\n    // [\n    //     {\n    //         src: Pic,\n    //         tag: <Tags type={DataStrucTypes.RedBlackTree} />,\n    //         title: '红黑树',\n    //         type: DataStrucTypes.RedBlackTree\n    //     },\n    //     {\n    //         src: Pic,\n    //         tag: <Tags type={DataStrucTypes.BTree} />,\n    //         title: 'B树',\n    //         type: DataStrucTypes.BTree\n    //     },\n    //     {\n    //         src: Pic,\n    //         tag: <Tags type={DataStrucTypes.BPlusTree} />,\n    //         title: 'B+树',\n    //         type: DataStrucTypes.BPlusTree\n    //     },\n    //     {\n    //         src: Pic,\n    //         tag: <Tags type={DataStrucTypes.Graph} />,\n    //         title: '图结构',\n    //         type: DataStrucTypes.Graph\n    //     },\n\n    // ],\n];","import { useState } from 'react'\nimport { Col, Row } from 'antd';\nimport { useHistory } from 'react-router';\nimport { useSpring, animated, config, useSpringRef, useTransition, useChain } from 'react-spring/web'\nimport HomeItem from '../../components/HomeItem/homeItem';\nimport { DataStrucTypes } from '../../types';\nimport { homeItemsConfig } from '../../configs/homeItems';\nimport './home.scss'\n\nconst root = '/data-structure-visualization'\n\nconst Home = () => {\n    const history = useHistory();\n    const [open, setOpen] = useState(false)\n\n    // const springApi = useSpringRef()\n    // const { size, ...rest } = useSpring({\n    //     ref: springApi,\n    //     config: config.stiff,\n    //     from: { size: '20%', opacity: 0 },\n    //     to: {\n    //         size: open ? '20' : '100%',\n    //         opacity: open ? 0 : 1,\n    //     },\n    // })\n\n    // const transApi = useSpringRef()\n    // const transition = useTransition(open ? data : [], {\n    //     ref: transApi,\n    //     trail: 400 / 12,\n    //     from: { opacity: 0, scale: 0 },\n    //     enter: { opacity: 1, scale: 1 },\n    //     leave: { opacity: 0, scale: 0 },\n    // })\n\n    // // This will orchestrate the two animations above, comment the last arg and it creates a sequence\n    // useChain(open ? [transApi, springApi] : [springApi, transApi], [\n    //     0,\n    //     open ? 0.1 : 0.6,\n    // ])\n\n\n    const handleClick = (type: DataStrucTypes) => {\n        switch (type) {\n            case DataStrucTypes.Sort:\n                return history.push(root + '/sort');\n            case DataStrucTypes.LinkedList:\n                return history.push(root + '/linkedList')\n            case DataStrucTypes.Stack:\n                return history.push(root + '/stack')\n            case DataStrucTypes.Queue:\n                return history.push(root + '/queue')\n            case DataStrucTypes.HashTable:\n                return history.push(root + '/hashTable')\n            case DataStrucTypes.BinarySearchTree:\n                return history.push(root + '/binarySearchTree')\n            case DataStrucTypes.BinaryHeap:\n                return history.push(root + '/binaryHeap')\n            case DataStrucTypes.AVLTree:\n                return history.push(root + '/avlTree')\n            case DataStrucTypes.RedBlackTree:\n                return history.push(root + '/redBlackTree')\n            case DataStrucTypes.BTree:\n                return history.push(root + '/bTree')\n            case DataStrucTypes.BPlusTree:\n                return history.push(root + '/bPlusTree')\n            case DataStrucTypes.Graph:\n                return history.push(root + '/graph')\n        }\n    }\n    const { size, opacity } = useSpring({\n        from: {\n            size: '20%',\n            opacity: '0',\n        },\n        to: {\n            size: open ? '20%' : '100%',\n            opacity: open ? '0' : '1',\n        },\n        config: config.stiff\n    })\n    return (\n        <div className='home-warp'>\n            {homeItemsConfig.map((row, i) => (\n                <Row gutter={{ xs: 8, sm: 16, md: 24 }} key={i + '&'}>\n                    {row.map((col, j) => (\n                        <Col xs={12} sm={12} md={6} lg={6} xl={6} key={i + '&' + j}>\n                            <animated.div\n                                className='homeItem-warp'\n                                style={{ width: size, height: size, opacity }}\n                                onClick={() => { setOpen(true) }}\n                            >\n                                <HomeItem\n                                    src={col.src}\n                                    tag={col.tag}\n                                    title={col.title}\n                                    type={col.type}\n                                    onClick={handleClick}\n                                />\n                            </animated.div>\n                        </Col>\n                    ))}\n                </Row>\n            ))}\n        </div >\n    )\n}\n\nexport default Home;","import { useEffect, useRef, useState } from \"react\";\nimport { Input, Menu, InputNumber, Button, Drawer, Slider, InputNumberProps } from \"antd\";\nimport { MenuUnfoldOutlined } from \"@ant-design/icons\";\nimport { useHover } from \"../../utils\";\nimport { IBaseProps } from \"../../types\";\nimport { animated, config, useSpring } from \"react-spring/web\";\nimport './console.scss'\n\nconst { Item, SubMenu } = Menu;\n\ninterface IConsoleProps extends IBaseProps {\n    /** 控制台左边的操作界面 */\n    operation?: React.ReactNode;\n    /** 控制台右边的显示器 */\n    displayer?: React.ReactNode;\n    /** drawer的高度 */\n    drawerHeight?: number;\n    /** 是否有silider */\n    showSilider?: boolean;\n    /** slider变化时的回调 */\n    onSliderChange?: (value: number) => void;\n}\n\nconst Console: React.FC<IConsoleProps> = (props) => {\n\n    const {\n        children,\n        style,\n        operation,\n        displayer,\n        drawerHeight,\n        showSilider,\n        onSliderChange\n    } = props;\n\n    const [hoverRef, isHover] = useHover();\n    const [isUnfold, setIsUnfold] = useState(false);\n    const displayConRef = useRef<HTMLDivElement>();\n\n    const { opacity } = useSpring({\n        opacity: isHover ? 0.7 : 0.2,\n        config: config.gentle\n    })\n\n    /** 当 displayer 里面的内容变多的时候，始终保持其滚动条位于底部 */\n    useEffect(() => {\n        if (displayConRef.current) displayConRef.current.scrollTop = displayConRef.current.scrollHeight;\n    }, [displayConRef.current?.scrollHeight])\n\n    return (\n        <animated.div\n            className='console-warp'\n            ref={hoverRef as any}\n            style={{ ...style, opacity }}\n        >\n            <Menu\n                className='console'\n                mode=\"inline\"\n                theme=\"dark\"\n                inlineCollapsed={true}\n                selectable={false}\n                style={{ display: isUnfold ? 'none' : 'inline-block' }}\n            >\n                <Item\n                    icon={<MenuUnfoldOutlined />}\n                    key='item0'\n                    onClick={() => {\n                        setIsUnfold(true);\n                    }}\n                >\n                    展开操作台\n                </Item>\n                {children}\n            </Menu>\n            <Drawer\n                className='console-drawer'\n                title='操作台'\n                height={drawerHeight}\n                visible={isUnfold}\n                placement='bottom'\n                mask={false}\n                onClose={() => { setIsUnfold(false) }}\n            >\n\n                <div className='operation'>\n                    {showSilider &&\n                        <div className='slider-warp'>\n                            动画速度：\n                            <Slider\n                                className='slider'\n                                defaultValue={32}\n                                onChange={(value: number) => onSliderChange?.(value)}\n                            />\n                        </div>\n                    }\n\n                    {operation}\n                </div>\n\n                <div className='displayer'>\n                    <div className='content' ref={displayConRef as any}>\n                        {displayer}\n                    </div>\n                </div>\n            </Drawer>\n        </animated.div>\n    )\n}\n\nConsole.defaultProps = {\n    showSilider: true\n}\n\nexport { Item, SubMenu };\nexport default Console;\n\n\n\n\n","import * as THREE from 'three'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { animated, useSpring, config } from 'react-spring/three'\nimport { RoundedBox, Text } from \"@react-three/drei\";\nimport { useFrame } from '@react-three/fiber'\nimport { BASE_POSY, SORT_CUBE_INTERVAL_DISTANCE, IGeometryProps, DISPATCH_INTERVAL } from '../../../types';\nimport { quickSortSeq } from '../../../utils/sort';\n\ninterface ISortCube3dProps extends IGeometryProps {\n    sortIndexes: number[];\n    sortIndex: number;\n    startPosX: any;\n}\n\nconst SortCube3d: React.FC<ISortCube3dProps> = (props) => {\n\n    const {\n        position,\n        isActive,\n        isLock,\n        isSpRev,\n        value,\n        sortIndexes,\n        sortIndex,\n        startPosX,\n        colorConfig,\n        disappear\n    } = props;\n\n    const [isHover, setIsHover] = useState(false)\n    const [isClick, setIsClick] = useState(false)\n    const meshRef = useRef<THREE.Mesh>(null!)\n\n    /** 根据传入的排序下标，获取到 cube 所在的 X 坐标 */\n    const getPosX = (sortIndex: number) => startPosX + (sortIndex * SORT_CUBE_INTERVAL_DISTANCE);\n\n    /** 移动元素时，获取其起始位置 */\n    const getOrginPosX = () => {\n        return getPosX(sortIndex);\n    }\n\n    /** 移动元素时，获取其目标位置 */\n    const getTargetPosX = () => {\n        return getPosX(sortIndexes[sortIndexes.length - 1]);\n    }\n\n    const oldPosX = getOrginPosX();\n    const targetPosX = getTargetPosX();\n\n    /** 配置扩缩动画效果 */\n    const { scale } = useSpring({\n        reverse: disappear || isSpRev,\n        from: { scale: 0 },\n        to: { scale: isClick ? 1.10 : 1 },\n        config: (disappear || isSpRev) ? config.default : config.wobbly\n    })\n\n    /** 配置颜色过渡效果 */\n    const { color } = useSpring({\n        color: (\n            isClick ? colorConfig?.activeColor :\n                isHover ? colorConfig?.hoverColor :\n                    isLock ? colorConfig?.lockColor : colorConfig?.defaultColor\n        )\n    })\n\n    /** 扫描数组的时候，如果改变了 active 属性，则给它设置一个点击效果 */\n    useEffect(() => {\n        isActive ? setIsClick(true) : setIsClick(false);\n    }, [isActive])\n\n\n    useFrame(() => {\n\n        const delta = Math.abs(oldPosX - targetPosX) / (DISPATCH_INTERVAL / 20);\n\n        // 如果当前 sortIndex 需要改变\n        if (delta) {\n\n            // mesh 需要往右移\n            if (oldPosX - targetPosX < 0 && meshRef.current.position.x < targetPosX) {\n                meshRef.current.translateX(delta);\n                if (meshRef.current.position.x >= targetPosX) {\n                    meshRef.current.position.x = targetPosX;\n                }\n            }\n\n            // mesh 需要往左移\n            else if (oldPosX - targetPosX > 0 && meshRef.current.position.x > targetPosX) {\n                meshRef.current.translateX(-delta);\n                if (meshRef.current.position.x <= targetPosX) {\n                    meshRef.current.position.x = targetPosX;\n                }\n            }\n        }\n    })\n\n    return (\n        <animated.mesh\n            scale={scale}\n            ref={meshRef}\n            position={position}\n        >\n            <Text\n                fontSize={0.5}\n                color='black'\n            >\n                {value}\n            </Text>\n            <RoundedBox\n                args={[1, value ? value * 0.2 : 0, 1]}\n                onClick={() => setIsClick(!isClick)}\n                onPointerOver={() => setIsHover(true)}\n                onPointerOut={() => setIsHover(false)}\n            >\n                <animated.meshPhongMaterial\n                    color={color}\n                    opacity={0.5}\n                    transparent={true}\n                // vertexColors={true}\n                // color={[0xffff00, 0xff00ff, 0x00ffff]}\n                // specular={new THREE.Color(0x4488ee)}\n                // shininess={12}\n                // wireframeLinewidth={3}\n                // wireframe={true}\n                />\n            </RoundedBox>\n        </animated.mesh>\n    )\n}\n\nSortCube3d.defaultProps = {\n    colorConfig: {\n        defaultColor: 'wheat',\n        activeColor: 'orange',\n        hoverColor: 'skyblue',\n        lockColor: '#8076a3'\n    }\n}\n\nexport default React.memo(SortCube3d);","import { useEffect } from 'react';\nimport { Html, useProgress } from '@react-three/drei';\nimport { Spin } from 'antd';\n\nexport function SceneLoader(props: any) {\n    const { progress } = useProgress();\n    const { onLoaded } = props;\n    useEffect(() => {\n        if (progress === 100) {\n            onLoaded?.();\n        }\n    }, [progress])\n\n    return (\n        <Html center style={{ marginTop: '200px' }}>\n            <Spin size='large' />\n            {/* {progress} % loaded */}\n        </Html>\n    );\n}\n\n\n\n\n\n\n","import * as THREE from 'three'\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport { Suspense, useEffect, useRef, useState } from 'react';\nimport { Environment, Html, OrbitControls, PerspectiveCamera, Reflector, TransformControls, useProgress } from \"@react-three/drei\";\nimport { SceneLoader } from '../../configs/loading';\n\nimport './scene3d.scss'\n\n\ninterface IScene3dProps {\n    /** 场景加载完毕后的回调 */\n    onLoaded?: () => void;\n}\n\nconst Scene3d: React.FC<IScene3dProps> = (props) => {\n    const {\n        children,\n        onLoaded\n    } = props;\n\n    const cameraRef = useRef<THREE.PerspectiveCamera>(null!);\n\n    // useEffect(() => {\n    //     cameraRef.current?.lookAt(new THREE.Vector3(10, 10, 1))\n    // })\n\n\n    const [cameraPos, setCameraPos] = useState<THREE.Vector3>(new THREE.Vector3(0, 0, 5));\n\n    // const upDate = () => {\n    //     // console.log(123);\n    //     // return new THREE.Camera()\n    // }\n\n\n    // const handleKeyDown = (ev: KeyboardEvent) => {\n    //     // const delta = new THREE.Clock(true).getDelta();\n    //     const moveDistance = 1;\n    //     switch (ev.key) {\n    //         case 'w':\n    //             // setCameraPos((pre) => (new THREE.Vector3(pre.x, pre.y, pre.z - moveDistance)));\n    //             break;\n    //         case 'a':\n    //             setCameraPos((pre) => (new THREE.Vector3(pre.x - moveDistance, pre.y, pre.z)));\n    //             break;\n    //         case 'd':\n    //             setCameraPos((pre) => (new THREE.Vector3(pre.x + moveDistance, pre.y, pre.z)));\n    //             break;\n    //         case 's':\n    //             setCameraPos((pre) => (new THREE.Vector3(pre.x, pre.y, pre.z + moveDistance)));\n\n    //             break;\n    //     }\n    // }\n\n    // useEffect(() => {\n    //     document.addEventListener('keydown', handleKeyDown);\n    //     return () => {\n    //         document.removeEventListener('keydown', handleKeyDown);\n    //     }\n    // }, [])\n\n\n\n    // useEffect(() => {\n    //     if (cameraRef.current) {\n    //         cameraRef.current.lookAt(new THREE.Vector3(0, -10, 16))\n    //     }\n    //     // console.log(cameraRef.current);\n    //     // cameraRef.current?.lookAt(new THREE.Vector3(0, -10, 16))\n    // })\n\n\n    return (\n        <div className='scene3d-warp'>\n            <Canvas>\n                <PerspectiveCamera\n                    ref={cameraRef}\n                    makeDefault\n                    position={[0, 0, 16]}\n                />\n                <ambientLight intensity={0.3} />\n                <directionalLight color=\"white\" position={[1, 1, 1]} />\n\n                <Suspense fallback={<SceneLoader onLoaded={onLoaded} />}>\n                    {/** <Reflector\n                    resolution={1024}\n                    args={[10, 10]}\n                    mirror={0.75}\n                    // mixBlur={mixBlur || 0}\n                    mixStrength={1}\n                    rotation={[-Math.PI / 2, 0, Math.PI / 2]}\n                    minDepthThreshold={0.8}\n                    maxDepthThreshold={1.2}\n                    // depthScale={depthScale || 0}\n                    depthToBlurRatioBias={0.2}\n                    debug={0}\n                    // distortion={distortion || 0}\n                    // distortionMap={distortionMap}\n                >\n                    \n                    {(Material, props) => (\n                        <Material\n                            color=\"#ddd\"\n                            metalness={0}\n                            // roughnessMap={roughness}\n                            roughness={1}\n                            // normalMap={normal}\n                            // normalScale={_normalScale}\n                            {...props}\n                        />\n                    )}\n                </Reflector> */}\n                    {/** <TransformControls> */}\n                    {children}\n                    {/** </TransformControls> */}\n\n\n                    <OrbitControls\n                        maxDistance={30}\n                    />\n                    <Environment\n                        // preset='night'  \n                        background\n                        files={['ev.jpg', 'ev.jpg', 'ev.jpg', 'ev.jpg', 'ev.jpg', 'ev.jpg']}\n                        path='./'\n                    />\n                </Suspense>\n            </Canvas>\n        </div>\n\n    )\n}\n\nexport default Scene3d;","import { ISortCube } from \"../pages/Sort/sort\";\nimport { ActionTypes, SORT_CUBE_INTERVAL_DISTANCE } from \"../types\";\n\n/** 初始化 cubes */\nexport function initCubes(values: number[]): ISortCube[] {\n    return values.map((value, index) => ({\n        value,\n        isActive: false,\n        isLock: false,\n        disappear: false,\n        sortIndexes: [index],\n        sortIndex: index\n    }));\n}\n\n/** 根据数组长度，计算出第一个 cube 的 position 的 x 坐标 */\nexport function getStartPosX(arrLen: number): number {\n    return -(arrLen - 1) * SORT_CUBE_INTERVAL_DISTANCE / 2;\n}\n\n/** 传入一组序列，判断其是否有序 */\nexport function isSorted(values: number[]): boolean {\n    return false;\n}\n\n/*\n    0 1 2 3 4 5 6 7 \n    0 1 2 3 x 4 5 6 7\n\n*/\n\n/** 返回向数组插值时，数组位移的细节 */\nexport function addEleSeq(arr: number[], newEle: number, targetIndex: number) {\n\n    // 记录动画细节\n    const seq = [];\n\n    // 记录待位移的元素下标\n    const oldIndexes: number[] = [];\n    arr.forEach((_, i) => { i >= targetIndex && oldIndexes.push(i) });\n\n    // 记录位移元素的目标下标\n    const targetIndexes: number[] = [];\n    oldIndexes.forEach((value) => { targetIndexes.push(value + 1) });\n\n    // 先激活需要位移的元素\n    seq.push({ type: ActionTypes.Active, payload: oldIndexes });\n\n    // 开始位移，并扩容出现新的下标\n    seq.push({\n        type: ActionTypes.Move,\n        payload: {\n            oldIndexes,\n            targetIndexes\n        }\n    });\n\n    // 取消激活\n    seq.push({ type: ActionTypes.Deactive, payload: targetIndexes })\n\n    // 在 targetIndex 处添加元素\n    seq.push({\n        type: ActionTypes.AddDone,\n        payload: {\n            newEle,\n            targetIndex\n        }\n    });\n\n    return seq;\n}\n\n/** 返回向数组删除元素时，数组位移的细节 */\nexport function deleteEleSeq(arr: number[], targetIndex: number) {\n\n    // 记录动画细节\n    const seq = [];\n\n    // 记录待位移的元素下标\n    const oldIndexes: number[] = [];\n    arr.forEach((_, i) => { i >= targetIndex && oldIndexes.push(i) });\n\n    // 记录位移元素的目标下标\n    const targetIndexes: number[] = [];\n    oldIndexes.forEach((value) => { targetIndexes.push(value - 1) });\n\n    // 先删除 targetIndex 位置的元素\n    seq.push({ type: ActionTypes.Delete, payload: targetIndex });\n\n    // 激活需要位移的元素\n    seq.push({ type: ActionTypes.Active, payload: oldIndexes });\n\n    // 开始位移，同时缩容\n    seq.push({\n        type: ActionTypes.Move,\n        payload: {\n            oldIndexes,\n            targetIndexes\n        }\n    });\n\n    // 取消激活\n    seq.push({ type: ActionTypes.Deactive, payload: targetIndexes })\n\n    // 删除完毕，修改内部的 sortIndex\n    seq.push({ type: ActionTypes.DeleteDone, payload: targetIndex })\n\n    return seq;\n}\n\n/** 返回冒泡排序细节 */\nexport function bubbleSortSeq(arr: number[]) {\n    let backup = [...arr];\n    let sortSeq = [];\n    for (let i = backup.length - 1; i >= 0; i--) {\n        for (let j = 0; j < i; j++) {\n            sortSeq.push({ type: ActionTypes.Active, indexes: [j, j + 1] });\n            if (backup[j] > backup[j + 1]) {\n                let temp = backup[j];\n                backup[j] = backup[j + 1];\n                backup[j + 1] = temp;\n                sortSeq.push({ type: ActionTypes.Swap, indexes: [j, j + 1] });\n                sortSeq.push({ type: ActionTypes.SwapDone, indexes: [j, j + 1] });\n            }\n            sortSeq.push({ type: ActionTypes.Deactive, indexes: [j, j + 1] })\n        }\n        sortSeq.push({ type: ActionTypes.Lock, indexes: [i] });\n    }\n    sortSeq.push({ type: ActionTypes.SortDone })\n    return sortSeq;\n}\n\n/** 返回选择排序细节 */\nexport function selectSortSeq(arr: number[]) {\n    let backup = [...arr];\n    let sortSeq = [];\n    for (let i = backup.length - 1; i >= 0; i--) {\n        let max = -Infinity;\n        let indexOfMax = -1;\n        for (let j = 0; j <= i; j++) {\n            sortSeq.push({ type: ActionTypes.Active, indexes: [j] });\n            if (backup[j] > max) {\n                sortSeq.push({ type: ActionTypes.UnLock, indexes: [indexOfMax] })\n                max = backup[j];\n                indexOfMax = j;\n                sortSeq.push({ type: ActionTypes.Lock, indexes: [j] })\n            }\n            sortSeq.push({ type: ActionTypes.Deactive, indexes: [j] });\n        }\n        sortSeq.push({ type: ActionTypes.Lock, indexes: [indexOfMax] })\n        let temp = backup[i];\n        backup[i] = max;\n        backup[indexOfMax] = temp;\n        sortSeq.push({ type: ActionTypes.Swap, indexes: [indexOfMax, i] })\n        sortSeq.push({ type: ActionTypes.SwapDone, indexes: [indexOfMax, i] });\n    }\n    sortSeq.push({ type: ActionTypes.SortDone });\n    return sortSeq\n}\n\n/** 返回快速排序细节 */\nexport function quickSortSeq(arr: number[], l: number, r: number, sortSeq: any[]) {\n    if (l >= r) return;\n\n    let i = l - 1, j = r + 1, x = arr[l + r >> 1];\n    while (i < j) {\n        do {\n            i++;\n            sortSeq.push({ type: ActionTypes.Active, indexes: [i] });\n            sortSeq.push({ type: ActionTypes.Deactive, indexes: [i] });\n        } while (arr[i] < x);\n        // sortSeq.push({ type: ActionTypes.Lock, indexes: [i] });\n\n        do {\n            j--;\n            sortSeq.push({ type: ActionTypes.Active, indexes: [j] });\n            sortSeq.push({ type: ActionTypes.Deactive, indexes: [j] });\n        } while (arr[j] > x);\n        // sortSeq.push({ type: ActionTypes.Lock, indexes: [j] });\n\n        if (i < j) {\n            sortSeq.push({ type: ActionTypes.Swap, indexes: [i, j] })\n            let temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n            sortSeq.push({ type: ActionTypes.SwapDone, indexes: [i, j] });\n        }\n    }\n    quickSortSeq(arr, l, j, sortSeq);\n    quickSortSeq(arr, j + 1, r, sortSeq);\n}\n\n\n\n","import { useReducer, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, InputNumber, PageHeader, Steps, message } from 'antd';\nimport { Map, List } from 'immutable'\nimport { Text } from '@react-three/drei';\nimport Console, { Item, SubMenu } from '../../components/Console/console';\nimport SortCube3d from './SortCube3d/sortCube3d';\nimport Scene3d from '../../components/Scene3d/scene3d';\nimport { randomArr, randomNum } from '../../utils/index'\nimport { addEleSeq, bubbleSortSeq, deleteEleSeq, getStartPosX, initCubes, quickSortSeq, selectSortSeq } from '../../utils/sort';\nimport { ActionTypes, BASE_POSY, SORT_CUBE_INTERVAL_DISTANCE, DISPATCH_INTERVAL, IGeometryProps, OpeDetailTypes } from '../../types';\nimport {\n    BarChartOutlined,\n    DotChartOutlined,\n} from '@ant-design/icons';\nimport './sort.scss'\n\nconst { Step } = Steps;\n\nexport interface ISortCube extends IGeometryProps {\n    // 记录 cube 将要经历或者已经历过的下标\n    sortIndexes: number[];\n    // 记录 cube 当前页面中正处于的下标\n    sortIndex: number;\n}\ntype IReducer = (state: IState, action: IAction) => IState;\n\ninterface IState {\n    // 用来表示数组中各值的实时位置\n    values: number[];\n    // 用来表示每个 cube 的属性，其元素位置无意义，其中 sortIndex 才是对应的 values 的下标\n    cubes: ISortCube[];\n    // 是否排序完毕\n    sortDone: boolean;\n    // 是否随机化完毕\n    randomDone: boolean;\n    // 第一个cube的起始x坐标\n    startPosX: number;\n    // 记录当前操作的细节\n    opeDetails: { type: OpeDetailTypes, payload?: any }[]\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\nconst initState: IState = {\n    values: randomArr(randomNum(4, 10)),\n    cubes: [],\n    sortDone: true,\n    randomDone: true,\n    startPosX: 0,\n    opeDetails: []\n}\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n\n    const { type, payload } = action;\n    state.cubes = List(state.cubes).toJS().map((item) => Map(item).toJS()) as ISortCube[];\n\n    switch (type) {\n        case ActionTypes.Active:\n            return {\n                ...state,\n                cubes: state.cubes.map(\n                    (item) => (payload?.includes(item.sortIndexes[item.sortIndexes.length - 1]) ? { ...item, isActive: true } : { ...item })\n                ),\n                sortDone: false\n            }\n\n        case ActionTypes.Deactive:\n            return {\n                ...state,\n                cubes: state.cubes.map(\n                    (item) => payload?.includes(item.sortIndexes[item.sortIndexes.length - 1]) ? { ...item, isActive: false } : { ...item }\n                )\n            }\n\n        case ActionTypes.Lock:\n            return {\n                ...state,\n                cubes: state.cubes.map(\n                    (item) => payload?.includes(item.sortIndexes[item.sortIndexes.length - 1]) ? { ...item, isLock: true } : { ...item }\n                )\n            }\n\n        case ActionTypes.UnLock:\n            return {\n                ...state,\n                cubes: state.cubes.map(\n                    (item) => payload?.includes(item.sortIndexes[item.sortIndexes.length - 1]) ? { ...item, isLock: false } : { ...item }\n                )\n            }\n\n        case ActionTypes.Swap:\n            {\n\n                // 取出需要交换的两个下标\n                // 取出需要交换的两个下标\n                let index1 = (payload as number[])[0];\n                let index2 = (payload as number[])[1];\n\n                // 向 cube 对应的 sortIndexes 中 push 新的下标\n                const newCubes: ISortCube[] = state.cubes.map((item) => {\n                    const curSortIndex = item.sortIndexes[item.sortIndexes.length - 1];\n                    if (curSortIndex === index1) {\n                        const newSortIndexes = [...item.sortIndexes, index2]\n                        return { ...item, sortIndexes: newSortIndexes }\n                    } else if (curSortIndex === index2) {\n                        const newSortIndexes = [...item.sortIndexes, index1]\n                        return { ...item, sortIndexes: newSortIndexes }\n                    }\n                    return { ...item };\n                })\n\n                // 交换 values 的值\n                let newValues = [...state.values];\n                let temp = newValues[index1];\n                newValues[index1] = newValues[index2];\n                newValues[index2] = temp;\n\n                const newOpeDetail = {\n                    type: OpeDetailTypes.Swap,\n                    payload: {\n                        indexes: [index1, index2],\n                        curValues: [...newValues]\n                    }\n                }\n\n                return {\n                    ...state,\n                    cubes: newCubes,\n                    opeDetails: [...state.opeDetails, newOpeDetail],\n                    values: newValues\n                }\n            }\n\n        case ActionTypes.SwapDone:\n            {\n\n                // 交换完毕后，将对应的cube的sortIndex改为最新的sortIndex\n                const newCubes: ISortCube[] = state.cubes.map((item) => {\n                    const newSortIndex = item.sortIndexes[item.sortIndexes.length - 1];\n                    if (item.sortIndex !== newSortIndex) return { ...item, sortIndex: newSortIndex }\n                    return { ...item }\n                })\n\n                return {\n                    ...state,\n                    cubes: newCubes,\n                }\n            }\n\n        case ActionTypes.SortDone:\n            return {\n                ...state,\n                sortDone: true\n            }\n\n        case ActionTypes.Move:\n            {\n                const { oldIndexes, targetIndexes }: { oldIndexes: number[], targetIndexes: number[] } = payload;\n                // 把包含在 oldIndexes 中的 sortIndex 找出来\n                const newCubes = state.cubes.map((item) => {\n                    // 看 sortIndex 在 oldIndexes 中处于哪个位置，也对应 targetIndexes 的位置\n                    let i = oldIndexes.findIndex((value) => value === item.sortIndex);\n                    // 如果找到了，则往 sortIndexes 中添加 targetIndexes[i]\n                    if (i >= 0) {\n                        return {\n                            ...item,\n                            sortIndexes: [...item.sortIndexes, targetIndexes[i]]\n                        }\n                    }\n                    return { ...item }\n                })\n\n\n                let newValues: number[] = [...state.values];\n\n                let newOpeDetail;\n\n                // 判断是扩容还是缩容\n                if (targetIndexes[0] > oldIndexes[0]) {\n                    // 扩容下标\n                    newValues.push(-1);\n                } else {\n                    // 缩容下标\n                    newValues.splice(oldIndexes[0], 1);\n                    newOpeDetail = { type: OpeDetailTypes.Delete, payload: { index: oldIndexes[0], value: state.values[oldIndexes[0]], curValues: [...newValues] } }\n                }\n\n                return {\n                    ...state,\n                    cubes: newCubes,\n                    values: newValues,\n                    opeDetails: newOpeDetail ? [...state.opeDetails, newOpeDetail] : [...state.opeDetails]\n                }\n            }\n\n        case ActionTypes.AddDone:\n            {\n                const { newEle, targetIndex } = payload;\n\n                // 生成新 cube\n                const newCube: ISortCube = {\n                    sortIndex: targetIndex,\n                    sortIndexes: [targetIndex],\n                    value: newEle\n                }\n\n                // 更新 cube 的 sortIndex 到最新\n                let newCubes = state.cubes.map((item, i) => {\n                    const curSortIndex = item.sortIndex;\n                    const newSortIndex = item.sortIndexes[item.sortIndexes.length - 1];\n                    if (curSortIndex !== newSortIndex) {\n                        return { ...item, sortIndex: newSortIndex };\n                    }\n                    return { ...item };\n                })\n\n                // 添加新 cube\n                newCubes.push(newCube);\n\n                // 更新 values\n                let newValues = [...state.values];\n                newValues.splice(targetIndex, 0, newEle);\n                newValues.pop();\n\n                const newOpeDetail = { type: OpeDetailTypes.Add, payload: { index: targetIndex, value: newEle, curValues: [...newValues] } }\n\n                return {\n                    ...state,\n                    cubes: newCubes,\n                    values: newValues,\n                    opeDetails: [...state.opeDetails, newOpeDetail]\n                }\n            }\n\n        case ActionTypes.Delete:\n            {\n                const newCubes = state.cubes.map((item) => item.sortIndex === payload ? { ...item, disappear: true } : { ...item });\n\n                return {\n                    ...state,\n                    cubes: newCubes\n                }\n            }\n\n        case ActionTypes.DeleteDone:\n            {\n\n                let newCubes = [...state.cubes];\n\n                // 先把删除的元素真正意义上从 cubes 中删除\n                newCubes.splice(payload, 1);\n\n                // 更新 cube 的 sortIndex 到最新\n                newCubes = state.cubes.map((item) => {\n                    const curSortIndex = item.sortIndex;\n                    const newSortIndex = item.sortIndexes[item.sortIndexes.length - 1];\n                    if (curSortIndex !== newSortIndex) {\n                        return { ...item, sortIndex: newSortIndex };\n                    }\n                    return { ...item };\n                })\n\n                return {\n                    ...state,\n                    cubes: newCubes\n                }\n\n            }\n\n        case ActionTypes.RandomDone:\n            {\n                let newValues = randomArr(randomNum(4, 8));\n                let newStartPosX = getStartPosX(newValues.length);\n                return {\n                    ...state,\n                    cubes: initCubes(newValues),\n                    values: newValues,\n                    randomDone: true,\n                    startPosX: newStartPosX,\n                    opeDetails: [{ type: OpeDetailTypes.Default, payload: newValues }]\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false,\n            };\n\n        default:\n            return state;\n    }\n}\n\nconst Sort = () => {\n    const history = useHistory();\n\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        return {\n            ...state,\n            cubes: initCubes(state.values),\n            startPosX: getStartPosX(state.values.length),\n            opeDetails: [{ type: OpeDetailTypes.Default, payload: initState.values }]\n        }\n    })\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 控制台的添加删除元素的value和index */\n    const [value, setValue] = useState(0);\n    const [index, setIndex] = useState(0);\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 随机生成数组 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n\n    /** 处理冒泡排序 */\n    const handleBubbleSort = () => {\n        let sequence = bubbleSortSeq(state.values);\n        sequence.forEach((event, i) => {\n            setTimeout(() => {\n                dispatch({ type: event.type, payload: event.indexes })\n            }, i * DISPATCH_INTERVAL);\n        });\n    }\n\n    /** 处理选择排序 */\n    const handleSelectSort = () => {\n        let sequence = selectSortSeq(state.values);\n        sequence.forEach((event, i) => {\n            setTimeout(() => {\n                dispatch({ type: event.type, payload: event.indexes })\n            }, i * DISPATCH_INTERVAL)\n        })\n    }\n\n    /** 处理快速排序 */\n    const handleQuickSort = () => {\n        let sequence: any[] = [];\n        quickSortSeq([...state.values], 0, state.values.length - 1, sequence);\n        sequence.forEach((event, i) => {\n            setTimeout(() => {\n                dispatch({ type: event.type, payload: event.indexes })\n            }, i * DISPATCH_INTERVAL)\n        })\n    }\n\n    /** 处理添加元素 */\n    const handleAddEle = () => {\n        if (state.values.length < 10) {\n            if (index > state.values.length - 1) {\n                message.warning('输入的序号不合法')\n            } else {\n                const sequence = addEleSeq(state.values, value, index);\n                sequence.forEach((event, i) => {\n                    setTimeout(() => {\n                        dispatch({ type: event.type, payload: event.payload })\n                    }, i * DISPATCH_INTERVAL)\n                })\n            }\n\n        } else {\n            message.warning('添加失败，数组最大容量为10')\n        }\n\n    }\n\n    /** 处理删除元素 */\n    const handleDeleteEle = () => {\n        if (state.values.length > 0) {\n            if (index > state.values.length) {\n                message.warning('输入的序号不合法')\n            } else {\n                const sequence = deleteEleSeq(state.values, index);\n                sequence.forEach((event, i) => {\n                    setTimeout(() => {\n                        dispatch({ type: event.type, payload: event.payload })\n                    }, i * DISPATCH_INTERVAL)\n                })\n            }\n        } else {\n            message.warning('删除失败，当前数组为空')\n        }\n    }\n\n    /** 处理动画速度改变 */\n    const handleSliderChange = (value: number) => {\n        // console.log(value);\n    }\n\n\n    return (\n        <div className='sort-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='排序'\n            />\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n                    {\n                        state.cubes.map((item, index) => (\n                            <SortCube3d\n                                key={index + '@'}\n                                sortIndexes={item.sortIndexes}\n                                sortIndex={item.sortIndex}\n                                value={item.value}\n                                startPosX={state.startPosX}\n                                isActive={item.isActive}\n                                isLock={item.isLock}\n                                // 由于 cube 的重心决定其位置，那么高度变化会导致其底部覆盖掉下面的 text，所以要改变其重心位置\n                                position={[state.startPosX + (item.sortIndex * SORT_CUBE_INTERVAL_DISTANCE), ((item.value as number) * 0.2) / 2 + BASE_POSY, 0]}\n                                isSpRev={!state.randomDone}\n                                disappear={item.disappear}\n                            />\n                        ))\n                    }\n                    {\n                        state.values.map((_, index) => (\n                            <Text\n                                key={index + '*'}\n                                fillOpacity={state.randomDone ? 1 : 0}\n                                color='black'\n                                fontSize={0.5}\n                                position={[state.startPosX + (index * SORT_CUBE_INTERVAL_DISTANCE), -1 + BASE_POSY, 0]}\n                            >\n                                {index}\n                            </Text>\n                        ))\n                    }\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                    onSliderChange={handleSliderChange}\n                    operation={\n                        <>\n                            <div className='btn-group'>\n                                <div className='row'>\n                                    <Button icon={<BarChartOutlined />} onClick={handleRandom}>随机生成</Button>\n                                    <Button icon={<BarChartOutlined />} onClick={handleBubbleSort}>冒泡排序</Button>\n                                    <Button icon={<BarChartOutlined />} onClick={handleSelectSort}>选择排序</Button>\n                                </div>\n                                <div className='row'>\n                                    <Button icon={<BarChartOutlined />}>插入排序</Button>\n                                    <Button icon={<BarChartOutlined />} onClick={handleQuickSort}>快速排序</Button>\n                                    <Button icon={<BarChartOutlined />}>归并排序</Button>\n                                </div>\n                            </div>\n\n                            <div className='input-group'>\n                                <label>\n                                    <span className='lable-name'>数值:</span>\n                                    <InputNumber min={3} max={90} onChange={(value) => setValue(value as number)} />\n                                </label>\n                                <label>\n                                    <span className='lable-name'>序号:</span>\n                                    <InputNumber min={0} max={state.values.length} onChange={(index) => setIndex(index as number)} />\n                                </label>\n                                <Button type='primary' onClick={handleAddEle}>添加</Button>\n                                <Button onClick={handleDeleteEle}>删除</Button>\n                            </div>\n                        </>\n                    }\n\n                    displayer={\n                        <Steps direction=\"vertical\" size=\"small\" current={state.opeDetails.length - 1}>\n                            {state.opeDetails.map((item) => {\n                                const { type, payload } = item;\n                                switch (type) {\n                                    case OpeDetailTypes.Swap:\n                                        return (\n                                            <Step\n                                                title={`交换元素: i1=${payload.indexes[0]}, i2=${payload.indexes[1]}`}\n                                                description={`当前数组: [${payload.curValues.toString()}]`}\n                                            />\n                                        )\n\n                                    case OpeDetailTypes.Add:\n                                        return (\n                                            <Step\n                                                title={`新增元素: i=${payload.index}, v=${payload.value}`}\n                                                description={`当前数组: [${payload.curValues.toString()}]`}\n                                            />\n                                        )\n\n                                    case OpeDetailTypes.Delete:\n                                        return (\n                                            <Step\n                                                title={`删除元素: i=${payload.index}, v=${payload.value}`}\n                                                description={`当前数组: [${payload.curValues.toString()}]`}\n                                            />\n                                        )\n                                    default:\n                                        return (\n                                            <Step\n                                                title={`当前数组: [${payload.toString()}]`}\n                                            />\n                                        )\n                                }\n                            })}\n\n                        </Steps>\n                    }\n                >\n                    <Item\n                        key='item1'\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                    <SubMenu\n                        key='item2'\n                        icon={<BarChartOutlined />}\n                        title='排序'\n                    >\n                        <Item onClick={handleBubbleSort}>冒泡排序</Item>\n                        <Item onClick={handleSelectSort}>选择排序</Item>\n                        <Item>插入排序</Item>\n                        <Item onClick={handleQuickSort}>快速排序</Item>\n                        <Item>归并排序</Item>\n                    </SubMenu>\n                </Console>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Sort;","import { useReducer, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, Drawer, Input, PageHeader } from 'antd';\nimport { Map, List } from 'immutable'\nimport { Text } from '@react-three/drei';\nimport Console, { Item, SubMenu } from '../../components/Console/console';\nimport Scene3d from '../../components/Scene3d/scene3d';\nimport { randomArr, randomNum } from '../../utils/index'\nimport { ActionTypes, BASE_POSY, SORT_CUBE_INTERVAL_DISTANCE, DISPATCH_INTERVAL, IGeometryProps } from '../../types';\nimport {\n    BarChartOutlined,\n    DotChartOutlined,\n    MinusSquareOutlined,\n    PlusSquareOutlined,\n} from '@ant-design/icons';\nimport './avlTree.scss'\n\nexport interface IBinaryHeapCube extends IGeometryProps {\n\n}\ntype IReducer = (state: IState, action: IAction) => IState;\n\ninterface IState {\n    // 是否随机化完毕\n    randomDone: boolean;\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\nconst initState: IState = {\n    randomDone: true,\n}\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n\n    const { type, payload } = action;\n\n\n    switch (type) {\n        case ActionTypes.Active:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Deactive:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Lock:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.UnLock:\n            return {\n                ...state,\n            }\n\n\n        // case ActionTypes.Add:\n\n        // case ActionTypes.Delete:\n\n        case ActionTypes.RandomDone:\n            {\n                return {\n                    ...state,\n                    randomDone: true\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false\n            };\n\n        // case ActionTypes.Search:\n\n        default:\n            return state;\n    }\n}\n\nconst BinaryHeap = () => {\n\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        return {\n            ...state,\n        }\n    })\n\n    /** 控制抽屉是否展开 */\n    const [isUnfold, setIsUnfold] = useState(false);\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 控制台的添加删除元素的value和index */\n    const [value, setValue] = useState(0);\n    const [index, setIndex] = useState(0);\n\n    /** 添加元素 */\n    const handleAddEle = () => {\n        console.log(value, index);\n    }\n\n    /** 删除元素 */\n    const handleDeleteEle = () => {\n\n    }\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 随机生成数据 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n    return (\n        <div className='avlTree-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='avl树'\n            />\n\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                >\n                    <Item\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                    <SubMenu\n                        key='2'\n                        icon={<BarChartOutlined />}\n                        title='排序'\n                    >\n                        <Item>冒泡排序</Item>\n                        <Item>选择排序</Item>\n                        <Item>插入排序</Item>\n                        <Item>快速排序</Item>\n                        <Item>归并排序</Item>\n                    </SubMenu>\n\n                </Console>\n            </div>\n\n        </div>\n    )\n}\n\nexport default BinaryHeap;\n\n\n","import { useReducer, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, Drawer, Input, PageHeader } from 'antd';\nimport { Map, List } from 'immutable'\nimport { Text } from '@react-three/drei';\nimport Console, { Item, SubMenu } from '../../components/Console/console';\nimport Scene3d from '../../components/Scene3d/scene3d';\nimport { randomArr, randomNum } from '../../utils/index'\nimport { ActionTypes, BASE_POSY, SORT_CUBE_INTERVAL_DISTANCE, DISPATCH_INTERVAL, IGeometryProps } from '../../types';\nimport {\n    BarChartOutlined,\n    DotChartOutlined,\n    MinusSquareOutlined,\n    PlusSquareOutlined,\n} from '@ant-design/icons';\nimport './graph.scss'\n\nexport interface IBinaryHeapCube extends IGeometryProps {\n\n}\ntype IReducer = (state: IState, action: IAction) => IState;\n\ninterface IState {\n    // 是否随机化完毕\n    randomDone: boolean;\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\nconst initState: IState = {\n    randomDone: true,\n}\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n\n    const { type, payload } = action;\n\n\n    switch (type) {\n        case ActionTypes.Active:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Deactive:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Lock:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.UnLock:\n            return {\n                ...state,\n            }\n\n\n        // case ActionTypes.Add:\n\n        // case ActionTypes.Delete:\n\n        case ActionTypes.RandomDone:\n            {\n                return {\n                    ...state,\n                    randomDone: true\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false\n            };\n\n        // case ActionTypes.Search:\n\n        default:\n            return state;\n    }\n}\n\nconst Graph = () => {\n\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        return {\n            ...state,\n        }\n    })\n\n    /** 控制抽屉是否展开 */\n    const [isUnfold, setIsUnfold] = useState(false);\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 传入数组长度，计算第一个元素的起始x坐标 */\n    // const startPosX = getStartXPos(state.cubes.length);\n\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 随机生成数据 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n    return (\n        <div className='graph-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='图'\n            />\n\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                >\n                    <Item\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                    <SubMenu\n                        key='2'\n                        icon={<BarChartOutlined />}\n                        title='排序'\n                    >\n                        <Item>冒泡排序</Item>\n                        <Item>选择排序</Item>\n                        <Item>插入排序</Item>\n                        <Item>快速排序</Item>\n                        <Item>归并排序</Item>\n                    </SubMenu>\n\n                    <SubMenu\n                        icon={<PlusSquareOutlined />}\n                    >\n                        <Item>\n                            <Input />\n                            <Button>添加</Button>\n                        </Item>\n                    </SubMenu>\n\n                    <Item icon={<MinusSquareOutlined />}>删除</Item>\n\n                </Console>\n \n\n            </div>\n\n        </div>\n    )\n}\n\nexport default Graph;\n\n\n","import { useReducer, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, Drawer, Input, PageHeader } from 'antd';\nimport { Map, List } from 'immutable'\nimport { Text } from '@react-three/drei';\nimport Console, { Item, SubMenu } from '../../components/Console/console';\nimport Scene3d from '../../components/Scene3d/scene3d';\nimport { randomArr, randomNum } from '../../utils/index'\nimport { ActionTypes, BASE_POSY, SORT_CUBE_INTERVAL_DISTANCE, DISPATCH_INTERVAL, IGeometryProps } from '../../types';\nimport {\n    BarChartOutlined,\n    DotChartOutlined,\n    MinusSquareOutlined,\n    PlusSquareOutlined,\n} from '@ant-design/icons';\nimport './binaryHeap.scss'\n\nexport interface IBinaryHeapCube extends IGeometryProps {\n\n}\ntype IReducer = (state: IState, action: IAction) => IState;\n\ninterface IState {\n    // 是否随机化完毕\n    randomDone: boolean;\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\nconst initState: IState = {\n    randomDone: true,\n}\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n\n    const { type, payload } = action;\n\n\n    switch (type) {\n        case ActionTypes.Active:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Deactive:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Lock:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.UnLock:\n            return {\n                ...state,\n            }\n\n\n        // case ActionTypes.Add:\n\n        // case ActionTypes.Delete:\n\n        case ActionTypes.RandomDone:\n            {\n                return {\n                    ...state,\n                    randomDone: true\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false\n            };\n\n        // case ActionTypes.Search:\n\n        default:\n            return state;\n    }\n}\n\nconst BinaryHeap = () => {\n\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        return {\n            ...state,\n        }\n    })\n\n    /** 控制抽屉是否展开 */\n    const [isUnfold, setIsUnfold] = useState(false);\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 传入数组长度，计算第一个元素的起始x坐标 */\n    // const startPosX = getStartXPos(state.cubes.length);\n\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 随机生成数据 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n    return (\n        <div className='binaryHeap-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='二叉堆'\n            />\n\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                >\n                    <Item\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                    <SubMenu\n                        key='2'\n                        icon={<BarChartOutlined />}\n                        title='排序'\n                    >\n                        <Item>冒泡排序</Item>\n                        <Item>选择排序</Item>\n                        <Item>插入排序</Item>\n                        <Item>快速排序</Item>\n                        <Item>归并排序</Item>\n                    </SubMenu>\n\n                    <SubMenu\n                        icon={<PlusSquareOutlined />}\n                    >\n                        <Item>\n                            <Input />\n                            <Button>添加</Button>\n                        </Item>\n                    </SubMenu>\n\n                    <Item icon={<MinusSquareOutlined />}>删除</Item>\n\n                </Console>\n            </div>\n\n        </div>\n    )\n}\n\nexport default BinaryHeap;\n\n\n","import { useReducer, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, Drawer, Input, PageHeader } from 'antd';\nimport { Map, List } from 'immutable'\nimport { Text } from '@react-three/drei';\nimport Console, { Item, SubMenu } from '../../components/Console/console';\nimport Scene3d from '../../components/Scene3d/scene3d';\nimport { randomArr, randomNum } from '../../utils/index'\nimport { ActionTypes, BASE_POSY, SORT_CUBE_INTERVAL_DISTANCE, DISPATCH_INTERVAL, IGeometryProps } from '../../types';\nimport {\n    BarChartOutlined,\n    DotChartOutlined,\n    MinusSquareOutlined,\n    PlusSquareOutlined,\n} from '@ant-design/icons';\nimport './bTree.scss'\n\nexport interface IBinaryHeapCube extends IGeometryProps {\n\n}\ntype IReducer = (state: IState, action: IAction) => IState;\n\ninterface IState {\n    // 是否随机化完毕\n    randomDone: boolean;\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\nconst initState: IState = {\n    randomDone: true,\n}\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n\n    const { type, payload } = action;\n\n\n    switch (type) {\n        case ActionTypes.Active:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Deactive:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Lock:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.UnLock:\n            return {\n                ...state,\n            }\n\n\n        // case ActionTypes.Add:\n\n        // case ActionTypes.Delete:\n\n        case ActionTypes.RandomDone:\n            {\n                return {\n                    ...state,\n                    randomDone: true\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false\n            };\n\n        // case ActionTypes.Search:\n\n        default:\n            return state;\n    }\n}\n\nconst BTree = () => {\n\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        return {\n            ...state,\n        }\n    })\n\n    /** 控制抽屉是否展开 */\n    const [isUnfold, setIsUnfold] = useState(false);\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 传入数组长度，计算第一个元素的起始x坐标 */\n    // const startPosX = getStartXPos(state.cubes.length);\n\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 随机生成数据 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n    return (\n        <div className='bTree-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='B树'\n            />\n\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                >\n                    <Item\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                    <SubMenu\n                        key='2'\n                        icon={<BarChartOutlined />}\n                        title='排序'\n                    >\n                        <Item>冒泡排序</Item>\n                        <Item>选择排序</Item>\n                        <Item>插入排序</Item>\n                        <Item>快速排序</Item>\n                        <Item>归并排序</Item>\n                    </SubMenu>\n\n                    <SubMenu\n                        icon={<PlusSquareOutlined />}\n                    >\n                        <Item>\n                            <Input />\n                            <Button>添加</Button>\n                        </Item>\n                    </SubMenu>\n\n                    <Item icon={<MinusSquareOutlined />}>删除</Item>\n\n                </Console>\n\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default BTree;\n\n\n","import * as THREE from 'three'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { animated, useSpring, config } from 'react-spring/three'\nimport { RoundedBox, Text } from \"@react-three/drei\";\nimport { IGeometryProps } from '../../../types';\n\ninterface IQueueCube3dProps extends IGeometryProps {\n}\n\nconst QueueCube3d: React.FC<IQueueCube3dProps> = (props) => {\n\n    const {\n        position,\n        isActive,\n        isLock,\n        isSpRev,\n        value,\n        colorConfig,\n        disappear\n    } = props;\n\n    const [isHover, setIsHover] = useState(false)\n    const [isClick, setIsClick] = useState(false)\n    const meshRef = useRef<THREE.Mesh>(null!)\n\n\n    /** 扫描数组的时候，如果改变了 active 属性，则给它设置一个点击效果 */\n    useEffect(() => {\n        isActive ? setIsClick(true) : setIsClick(false);\n    }, [isActive])\n\n    /** 配置扩缩动画效果 */\n    const { scale } = useSpring({\n        reverse: disappear || isSpRev,\n        from: { scale: 0 },\n        to: { scale: isClick ? 1.10 : 1 },\n        config: (disappear || isSpRev) ? config.default : config.wobbly\n    })\n\n    /** 配置颜色过渡效果 */\n    const { color } = useSpring({\n        color: (\n            isClick ? colorConfig?.activeColor :\n                isHover ? colorConfig?.hoverColor :\n                    isLock ? colorConfig?.lockColor : colorConfig?.defaultColor\n        )\n    })\n\n    return (\n        <animated.mesh\n            scale={scale}\n            ref={meshRef}\n            position={position}\n        >\n            <Text\n                fontSize={0.5}\n                color='black'\n            >\n                {value}\n            </Text>\n            <RoundedBox\n                args={[2, 1, 1]}\n                onClick={() => setIsClick(!isClick)}\n                onPointerOver={() => setIsHover(true)}\n                onPointerOut={() => setIsHover(false)}\n            >\n                <animated.meshPhongMaterial\n                    color={color}\n                    opacity={0.5}\n                    transparent={true}\n                />\n            </RoundedBox>\n        </animated.mesh>\n    )\n}\n\nQueueCube3d.defaultProps = {\n    colorConfig: {\n        defaultColor: 'wheat',\n        activeColor: 'orange',\n        hoverColor: 'skyblue',\n        lockColor: '#8076a3'\n    }\n}\n\nexport default React.memo(QueueCube3d);","import { v4 as uuidv4 } from 'uuid';\nimport { IQueueCube } from \"../pages/Queue/queue\";\nimport { ActionTypes, QUEUE_CUBE_INTERVAL_DISTANCE } from \"../types\";\n\n/** 根据数组长度，计算出第一个 cube 的 position 的 x 坐标 */\nexport function getStartPosX(arrLen: number): number {\n    return -(arrLen - 1) * QUEUE_CUBE_INTERVAL_DISTANCE / 2;\n}\n\nexport function initCubes(values: number[]): IQueueCube[] {\n    return values.map((value) => ({\n        value,\n        isActive: false,\n        isLock: false,\n        key: uuidv4()\n    }))\n}\n\n/** 返回入队细节 */\nexport function enqueueSeq(value: number, arrLen: number) {\n    let seq = [];\n    // 入队时自动激活\n    seq.push({ type: ActionTypes.Enqueue, payload: value })\n    seq.push({ type: ActionTypes.Deactive, payload: arrLen });\n    return seq;\n}\n\n/** 返回出队细节 */\nexport function dequeueSeq() {\n    let seq = [];\n    // seq.push({ type: ActionTypes.Active, payload: 0 });\n    seq.push({ type: ActionTypes.Disappear, payload: 0 });\n    seq.push({ type: ActionTypes.Dequeue })\n    return seq;\n}","import React, { useReducer, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, InputNumber, PageHeader, Steps, message } from 'antd';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Text } from '@react-three/drei';\nimport Console, { Item } from '../../components/Console/console';\nimport Scene3d from '../../components/Scene3d/scene3d';\nimport QueueCube3d from './QueueCube3d/queueCube3d'\nimport { randomArr, randomNum } from '../../utils/index'\nimport { ActionTypes, DISPATCH_INTERVAL, IGeometryProps, OpeDetailTypes, QUEUE_CUBE_INTERVAL_DISTANCE } from '../../types';\nimport {\n    BarChartOutlined,\n    DotChartOutlined\n} from '@ant-design/icons';\nimport './queue.scss'\nimport { dequeueSeq, enqueueSeq, getStartPosX, initCubes } from '../../utils/queue';\n\nconst { Step } = Steps;\n\nexport interface IQueueCube extends IGeometryProps {\n    key: any;\n}\ntype IReducer = (state: IState, action: IAction) => IState;\n\ninterface IState {\n    values: number[];\n    cubes: IQueueCube[];\n    randomDone: boolean;\n    opeDetails: { type: OpeDetailTypes, payload?: any }[]\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\nconst initState: IState = {\n    randomDone: true,\n    values: randomArr(randomNum(3, 6)),\n    cubes: [],\n    opeDetails: []\n}\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n\n    const { type, payload } = action;\n\n    switch (type) {\n        case ActionTypes.Active:\n            {\n                const newCubes: IQueueCube[] = state.cubes.map((item, i) => ({\n                    ...item,\n                    isActive: i === payload\n                }))\n\n                return {\n                    ...state,\n                    cubes: newCubes\n                }\n            }\n        case ActionTypes.Deactive:\n            {\n                const newCubes: IQueueCube[] = state.cubes.map((item, i) => ({\n                    ...item,\n                    isActive: i === payload ? false : item.isActive\n                }))\n\n                return {\n                    ...state,\n                    cubes: newCubes\n                }\n            }\n\n        case ActionTypes.Disappear:\n            {\n                const newCubes: IQueueCube[] = state.cubes.map((item, i) => ({\n                    ...item,\n                    disappear: i === payload\n                }))\n\n                return {\n                    ...state,\n                    cubes: newCubes\n                }\n            }\n\n        case ActionTypes.Enqueue:\n            {\n                const newCubes = [...state.cubes]\n                const newCube: IQueueCube = {\n                    value: payload,\n                    isActive: true,\n                    key: uuidv4()\n                };\n                const newValues = [...state.values]\n                newCubes.push(newCube);\n                newValues.push(payload);\n\n                return {\n                    ...state,\n                    cubes: newCubes,\n                    values: newValues,\n                    opeDetails: [...state.opeDetails, {\n                        type: OpeDetailTypes.Enqueue,\n                        payload: {\n                            enqueueValue: payload,\n                            curValues: newValues\n                        }\n                    }]\n                }\n            }\n\n        case ActionTypes.Dequeue:\n            {\n                const newCubes: IQueueCube[] = [...state.cubes];\n                newCubes.shift();\n                const newValues = [...state.values];\n                const dequeueValue = newValues.shift();\n\n                return {\n                    ...state,\n                    opeDetails: [...state.opeDetails, {\n                        type: OpeDetailTypes.Dequeue,\n                        payload: {\n                            dequeueValue,\n                            curValues: newValues\n                        }\n                    }],\n                    values: newValues,\n                    cubes: newCubes\n                }\n            }\n\n        case ActionTypes.RandomDone:\n            {\n                let newValues = randomArr(randomNum(3, 6));\n                return {\n                    ...state,\n                    cubes: initCubes(newValues),\n                    randomDone: true,\n                    values: newValues,\n                    opeDetails: [{ type: OpeDetailTypes.Default, payload: newValues }]\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false\n            };\n\n        default:\n            return state;\n    }\n}\n\nconst Queue = () => {\n\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        return {\n            ...state,\n            cubes: initCubes(state.values),\n            opeDetails: [{ type: OpeDetailTypes.Default, payload: initState.values }]\n        }\n    });\n\n    /** 控制台的添加删除元素的value和index */\n    const [value, setValue] = useState(0);\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 传入数组长度，计算第一个元素的起始x坐标 */\n    const startPosX = getStartPosX(state.cubes.length);\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 随机生成队列 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n\n    /** 处理入队 */\n    const handleEnqueue = () => {\n        if (state.values.length < 10) {\n            const sequence = enqueueSeq(value, state.values.length);\n            sequence.forEach((event, i) => {\n                setTimeout(() => {\n                    dispatch(event)\n                }, i * DISPATCH_INTERVAL)\n            })\n        } else {\n            message.warning('入队失败，队列最大容量为10')\n        }\n    }\n\n    /** 处理出队 */\n    const handleDequeue = () => {\n        if (state.values.length > 0) {\n            const sequence = dequeueSeq();\n            sequence.forEach((event, i) => {\n                setTimeout(() => {\n                    dispatch(event)\n                }, i * DISPATCH_INTERVAL)\n            })\n        } else {\n            message.warning('出队失败，当前队列为空')\n        }\n\n    }\n    return (\n        <div className='queue-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='队列'\n            />\n\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n                    {state.cubes.map((item, i, arr) => (\n                        <React.Fragment key={item.key}>\n                            <QueueCube3d\n                                value={item.value}\n                                position={[startPosX + (i * QUEUE_CUBE_INTERVAL_DISTANCE), 0, 0]}\n                                isSpRev={!state.randomDone}\n                                isActive={item.isActive}\n                                disappear={item.disappear}\n                            />\n                            {i === 0 || i === arr.length - 1 ?\n                                <Text\n                                    fillOpacity={state.randomDone ? 1 : 0}\n                                    color='black'\n                                    fontSize={0.5}\n                                    position={[startPosX + (i * QUEUE_CUBE_INTERVAL_DISTANCE), -1, 0]}\n                                >\n                                    {i === 0 ? 'head' : 'tail'}\n                                </Text> : <></>\n                            }\n                        </React.Fragment>\n                    ))}\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                    showSilider={false}\n                    operation={\n                        <>\n                            <div className='btn-group'>\n                                <div className='row'>\n                                    <Button icon={<BarChartOutlined />} onClick={handleRandom}>随机生成</Button>\n                                </div>\n                            </div>\n\n                            <div className='input-group'>\n                                <label>\n                                    <span className='lable-name'>数值:</span>\n                                    <InputNumber onChange={(value) => setValue(value as number)} />\n                                </label>\n                                <Button type='primary' onClick={handleEnqueue}>入队</Button>\n                                <Button onClick={handleDequeue}>出队</Button>\n                            </div>\n                        </>\n                    }\n\n                    displayer={\n                        <Steps direction=\"vertical\" size=\"small\" current={state.opeDetails.length - 1}>\n                            {state.opeDetails.map((item, i) => {\n                                const { type, payload } = item;\n                                switch (type) {\n                                    case OpeDetailTypes.Enqueue:\n                                        return (\n                                            <Step\n                                                key={'step' + i}\n                                                title={`入队: v=${payload.enqueueValue}`}\n                                                description={`当前队列: [${payload.curValues.toString()}]`}\n                                            />\n                                        )\n\n                                    case OpeDetailTypes.Dequeue:\n                                        return (\n                                            <Step\n                                                key={'step' + i}\n                                                title={`出队: v=${payload.dequeueValue}`}\n                                                description={`当前队列: [${payload.curValues.toString()}]`}\n                                            />\n                                        )\n\n                                    default:\n                                        return (\n                                            <Step\n                                                key={'step' + i}\n                                                title={`当前队列: [${payload.toString()}]`}\n                                            />\n                                        )\n                                }\n                            })}\n                        </Steps>\n                    }\n                >\n                    <Item\n                        key='item1'\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                </Console>\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default Queue;","import * as THREE from 'three'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { animated, useSpring, config } from 'react-spring/three'\nimport { RoundedBox, Text } from \"@react-three/drei\";\nimport { IGeometryProps } from '../../../types';\n\ninterface IStackCube3dProps extends IGeometryProps {\n}\n\nconst StackCube3d: React.FC<IStackCube3dProps> = (props) => {\n\n    const {\n        position,\n        isActive,\n        isLock,\n        isSpRev,\n        value,\n        colorConfig,\n        disappear\n    } = props;\n\n    const [isHover, setIsHover] = useState(false)\n    const [isClick, setIsClick] = useState(false)\n    const meshRef = useRef<THREE.Mesh>(null!)\n\n    /** 扫描数组的时候，如果改变了 active 属性，则给它设置一个点击效果 */\n    useEffect(() => {\n        isActive ? setIsClick(true) : setIsClick(false);\n    }, [isActive])\n\n    /** 配置扩缩动画效果 */\n    const { scale } = useSpring({\n        reverse: disappear || isSpRev,\n        from: { scale: 0 },\n        to: { scale: isClick ? 1.10 : 1 },\n        config: (disappear || isSpRev) ? config.default : config.wobbly\n    })\n\n    /** 配置颜色过渡效果 */\n    const { color } = useSpring({\n        color: (\n            isClick ? colorConfig?.activeColor :\n                isHover ? colorConfig?.hoverColor :\n                    isLock ? colorConfig?.lockColor : colorConfig?.defaultColor\n        )\n    })\n\n    return (\n        <animated.mesh\n            scale={scale}\n            ref={meshRef}\n            position={position}\n        >\n            <Text\n                fontSize={0.5}\n                color='black'\n            >\n                {value}\n            </Text>\n            <RoundedBox\n                args={[2.5, .5, 2.5]}\n                onClick={() => setIsClick(!isClick)}\n                onPointerOver={() => setIsHover(true)}\n                onPointerOut={() => setIsHover(false)}\n            >\n                <animated.meshPhongMaterial\n                    color={color}\n                    opacity={0.5}\n                    transparent={true}\n                />\n            </RoundedBox>\n        </animated.mesh>\n    )\n}\n\nStackCube3d.defaultProps = {\n    colorConfig: {\n        defaultColor: 'wheat',\n        activeColor: 'orange',\n        hoverColor: 'skyblue',\n        lockColor: '#8076a3'\n    }\n}\n\nexport default React.memo(StackCube3d);","import { IStackCube } from \"../pages/Stack/stack\";\nimport { ActionTypes, STACK_CUBE_INTERVAL_DISTANCE } from \"../types\";\n\nexport function initCubes(values: number[]): IStackCube[] {\n    return values.map((value) => ({\n        value,\n        isActive: false,\n        isLock: false\n    }))\n}\n\n/** 返回压栈细节 */\nexport function pushSeq(value: number) {\n    let seq = [];\n    seq.push({ type: ActionTypes.Push, payload: value })\n    seq.push({ type: ActionTypes.Deactive });\n    return seq;\n}\n/** 返回弹栈细节 */\nexport function popSeq() {\n    let seq = [];\n    seq.push({ type: ActionTypes.Active });\n    seq.push({ type: ActionTypes.Pop })\n    seq.push({ type: ActionTypes.PopDone })\n    return seq;\n}\n\n/** 根据数组长度，计算出第一个 cube 的 position 的 y 坐标 */\nexport function getStartYPos(arrLen: number): number {\n    return -(arrLen - 1) * STACK_CUBE_INTERVAL_DISTANCE / 2;\n}","import { useHistory } from 'react-router';\nimport { Button, InputNumber, PageHeader, Steps, message } from 'antd';\nimport Scene3d from '../../components/Scene3d/scene3d'\nimport StackCube3d from './StackCube3d/stackCube3d';\nimport React, { useReducer, useState } from 'react';\nimport { Text } from '@react-three/drei';\nimport { ActionTypes, DISPATCH_INTERVAL, IGeometryProps, OpeDetailTypes, STACK_CUBE_INTERVAL_DISTANCE } from '../../types';\nimport { getStartYPos, initCubes, popSeq, pushSeq } from '../../utils/stack';\nimport { randomArr, randomNum } from '../../utils';\nimport Console, { Item } from '../../components/Console/console';\nimport { BarChartOutlined, DotChartOutlined } from '@ant-design/icons';\nimport './stack.scss'\n\nconst { Step } = Steps;\n\nexport interface IStackCube extends IGeometryProps {\n\n}\n\ninterface IState {\n    cubes: IStackCube[];\n    randomDone: boolean;\n    opeDetails: { type: OpeDetailTypes, payload?: any }[]\n    values: number[]\n}\n\nconst initState: IState = {\n    cubes: [],\n    randomDone: true,\n    opeDetails: [],\n    values: randomArr(randomNum(4, 10))\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\ntype IReducer = (state: IState, action: IAction) => IState;\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n    const { type, payload } = action;\n\n    switch (type) {\n        case ActionTypes.Active:\n            {\n                const newCubes: IStackCube[] = state.cubes.map((item, i, arr) => ({\n                    ...item,\n                    isActive: i === arr.length - 1\n                }))\n\n                return {\n                    ...state,\n                    cubes: newCubes\n                }\n            }\n        case ActionTypes.Deactive:\n            {\n                const newCubes: IStackCube[] = state.cubes.map((item, i, arr) => ({\n                    ...item,\n                    isActive: (i === arr.length - 1) ? false : item.isActive\n                }))\n\n                return {\n                    ...state,\n                    cubes: newCubes\n                }\n            }\n\n        case ActionTypes.Pop:\n            {\n                const newCubes: IStackCube[] = state.cubes.map((item, i, arr) => ({\n                    ...item,\n                    disappear: i === arr.length - 1\n                }));\n\n                const newValues = [...state.values];\n                const popValue = newValues.pop();\n\n                return {\n                    ...state,\n                    cubes: newCubes,\n                    opeDetails: [...state.opeDetails, {\n                        type: OpeDetailTypes.Pop,\n                        payload: {\n                            popValue,\n                            curValues: newValues\n                        }\n                    }],\n                    values: newValues\n                }\n            }\n\n        case ActionTypes.PopDone:\n            {\n                const newCubes: IStackCube[] = [...state.cubes];\n                newCubes.pop();\n                return {\n                    ...state,\n                    cubes: newCubes\n                }\n            }\n\n        case ActionTypes.Push:\n            {\n                const newCubes = [...state.cubes]\n                const newCube: IStackCube = {\n                    value: payload,\n                    isActive: true\n                };\n                const newValues = [...state.values]\n                newCubes.push(newCube);\n                newValues.push(payload);\n\n                return {\n                    ...state,\n                    cubes: newCubes,\n                    values: newValues,\n                    opeDetails: [...state.opeDetails, {\n                        type: OpeDetailTypes.Push,\n                        payload: {\n                            pushValue: payload,\n                            curValues: newValues\n                        }\n                    }]\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false\n            }\n\n        case ActionTypes.RandomDone:\n            {\n                let newValues = randomArr(randomNum(4, 8));\n                return {\n                    ...state,\n                    cubes: initCubes(newValues),\n                    randomDone: true,\n                    values: newValues,\n                    opeDetails: [{ type: OpeDetailTypes.Default, payload: newValues }]\n                }\n            }\n\n        default:\n            return state;\n    }\n}\n\nconst Stack = () => {\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        return {\n            ...state,\n            cubes: initCubes(state.values),\n            opeDetails: [{ type: OpeDetailTypes.Default, payload: initState.values }]\n        }\n    });\n\n    /** 控制台的添加删除元素的value和index */\n    const [value, setValue] = useState(0);\n\n    /** stackCube的起始坐标 */\n    const startPosY = getStartYPos(state.cubes.length);\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 处理弹栈 */\n    const handlePop = () => {\n        if (state.values.length > 0) {\n            const sequence = popSeq();\n            sequence.forEach((event, i) => {\n                setTimeout(() => {\n                    dispatch(event)\n                }, i * DISPATCH_INTERVAL)\n            })\n        } else {\n            message.warning('弹栈失败，当前栈为空')\n        }\n\n    }\n\n    /** 处理压栈 */\n    const handlePush = () => {\n        if (state.values.length < 10) {\n            const sequence = pushSeq(value);\n            sequence.forEach((event, i) => {\n                setTimeout(() => {\n                    dispatch(event)\n                }, i * DISPATCH_INTERVAL)\n            })\n        } else {\n            message.warning('压栈失败，栈最大容量为10')\n        }\n\n    }\n\n    /** 处理随机元素 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400)\n    }\n\n    return (\n        <div className='stack-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='栈'\n            />\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n                    {state.cubes.map((item, i) => (\n                        <React.Fragment key={i + '!'}>\n                            <StackCube3d\n                                value={item.value}\n                                position={[0, startPosY + (i * STACK_CUBE_INTERVAL_DISTANCE), 0]}\n                                isSpRev={!state.randomDone}\n                                isActive={item.isActive}\n                                disappear={item.disappear}\n\n                            />\n                            {(i === state.cubes.length - 1 && state.randomDone) ?\n                                <Text\n                                    fontSize={0.5}\n                                    color='black'\n                                    position={[-2.5, startPosY + (i * STACK_CUBE_INTERVAL_DISTANCE), 0]}\n                                >\n                                    {'Top ——>'}\n                                </Text> : <></>}\n                        </React.Fragment>\n                    ))}\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                    showSilider={false}\n                    operation={\n                        <>\n                            <div className='btn-group'>\n                                <div className='row'>\n                                    <Button icon={<BarChartOutlined />} onClick={handleRandom}>随机生成</Button>\n                                </div>\n                            </div>\n\n                            <div className='input-group'>\n                                <label>\n                                    <span className='lable-name'>数值:</span>\n                                    <InputNumber min={0} max={90} onChange={(value) => setValue(value as number)} />\n                                </label>\n                                <Button type='primary' onClick={handlePush}>压栈</Button>\n                                <Button onClick={handlePop}>弹栈</Button>\n                            </div>\n                        </>\n                    }\n\n                    displayer={\n                        <Steps direction=\"vertical\" size=\"small\" current={state.opeDetails.length - 1}>\n                            {state.opeDetails.map((item, i) => {\n                                const { type, payload } = item;\n                                switch (type) {\n                                    case OpeDetailTypes.Pop:\n                                        return (\n                                            <Step\n                                                key={'step' + i}\n                                                title={`弹栈: v=${payload.popValue}`}\n                                                description={`当前栈: [${payload.curValues.toString()}]`}\n                                            />\n                                        )\n\n                                    case OpeDetailTypes.Push:\n                                        return (\n                                            <Step\n                                                key={'step' + i}\n                                                title={`压栈: v=${payload.pushValue}`}\n                                                description={`当前栈: [${payload.curValues.toString()}]`}\n                                            />\n                                        )\n\n                                    default:\n                                        return (\n                                            <Step\n                                                key={'step' + i}\n                                                title={`当前栈: [${payload.toString()}]`}\n                                            />\n                                        )\n                                }\n                            })}\n                        </Steps>\n                    }\n                >\n                    <Item\n                        key='item1'\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                </Console>\n            </div>\n        </div>\n    )\n}\n\nexport default Stack;","import { useReducer, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, Drawer, Input, PageHeader } from 'antd';\nimport { Map, List } from 'immutable'\nimport { Text } from '@react-three/drei';\nimport Console, { Item, SubMenu } from '../../components/Console/console';\nimport Scene3d from '../../components/Scene3d/scene3d';\nimport { randomArr, randomNum } from '../../utils/index'\nimport { ActionTypes, BASE_POSY, SORT_CUBE_INTERVAL_DISTANCE, DISPATCH_INTERVAL, IGeometryProps } from '../../types';\nimport {\n    BarChartOutlined,\n    DotChartOutlined,\n    MinusSquareOutlined,\n    PlusSquareOutlined,\n} from '@ant-design/icons';\nimport './hashTable.scss'\n\nexport interface IHashTableCube extends IGeometryProps {\n\n}\ntype IReducer = (state: IState, action: IAction) => IState;\n\ninterface IState {\n    // 是否随机化完毕\n    randomDone: boolean;\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\nconst initState: IState = {\n    randomDone: true,\n}\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n\n    const { type, payload } = action;\n\n\n    switch (type) {\n        case ActionTypes.Active:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Deactive:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Lock:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.UnLock:\n            return {\n                ...state,\n            }\n\n\n        // case ActionTypes.Add:\n\n        // case ActionTypes.Delete:\n\n        case ActionTypes.RandomDone:\n            {\n                return {\n                    ...state,\n                    randomDone: true\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false\n            };\n\n        // case ActionTypes.Search:\n\n        default:\n            return state;\n    }\n}\n\nconst HashTable = () => {\n\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        return {\n            ...state,\n        }\n    })\n\n    /** 控制抽屉是否展开 */\n    const [isUnfold, setIsUnfold] = useState(false);\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 传入数组长度，计算第一个元素的起始x坐标 */\n    // const startPosX = getStartXPos(state.cubes.length);\n\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 随机生成数据 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n    return (\n        <div className='hashTable-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='哈希表'\n            />\n\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                >\n                    <Item\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                    <SubMenu\n                        key='2'\n                        icon={<BarChartOutlined />}\n                        title='排序'\n                    >\n                        <Item>冒泡排序</Item>\n                        <Item>选择排序</Item>\n                        <Item>插入排序</Item>\n                        <Item>快速排序</Item>\n                        <Item>归并排序</Item>\n                    </SubMenu>\n\n                    <SubMenu\n                        icon={<PlusSquareOutlined />}\n                    >\n                        <Item>\n                            <Input />\n                            <Button>添加</Button>\n                        </Item>\n                    </SubMenu>\n\n                    <Item icon={<MinusSquareOutlined />}>删除</Item>\n\n                </Console>\n            </div>\n\n        </div>\n    )\n}\n\nexport default HashTable;\n\n\n","import { Line } from '@react-three/drei'\nimport { useEffect } from 'react';\nimport { Points } from '../../types';\n\ninterface IArrow3d {\n    points: Points;\n    hidden?: boolean;\n    lineWidth?: number;\n    ref?: any;\n}\n\nconst Arrow3d: React.FC<IArrow3d> = (props) => {\n\n    const {\n        points,\n        hidden,\n        lineWidth,\n        ref\n    } = props;\n\n    const point2 = points[1];\n\n\n    return (\n        <>\n            {/* <Line \n                lineWidth={(lineWidth as number) * 1.5}\n                points={[[point2[0] - 0.2, point2[1] + 0.2, 0], point2]}\n                color={'gray'}\n                opacity={hidden ? 0 : 1}\n                transparent={true}\n            /> */}\n            <Line\n                ref={ref}\n                lineWidth={lineWidth}\n                points={points}\n                color={'gray'}\n                opacity={hidden ? 0 : 1}\n                transparent={true}\n            />\n\n            {/* <Line \n                lineWidth={(lineWidth as number) * 1.5}\n                points={[[point2[0] - 0.2, point2[1] - 0.2, 0], point2]}\n                color={'gray'}\n                opacity={hidden ? 0 : 1}\n                transparent={true}\n            /> */}\n        </>\n\n    )\n}\n\nArrow3d.defaultProps = {\n    lineWidth: 1.5\n}\n\nexport default Arrow3d;","import * as THREE from 'three'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { animated, useSpring, config } from 'react-spring/three'\nimport { RoundedBox, Text } from \"@react-three/drei\";\nimport { useFrame } from '@react-three/fiber'\nimport { BASE_POSY, SORT_CUBE_INTERVAL_DISTANCE, IGeometryProps, DISPATCH_INTERVAL } from '../../../types';\nimport Arrow3d from '../../../components/Arrow3d/arrow3d';\n\n\ninterface ILinkCube3dProps extends IGeometryProps {\n    /** 第一个cube的位置 */\n    startPosX: any;\n    /** 该cube即将经历或者已经历过的所有位置 */\n    sortIndexes: number[];\n    /** 该cube的当前位置 */\n    sortIndex: number;\n    /** 从该cube开始，箭头指向的位置 */\n    arrowTo: any;\n    /** 该元素是否上移 */\n    moveTop: boolean;\n    /** 该元素是否下移 */\n    moveDown: boolean;\n}\n\nconst LinkCube3d: React.FC<ILinkCube3dProps> = (props) => {\n\n    const {\n        position,\n        isActive,\n        isLock,\n        isSpRev,\n        value,\n        startPosX,\n        colorConfig,\n        sortIndex,\n        sortIndexes,\n        arrowTo,\n        moveTop,\n        moveDown,\n        disappear\n    } = props;\n\n    const [isHover, setIsHover] = useState(false)\n    const [isClick, setIsClick] = useState(false)\n    // 箭头的 x, y 坐标\n    const [posY, setPosY] = useState(0);\n    const [posX, setPosX] = useState(0);\n    const meshRef = useRef<THREE.Mesh>(null!)\n\n    /** 根据传入的排序下标，获取到 cube 所在的 X 坐标 */\n    const getPosX = (sortIndex: number) => startPosX + (sortIndex * SORT_CUBE_INTERVAL_DISTANCE);\n\n    /** 移动元素时，获取其起始位置 */\n    const getOrginPosX = () => {\n        return getPosX(sortIndex);\n    }\n\n    /** 移动元素时，获取其目标位置 */\n    const getTargetPosX = () => {\n        return getPosX(sortIndexes[sortIndexes.length - 1]);\n    }\n\n    const oldPosX = getOrginPosX();\n    const targetPosX = getTargetPosX();\n\n    /** 扫描数组的时候，如果改变了 active 属性，则给它设置一个点击效果 */\n    useEffect(() => {\n        isActive ? setIsClick(true) : setIsClick(false);\n    }, [isActive])\n\n    /** 配置扩缩动画效果 */\n    const { scale } = useSpring({\n        reverse: isSpRev,\n        from: { scale: 0 },\n        to: { scale: isClick ? 1.10 : 1 },\n        config: isSpRev ? config.default : config.wobbly\n    })\n\n    /** 配置颜色过渡效果 */\n    const { color } = useSpring({\n        color: (\n            isClick ? colorConfig?.activeColor :\n                isHover ? colorConfig?.hoverColor :\n                    isLock ? colorConfig?.lockColor : colorConfig?.defaultColor\n        )\n    })\n\n    useFrame(() => {\n\n        /** 监听水平移动 */\n        const deltaX = Math.abs(oldPosX - targetPosX) / (DISPATCH_INTERVAL / 20);\n        // 如果当前 sortIndex 需要改变\n        if (deltaX) {\n\n            // mesh 需要往右移\n            if (oldPosX - targetPosX < 0 && meshRef.current.position.x < targetPosX) {\n                meshRef.current.translateX(deltaX);\n                // setPosX(meshRef.current.position.x);\n                if (meshRef.current.position.x >= targetPosX) {\n                    meshRef.current.position.x = targetPosX;\n                    // setPosX(meshRef.current.position.x);\n                }\n            }\n\n            // mesh 需要往左移\n            else if (oldPosX - targetPosX > 0 && meshRef.current.position.x > targetPosX) {\n                meshRef.current.translateX(-deltaX);\n                setPosX(meshRef.current.position.x);\n                if (meshRef.current.position.x <= targetPosX) {\n                    meshRef.current.position.x = targetPosX;\n                    setPosX(meshRef.current.position.x);\n                }\n            }\n        }\n\n\n        /** 监听上下移动 */\n        const deltaY = 0.2;\n\n        if (moveTop) {\n            // 如果要上移\n            if (meshRef.current.position.y < 2) {\n                meshRef.current.translateY(deltaY);\n                setPosY(meshRef.current.position.y)\n                if (meshRef.current.position.y >= 2) {\n                    meshRef.current.position.y = 2;\n                    setPosY(meshRef.current.position.y)\n                }\n            }\n\n        } \n        \n        else if (moveDown) {\n            // 如果要下移\n            if (meshRef.current.position.y > 0) {\n                meshRef.current.translateY(-deltaY);\n                setPosY(meshRef.current.position.y)\n                if (meshRef.current.position.y <= 0) {\n                    meshRef.current.position.y = 0;\n                    setPosY(meshRef.current.position.y)\n                }\n            }\n        }\n    })\n\n    return (\n        <>\n            <animated.mesh\n                scale={scale}\n                ref={meshRef}\n                position={position}\n            >\n                <Text\n                    fontSize={0.5}\n                    color='black'\n                >\n                    {value}\n                </Text>\n                <RoundedBox\n                    args={[2, 1, 1]}\n                    onClick={() => setIsClick(!isClick)}\n                    onPointerOver={() => setIsHover(true)}\n                    onPointerOut={() => setIsHover(false)}\n                >\n                    <animated.meshPhongMaterial\n                        color={color}\n                        opacity={0.5}\n                        transparent={true}\n                    />\n                </RoundedBox>\n            </animated.mesh>\n            {\n                (arrowTo && !isSpRev) && <Arrow3d points={[[position[0] + 1, posY, position[2]], arrowTo]} />\n            }\n        </>\n    )\n}\n\nLinkCube3d.defaultProps = {\n    colorConfig: {\n        defaultColor: 'wheat',\n        activeColor: 'orange',\n        hoverColor: 'skyblue',\n        lockColor: '#8076a3'\n    }\n}\n\nexport default React.memo(LinkCube3d);","import { ILinkCube } from \"../pages/LinkedList/linkedList\";\nimport { ActionTypes, LINK_CUBE_INTERVAL_DISTANCE } from \"../types\";\n\n/** 根据数组长度，计算出第一个 cube 的 position 的 x 坐标 */\nexport function getStartPosX(arrLen: number): number {\n    return -(arrLen - 1) * LINK_CUBE_INTERVAL_DISTANCE / 2;\n}\n\nexport function initCubes(values: number[]): ILinkCube[] {\n    // 箭头头部的起始位置\n    const arrowStartPosX = getStartPosX(values.length) + 2.5;\n    return values.map((value, index) => {\n        return {\n            value,\n            isActive: false,\n            isLock: false,\n            arrowTo: index === values.length - 1 ? null : [arrowStartPosX + (index * LINK_CUBE_INTERVAL_DISTANCE), 0, 0],\n            sortIndex: index,\n            sortIndexes: [index],\n            moveTop: false,\n            moveDown: false,\n            posY: 0\n        }\n    })\n}\n\n/** 返回头插法细节 */\nexport function headInsertSeq() {\n    const seq = [];\n    // 先生成一个激活状态，且在上方的 cube\n    seq.push({ type: ActionTypes.HeadInsert })\n    // 让这个新的 cube 的箭头指向其右下方的 cube\n    seq.push({ type: ActionTypes.ShowArrow })\n    // 向下移动该 cube\n    seq.push({ type: ActionTypes.MoveDown })\n    // 取消激活\n    seq.push({ type: ActionTypes.Deactive })\n    return seq;\n}\n\n/** 返回尾插法细节 */\nexport function tailInsertSeq() {\n\n}","import React, { useReducer, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, InputNumber, PageHeader, Steps, message } from 'antd';\nimport { Text } from '@react-three/drei';\nimport Console, { Item, SubMenu } from '../../components/Console/console';\nimport LinkCube3d from './LinkCube3d/linkCube3d'\nimport Scene3d from '../../components/Scene3d/scene3d';\nimport { randomArr, randomNum } from '../../utils/index'\nimport { ActionTypes, LINK_CUBE_INTERVAL_DISTANCE, IGeometryProps, OpeDetailTypes, DISPATCH_INTERVAL } from '../../types';\nimport {\n    BarChartOutlined,\n    DotChartOutlined,\n} from '@ant-design/icons'; import './linkedList.scss'\nimport { getStartPosX, headInsertSeq, initCubes } from '../../utils/linkedList';\n\nconst { Step } = Steps;\n\nexport interface ILinkCube extends IGeometryProps {\n    /** 该cube即将经历或者已经历过的所有位置 */\n    sortIndexes: number[];\n    /** 该cube的当前位置 */\n    sortIndex: number;\n    /** 从该cube开始，箭头指向的位置 */\n    arrowTo: any;\n    /** 是否让该元素上移 */\n    moveTop: boolean;\n    /** 元素的初始Y坐标 */\n    posY: number;\n    /** 是否让该元素下移 */\n    moveDown: boolean;\n}\ntype IReducer = (state: IState, action: IAction) => IState;\n\ninterface IState {\n    // 用来表示数组中各值的实时位置\n    values: number[];\n    // 用来表示每个 cube 的属性，其元素位置无意义，其中 sortIndex 才是对应的 values 的下标\n    cubes: ILinkCube[];\n    // 是否排序完毕\n    sortDone: boolean;\n    // 是否随机化完毕\n    randomDone: boolean;\n    // 第一个cube的起始x坐标\n    startPosX: number;\n    // 记录当前操作的细节\n    opeDetails: { type: OpeDetailTypes, payload?: any }[]\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\nconst initState: IState = {\n    values: [],\n    cubes: [],\n    sortDone: true,\n    randomDone: true,\n    startPosX: 0,\n    opeDetails: []\n}\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n\n    const { type, payload } = action;\n\n\n    switch (type) {\n        case ActionTypes.Active:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Deactive:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.HeadInsert:\n            {\n                // 生成一个激活的 cube\n                const newCube: ILinkCube = {\n                    arrowTo: null,\n                    moveDown: false,\n                    moveTop: true,\n                    posY: 2,\n                    sortIndex: 0,\n                    sortIndexes: [0],\n                    value: randomNum(3, 40),\n                    isActive: true\n                }\n\n                const newCubes = state.cubes.map((item) => {\n                    return {\n                        ...item,\n                        sortIndexes: [...item.sortIndexes, item.sortIndex + 1]\n                    }\n                })\n\n                newCubes.push(newCube);\n\n                let newOpeDetail;\n\n                return {\n                    ...state,\n                    cubes: newCubes,\n                    // opeDetails: newOpeDetail ? [...state.opeDetails, newOpeDetail] : [...state.opeDetails]\n                }\n            }\n\n        // case ActionTypes.Add:\n\n        // case ActionTypes.Delete:\n\n        case ActionTypes.RandomDone:\n            {\n                let newValues = randomArr(randomNum(3, 5));\n                let newStartPosX = getStartPosX(newValues.length);\n                return {\n                    ...state,\n                    cubes: initCubes(newValues),\n                    values: newValues,\n                    randomDone: true,\n                    startPosX: newStartPosX\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false,\n                opeDetails: []\n            };\n\n        // case ActionTypes.Search:\n\n        default:\n            return state;\n    }\n}\n\nconst LinkedList = () => {\n\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n\n        let initValues = randomArr(randomNum(3, 5));\n        let startPosX = getStartPosX(initValues.length);\n        return {\n            ...state,\n            values: initValues,\n            cubes: initCubes(initValues),\n            startPosX\n        }\n    })\n\n    /** 控制台的添加删除元素的value和index */\n    const [value, setValue] = useState(0);\n    const [index, setIndex] = useState(0);\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 随机生成数据 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n\n    /** 处理动画速度改变 */\n    const handleSliderChange = (value: number) => {\n        // console.log(value);\n    }\n\n    /** 处理头插 */\n    const handleHeadInsert = () => {\n        if (state.values.length < 10) {\n            const sequence = headInsertSeq();\n            sequence.forEach((event, i) => {\n                setTimeout(() => {\n                    dispatch(event);\n                }, i * DISPATCH_INTERVAL)\n            })\n        } else {\n            message.warning('插入失败，链表最大容量为10')\n        }\n    }\n\n    /** 处理尾插 */\n    const handleTailInsert = () => {\n        if (state.values.length < 10) {\n\n        } else {\n            message.warning('插入失败，链表最大容量为10')\n        }\n    }\n\n    /** 处理添加元素 */\n    const handleAddEle = () => {\n\n    }\n\n    /** 处理删除元素 */\n    const handleDeleteEle = () => {\n\n    }\n\n    return (\n        <div className='linkedList-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='链表'\n            />\n\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n                    {state.cubes.map((item, i, arr) => {\n                        return (\n                            <React.Fragment key={'linkCube' + i}>\n                                <LinkCube3d\n                                    moveTop={item.moveTop}\n                                    moveDown={item.moveDown}\n                                    arrowTo={item.arrowTo}\n                                    sortIndex={item.sortIndex}\n                                    sortIndexes={item.sortIndexes}\n                                    startPosX={state.startPosX}\n                                    value={item.value}\n                                    isActive={item.isActive}\n                                    isLock={item.isLock}\n                                    isSpRev={!state.randomDone}\n                                    position={[state.startPosX + (item.sortIndex * LINK_CUBE_INTERVAL_DISTANCE), item.posY, 0]}\n                                />\n                                {i === 0 || i === arr.length - 1 ?\n                                    <Text\n                                        fillOpacity={state.randomDone ? 1 : 0}\n                                        color='black'\n                                        fontSize={0.5}\n                                        position={[state.startPosX + (item.sortIndex * LINK_CUBE_INTERVAL_DISTANCE), -1, 0]}\n                                    >\n                                        {i === 0 ? 'head' : 'tail'}\n                                    </Text> : <></>\n                                }\n                            </React.Fragment>\n                        )\n                    })}\n                    {/* <LinkCube3d\n                        value={1}\n                        position={[-3.5, 0, 0]}\n                    />\n                    <Arrow3d points={[[-2.5, 0, 0], [-1, 0, 0]]} />\n                    <LinkCube3d\n                        value={2}\n                        position={[0, 0, 0]}\n                    />\n                    <Arrow3d points={[[1, 0, 0], [2.5, 0, 0]]} />\n                    <LinkCube3d\n                        value={3}\n                        position={[3.5, 0, 0]}\n                    />\n                    <Arrow3d points={[[4.5, 0, 0], [6, 0, 0]]} />\n                    <LinkCube3d\n                        value={4}\n                        position={[7, 0, 0]}\n                    /> */}\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                    onSliderChange={handleSliderChange}\n                    operation={\n                        <>\n                            <div className='btn-group'>\n                                <div className='row'>\n                                    <Button icon={<BarChartOutlined />} onClick={handleRandom}>随机生成</Button>\n                                    <Button icon={<BarChartOutlined />} onClick={handleHeadInsert}>头插</Button>\n                                    <Button icon={<BarChartOutlined />} onClick={handleTailInsert}>尾插</Button>\n                                </div>\n                            </div>\n\n                            <div className='input-group'>\n                                <label>\n                                    <span className='lable-name'>数值:</span>\n                                    <InputNumber onChange={(value) => setValue(value as number)} />\n                                </label>\n                                <label>\n                                    <span className='lable-name'>序号:</span>\n                                    <InputNumber onChange={(index) => setIndex(index as number)} />\n                                </label>\n                                <Button type='primary' onClick={handleAddEle}>添加</Button>\n                                <Button onClick={handleDeleteEle}>删除</Button>\n                            </div>\n                        </>\n                    }\n\n                    displayer={\n                        <Steps direction=\"vertical\" size=\"small\" current={state.opeDetails.length - 1}>\n                            {state.opeDetails.map((item) => {\n                                const { type, payload } = item;\n                                switch (type) {\n                                    case OpeDetailTypes.Swap:\n                                        return (\n                                            <Step\n                                                title={`交换元素: i1=${payload.indexes[0]}, i2=${payload.indexes[1]}`}\n                                                description={`当前数组: [${payload.curValues.toString()}]`}\n                                            />\n                                        )\n\n                                    case OpeDetailTypes.Add:\n                                        return (\n                                            <Step\n                                                title={`新增元素: i=${payload.index}, v=${payload.value}`}\n                                                description={`当前数组: [${payload.curValues.toString()}]`}\n                                            />\n                                        )\n\n                                    case OpeDetailTypes.Delete:\n                                        return (\n                                            <Step\n                                                title={`删除元素: i=${payload.index}, v=${payload.value}`}\n                                                description={`当前数组: [${payload.curValues.toString()}]`}\n                                            />\n                                        )\n                                    default:\n                                        return <></>\n                                }\n                            })}\n\n                        </Steps>\n                    }\n                >\n                    <Item\n                        key='item1'\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                    <SubMenu\n                        key='item2'\n                        icon={<BarChartOutlined />}\n                        title='插入元素'\n                    >\n                        <Item onClick={handleHeadInsert}>头插</Item>\n                        <Item onClick={handleTailInsert}>尾插</Item>\n                    </SubMenu>\n                </Console>\n            </div>\n\n        </div>\n    )\n}\n\nexport default LinkedList;","import { useReducer, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, Drawer, Input, PageHeader } from 'antd';\nimport { Map, List } from 'immutable'\nimport { Text } from '@react-three/drei';\nimport Console, { Item, SubMenu } from '../../components/Console/console';\nimport Scene3d from '../../components/Scene3d/scene3d';\nimport { randomArr, randomNum } from '../../utils/index'\nimport { ActionTypes, BASE_POSY, SORT_CUBE_INTERVAL_DISTANCE, DISPATCH_INTERVAL, IGeometryProps } from '../../types';\nimport {\n    BarChartOutlined,\n    DotChartOutlined,\n    MinusSquareOutlined,\n    PlusSquareOutlined,\n} from '@ant-design/icons';\nimport './redBlackTree.scss'\n\nexport interface IBinaryHeapCube extends IGeometryProps {\n\n}\ntype IReducer = (state: IState, action: IAction) => IState;\n\ninterface IState {\n    // 是否随机化完毕\n    randomDone: boolean;\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\nconst initState: IState = {\n    randomDone: true,\n}\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n\n    const { type, payload } = action;\n\n\n    switch (type) {\n        case ActionTypes.Active:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Deactive:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Lock:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.UnLock:\n            return {\n                ...state,\n            }\n\n\n        // case ActionTypes.Add:\n\n        // case ActionTypes.Delete:\n\n        case ActionTypes.RandomDone:\n            {\n                return {\n                    ...state,\n                    randomDone: true\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false\n            };\n\n        // case ActionTypes.Search:\n\n        default:\n            return state;\n    }\n}\n\nconst RedBlackTree = () => {\n\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        return {\n            ...state,\n        }\n    })\n\n    /** 控制抽屉是否展开 */\n    const [isUnfold, setIsUnfold] = useState(false);\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 传入数组长度，计算第一个元素的起始x坐标 */\n    // const startPosX = getStartXPos(state.cubes.length);\n\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 随机生成数据 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n    return (\n        <div className='redBlackTree-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='红黑树'\n            />\n\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                >\n                    <Item\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                    <SubMenu\n                        key='2'\n                        icon={<BarChartOutlined />}\n                        title='排序'\n                    >\n                        <Item>冒泡排序</Item>\n                        <Item>选择排序</Item>\n                        <Item>插入排序</Item>\n                        <Item>快速排序</Item>\n                        <Item>归并排序</Item>\n                    </SubMenu>\n\n                    <SubMenu\n                        icon={<PlusSquareOutlined />}\n                    >\n                        <Item>\n                            <Input />\n                            <Button>添加</Button>\n                        </Item>\n                    </SubMenu>\n                    <Item icon={<MinusSquareOutlined />}>删除</Item>\n                </Console>\n            </div>\n\n        </div>\n    )\n}\n\nexport default RedBlackTree;\n\n\n","import { useReducer, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, Drawer, Input, PageHeader } from 'antd';\nimport { Map, List } from 'immutable'\nimport { Text } from '@react-three/drei';\nimport Console, { Item, SubMenu } from '../../components/Console/console';\nimport Scene3d from '../../components/Scene3d/scene3d';\nimport { randomArr, randomNum } from '../../utils/index'\nimport { ActionTypes, BASE_POSY, SORT_CUBE_INTERVAL_DISTANCE, DISPATCH_INTERVAL, IGeometryProps } from '../../types';\nimport {\n    BarChartOutlined,\n    DotChartOutlined,\n    MinusSquareOutlined,\n    PlusSquareOutlined,\n} from '@ant-design/icons';\nimport './bPlusTree.scss'\n\nexport interface IBinaryHeapCube extends IGeometryProps {\n\n}\ntype IReducer = (state: IState, action: IAction) => IState;\n\ninterface IState {\n    // 是否随机化完毕\n    randomDone: boolean;\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\nconst initState: IState = {\n    randomDone: true,\n}\n\nfunction reducer(state: IState = initState, action: IAction): IState {\n\n    const { type, payload } = action;\n\n\n    switch (type) {\n        case ActionTypes.Active:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Deactive:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.Lock:\n            return {\n                ...state,\n            }\n\n        case ActionTypes.UnLock:\n            return {\n                ...state,\n            }\n\n\n        // case ActionTypes.Add:\n\n        // case ActionTypes.Delete:\n\n        case ActionTypes.RandomDone:\n            {\n                return {\n                    ...state,\n                    randomDone: true\n                }\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false\n            };\n\n        // case ActionTypes.Search:\n\n        default:\n            return state;\n    }\n}\n\nconst BPlusTree = () => {\n\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        return {\n            ...state,\n        }\n    })\n\n    /** 控制抽屉是否展开 */\n    const [isUnfold, setIsUnfold] = useState(false);\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 传入数组长度，计算第一个元素的起始x坐标 */\n    // const startPosX = getStartXPos(state.cubes.length);\n\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 随机生成数据 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n    return (\n        <div className='bPlusTree-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='B+树'\n            />\n\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                >\n                    <Item\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                    <SubMenu\n                        key='2'\n                        icon={<BarChartOutlined />}\n                        title='排序'\n                    >\n                        <Item>冒泡排序</Item>\n                        <Item>选择排序</Item>\n                        <Item>插入排序</Item>\n                        <Item>快速排序</Item>\n                        <Item>归并排序</Item>\n                    </SubMenu>\n\n                    <SubMenu\n                        icon={<PlusSquareOutlined />}\n                    >\n                        <Item>\n                            <Input />\n                            <Button>添加</Button>\n                        </Item>\n                    </SubMenu>\n\n                    <Item icon={<MinusSquareOutlined />}>删除</Item>\n\n                </Console>\n\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default BPlusTree;\n\n\n","import { Line } from '@react-three/drei'\nimport { Points } from '../../types';\n\ninterface ILine3dProps {\n    points: Points;\n    hidden: boolean;\n    lineWidth?: number;\n}\n\nconst Line3d:React.FC<ILine3dProps> = (props) => {\n\n    const {\n        points,\n        hidden,\n        lineWidth\n    } = props;\n\n    return (\n        <Line\n            lineWidth={lineWidth}\n            points={points}\n            color={'gray'}\n            opacity={hidden ? 0 : 1}\n            transparent={true}\n        />\n\n    )\n}\n\nLine3d.defaultProps = {\n    lineWidth: 1.5\n}\n\nexport default Line3d;","import { IColorConfig, IGeometryProps } from '../../types';\nimport { Icosahedron, Text } from '@react-three/drei'\nimport { animated, config, useSpring } from 'react-spring/three';\nimport { useEffect, useRef, useState } from 'react';\n\nexport interface ISphere3dProps extends IGeometryProps {\n\n}\n\nconst Sphere3d: React.FC<ISphere3dProps> = (props) => {\n\n    const {\n        position,\n        value,\n        isActive,\n        isLock,\n        isSpRev,\n        colorConfig,\n    } = props;\n\n    const [isHover, setIsHover] = useState(false)\n    const [isClick, setIsClick] = useState(false)\n    const meshRef = useRef<THREE.Mesh>(null!)\n\n    /** 配置颜色过渡效果 */\n    const { color } = useSpring({\n        color: (\n            isClick ? colorConfig?.activeColor :\n                isHover ? colorConfig?.hoverColor :\n                    isLock ? colorConfig?.lockColor : colorConfig?.defaultColor\n        )\n    })\n\n    /** 配置扩缩动画效果 */\n    const { scale } = useSpring({\n        reset: isSpRev,\n        reverse: isSpRev,\n        from: { scale: 0 },\n        to: { scale: isClick ? 1.20 : 1 },\n        config: isSpRev ? config.default : config.wobbly\n    })\n\n    /** 扫描数组的时候，如果改变了 active 属性，则给它设置一个点击效果 */\n    useEffect(() => {\n        isActive ? setIsClick(true) : setIsClick(false);\n    }, [isActive])\n\n    return (\n        <animated.mesh\n            position={position}\n            ref={meshRef}\n            scale={scale}\n        >\n            <Icosahedron\n                args={[0.7, 10]}\n                onClick={() => setIsClick(!isClick)}\n                onPointerOver={() => setIsHover(true)}\n                onPointerOut={() => setIsHover(false)}\n            >\n                <Text\n                    position={[0, 0, 0.7]}\n                    fontSize={0.5}\n                    color='black'\n                >\n                    {value}\n                </Text>\n\n                <animated.meshPhongMaterial\n                    color={color}\n                    opacity={1}\n                />\n            </Icosahedron>\n        </animated.mesh>\n    )\n}\n\nSphere3d.defaultProps = {\n    colorConfig: {\n        defaultColor: 'wheat',\n        activeColor: 'orange',\n        hoverColor: 'skyblue',\n        lockColor: '#8076a3'\n    }\n}\n\nexport default Sphere3d;","import { randomArr, randomNum } from '.';\nimport { ISphere } from '../pages/BinarySearchTree/binarySearchTree';\nimport { ActionTypes } from '../types';\nimport { log } from './math';\n\n/** 获取传入结点的父结点数据值 */\nexport function getFatherValue<T>(binaryTree: T[], indexOfNode: number) {\n    return binaryTree[Math.floor((indexOfNode - 1) / 2)];\n}\n\n/** 获取传入结点的左孩子数据值 */\nexport function getLChildValue<T>(binaryTree: T[], indexOfNode: number) {\n    return binaryTree[indexOfNode * 2 + 1];\n}\n\n/** 获取传入结点的右孩子数据值 */\nexport function getRChildValue<T>(binaryTree: T[], indexOfNode: number) {\n    return binaryTree[indexOfNode * 2 + 2]\n}\n\n/** 为传入的结点设置左孩子 */\nexport function setLChild<T>(binaryTree: T[], indexOfNode: number, lChild: T) {\n    const root = binaryTree[indexOfNode];\n    if (root) binaryTree[indexOfNode * 2 + 1] = lChild;\n    else throw 'node is null';\n}\n\n/** 为传入的结点设置右孩子 */\nexport function setRChild<T>(binaryTree: T[], indexOfNode: number, rChild: T) {\n    const root = binaryTree[indexOfNode];\n    if (root) binaryTree[indexOfNode * 2 + 2] = rChild;\n    else throw 'node is null';\n}\n\n/** 根据传入的下标获取结点所在的二叉树层数 */\nexport function getDeepthByNodeIndex(indexOfNode: number) {\n    return Math.floor(log(2, indexOfNode + 1));\n}\n\n/** 随机生成结点数为n的二叉树 */\nfunction binaryTreeGenerator(n: number, binaryTree: (number | null)[], indexOfRoot: number) {\n    if (n === 0) return;\n\n    // 左孩子的值\n    const lChildV = randomNum(1, 80);\n    // 右孩子的值\n    const rChildV = randomNum(1, 80);\n\n    // 根结点的左子树的结点个数\n    const leftN = randomNum(0, n - 1);\n    const rightN = n - leftN - 1;\n\n    // 递归建立每棵子树\n    setLChild(binaryTree, indexOfRoot, leftN > 0 ? lChildV : null);\n    binaryTreeGenerator(leftN, binaryTree, indexOfRoot * 2 + 1)\n\n    setRChild(binaryTree, indexOfRoot, rightN > 0 ? rChildV : null);\n    binaryTreeGenerator(rightN, binaryTree, indexOfRoot * 2 + 2)\n}\n\n/** 生成层数小于3且结点数在 5 ～ 15 的二叉树 */\nexport function randomBinaryTree(): (number | null)[] {\n\n    let cache = new Array(500);\n\n    // 如果生成的二叉树的层数大于了3则重新生成\n    while (getDeepthByNodeIndex(cache.length - 1) > 3) {\n        cache.fill(null);\n        cache[0] = randomNum(1, 80);\n        binaryTreeGenerator(randomNum(5, 15), cache, 0);\n\n        // 找到 cache 中最后一个不为 null 的元素的下标\n        for (let i = 500; i >= 0; i--) {\n            if (cache[i] !== null) {\n                cache.length = i + 1;\n                break;\n            }\n        }\n    }\n    return cache;\n}\n\n/** 为二叉搜索树添加结点 */\nexport function addToBST(bts: any[], indexOfRoot: number ,nodeV: number) {\n    // 传入的 bts 必须有一个根结点\n    if (bts.length === 0) throw 'the length of bts is 0';\n\n    if (!bts[indexOfRoot]) return;\n\n    // 判断传入结点的值和当前子树根结点的值的关系\n    if (nodeV > bts[indexOfRoot]) {\n        // 当前结点的右孩子不存在，则直接挂上去\n        if (!getRChildValue(bts, indexOfRoot)) {\n            setRChild(bts, indexOfRoot, nodeV);\n        } else {\n            addToBST(bts, indexOfRoot * 2 + 2, nodeV);\n        }\n    } else {\n        // 当前结点的左孩子不存在，则直接挂上去\n        if (!getLChildValue(bts, indexOfRoot)) {\n            setLChild(bts, indexOfRoot, nodeV);\n        } else {\n            addToBST(bts, indexOfRoot * 2 + 1, nodeV);\n        }\n    }\n}\n\n/** 生成二叉搜索树结点数在 5 ~ 15，且层数小于3的二叉搜索树 */\nexport function randomBST() {\n    // 初始化 cache\n    let cache = new Array(500);\n\n    // 如果生成的二叉搜索树的层数大于了3则重新生成\n    while (getDeepthByNodeIndex(cache.length - 1) > 3) {\n        const arr = randomArr(randomNum(5, 15));\n        cache.fill(null);\n        cache[0] = randomNum(20, 80);\n\n        // 用 arr 向 cache 中添加结点\n        arr.forEach((value) => {\n            addToBST(cache, 0, value)\n        })\n\n        // 找到 cache 中最后一个不为 null 的元素的下标\n        for (let i = 500; i >= 0; i--) {\n            if (cache[i] !== null) {\n                cache.length = i + 1;\n                break;\n            }\n        }\n    }\n    return cache;\n}\n\n/** 初始化二叉树sphere */\nexport function initSpheres(values: (number | null)[]): ISphere[] {\n    return values.map((value, index) => ({\n        sortIndex: index,\n        value,\n        isActive: false,\n        isLock: false,\n    }))\n}\n\n/** 获取二叉树前序遍历的细节 */\nexport function preOrderSeq(binaryTree: (number | null)[], indexOfNode: number, sequence: any[]) {\n    sequence.push({ type: ActionTypes.Active, index: indexOfNode });\n    sequence.push({ type: ActionTypes.Deactive, index: indexOfNode });\n    sequence.push({ type: ActionTypes.Lock, index: indexOfNode })\n    if (getLChildValue(binaryTree, indexOfNode)) preOrderSeq(binaryTree, indexOfNode * 2 + 1, sequence);\n    if (getRChildValue(binaryTree, indexOfNode)) preOrderSeq(binaryTree, indexOfNode * 2 + 2, sequence);\n}\n\n/** 获取二叉树中序遍历的细节 */\nexport function inOrderSeq(binaryTree: (number | null)[], indexOfNode: number, sequence: any[]) {\n    if (getLChildValue(binaryTree, indexOfNode)) inOrderSeq(binaryTree, indexOfNode * 2 + 1, sequence);\n    sequence.push({ type: ActionTypes.Active, index: indexOfNode });\n    sequence.push({ type: ActionTypes.Deactive, index: indexOfNode });\n    sequence.push({ type: ActionTypes.Lock, index: indexOfNode })\n    if (getRChildValue(binaryTree, indexOfNode)) inOrderSeq(binaryTree, indexOfNode * 2 + 2, sequence);\n}\n\n/** 获取二叉树后序遍历的细节 */\nexport function postOrderSeq(binaryTree: (number | null)[], indexOfNode: number, sequence: any[]) {\n    if (getLChildValue(binaryTree, indexOfNode)) postOrderSeq(binaryTree, indexOfNode * 2 + 1, sequence);\n    if (getRChildValue(binaryTree, indexOfNode)) postOrderSeq(binaryTree, indexOfNode * 2 + 2, sequence);\n    sequence.push({ type: ActionTypes.Active, index: indexOfNode });\n    sequence.push({ type: ActionTypes.Deactive, index: indexOfNode });\n    sequence.push({ type: ActionTypes.Lock, index: indexOfNode })\n}\n\n\n","/**\n * 计算对数\n * @param base 底数\n * @param truth 真数\n */\nexport function log(base: number, truth: number) {\n    return Math.log(truth) / Math.log(base)\n}","import { Fragment, useReducer, useState } from 'react'\nimport { useHistory } from 'react-router'\nimport { Button, Input, InputNumber, PageHeader, Steps } from 'antd'\nimport { BarChartOutlined, DotChartOutlined } from '@ant-design/icons'\nimport Console, { Item, SubMenu } from '../../components/Console/console'\nimport Line3d from '../../components/Line3d/line3d'\nimport Scene3d from '../../components/Scene3d/scene3d'\nimport Sphere3d from '../../components/Sphere3d/sphere3d'\nimport { ActionTypes, DISPATCH_INTERVAL, IGeometryProps, OpeDetailTypes, Points } from '../../types'\nimport { randomBST, getDeepthByNodeIndex, getLChildValue, getRChildValue, initSpheres, inOrderSeq, postOrderSeq, preOrderSeq } from '../../utils/binaryTree'\nimport './binarySearchTree.scss'\n\nconst { Step } = Steps;\n\nconst cdnOfNodes: Points = [\n    // 第一排\n    [0, 5, 0],\n    // 第二排\n    [-4, 2, 0], [4, 2, 0],\n    // 第三排\n    [-6, -1, 0], [-2, -1, 0], [2, -1, 0], [6, -1, 0],\n    // 第四排\n    [-7, -4, 0], [-5, -4, 0], [-3, -4, 0], [-1, -4, 0], [1, -4, 0], [3, -4, 0], [5, -4, 0], [7, -4, 0]\n]\n\nexport interface ISphere extends IGeometryProps {\n    sortIndex: number;\n}\n\ninterface IState {\n    // 表示二叉树当前真实的结构\n    binaryTree: (number | null)[];\n    // 用来表示每个 sphere 的属性，其元素位置无意义，其中 sortIndex 才是对应的 values 的下标\n    spheres: ISphere[];\n    randomDone: boolean;\n    opeDetails: any[];\n}\n\ninterface IAction {\n    type: ActionTypes;\n    payload?: any;\n}\n\ntype IReducer = (state: IState, action: IAction) => IState;\n\nconst initState: IState = {\n    binaryTree: [],\n    spheres: [],\n    opeDetails: [],\n    randomDone: true,\n\n}\n\nconst reducer: IReducer = (state = initState, action) => {\n    const { type, payload } = action;\n    switch (type) {\n\n        case ActionTypes.Active:\n            return {\n                ...state,\n                spheres: state.spheres.map(\n                    (item) => payload === item.sortIndex ? { ...item, isActive: true } : { ...item }\n                )\n            }\n\n        case ActionTypes.Deactive:\n            return {\n                ...state,\n                spheres: state.spheres.map(\n                    (item) => payload === item.sortIndex ? { ...item, isActive: false } : { ...item }\n                )\n            }\n\n        case ActionTypes.Lock:\n            return {\n                ...state,\n                spheres: state.spheres.map(\n                    (item) => payload === item.sortIndex ? { ...item, isLock: true } : { ...item }\n                )\n            }\n\n        case ActionTypes.UnLock:\n            return {\n                ...state,\n                spheres: state.spheres.map(\n                    (item) => payload === item.sortIndex ? { ...item, isLock: false } : { ...item }\n                )\n            }\n\n        case ActionTypes.Random:\n            return {\n                ...state,\n                randomDone: false\n            }\n\n        case ActionTypes.RandomDone:\n            {\n                let newBinaryTree = randomBST();\n                return {\n                    ...state,\n                    binaryTree: newBinaryTree,\n                    spheres: initSpheres(newBinaryTree),\n                    randomDone: true\n                }\n            }\n\n        default:\n            return {\n                ...state\n            }\n    }\n}\n\n\nconst BinarySearchTree = () => {\n    const history = useHistory();\n    const [state, dispatch] = useReducer<IReducer, IState>(reducer, initState, (state): IState => {\n        const initBinaryTree = randomBST();\n        const treeToString = initBinaryTree.map((item, i) => {\n            if (!item) return 'null'\n            return item;\n        }).toString()\n        return {\n            ...state,\n            binaryTree: initBinaryTree,\n            spheres: initSpheres(initBinaryTree),\n            opeDetails: [{ type: OpeDetailTypes.Default, payload: treeToString}]\n        }\n    });\n\n    /** 场景是否加载完毕 */\n    const [isSceneLoaded, setIsSceneLoaded] = useState(false);\n\n    /** 控制台的添加删除元素的value和index */\n    const [value, setValue] = useState(0);\n    const [index, setIndex] = useState(0);\n\n    /** 处理场景加载完毕回调 */\n    const handleSceneLoaded = () => {\n        setIsSceneLoaded(true);\n    }\n\n    /** 获取二叉树的最大层数 */\n    const maxDeepth = getDeepthByNodeIndex(state.binaryTree.length - 1);\n\n    /** 添加元素 */\n    const handleAddEle = () => {\n        // console.log(value, index);\n    }\n\n    /** 删除元素 */\n    const handleDeleteEle = () => {\n\n    }\n\n    /** 随机生成数据 */\n    const handleRandom = () => {\n        dispatch({ type: ActionTypes.Random });\n        setTimeout(() => {\n            dispatch({ type: ActionTypes.RandomDone })\n        }, 400);\n    }\n\n    /** 前序遍历 */\n    const handlePreorder = () => {\n        let sequence: any[] = [];\n        preOrderSeq(state.binaryTree, 0, sequence);\n        sequence.forEach((event, i) => {\n            setTimeout(() => {\n                dispatch({ type: event.type, payload: event.index })\n            }, i * DISPATCH_INTERVAL)\n        })\n    }\n\n    /** 中序遍历 */\n    const handleInorder = () => {\n        let sequence: any[] = [];\n        inOrderSeq(state.binaryTree, 0, sequence);\n        sequence.forEach((event, i) => {\n            setTimeout(() => {\n                dispatch({ type: event.type, payload: event.index })\n            }, i * DISPATCH_INTERVAL)\n        })\n    }\n\n    /** 后序遍历 */\n    const handlePostorder = () => {\n        let sequence: any[] = [];\n        postOrderSeq(state.binaryTree, 0, sequence);\n        sequence.forEach((event, i) => {\n            setTimeout(() => {\n                dispatch({ type: event.type, payload: event.index })\n            }, i * DISPATCH_INTERVAL)\n        })\n    }\n\n    return (\n        <div className='binarySearchTree-warp'>\n            <PageHeader\n                onBack={() => {\n                    history.goBack();\n                    window.location.reload();\n                }}\n                title='二叉搜索树'\n            />\n            <div className='main'>\n                <Scene3d onLoaded={handleSceneLoaded}>\n                    {state.spheres.map((sphere, i) => {\n                        // 当前结点所在层数\n                        const curDeepth = getDeepthByNodeIndex(i);\n\n                        // 当前结点的左孩子值\n                        const curLChildValue = getLChildValue(state.spheres, i)?.value;\n\n                        // 当前结点的右孩子值\n                        const curRChildValue = getRChildValue(state.spheres, i)?.value;\n\n                        // 当前结点JSX\n                        let currentNodeJSX;\n\n                        // 判空\n                        if (sphere.value) {\n                            currentNodeJSX = (curDeepth !== maxDeepth ?\n                                <Fragment key={i + '('}>\n                                    <Sphere3d\n                                        position={cdnOfNodes[i]}\n                                        value={sphere.value}\n                                        isActive={sphere.isActive}\n                                        isLock={sphere.isLock}\n                                        isSpRev={!state.randomDone}\n                                    />\n                                    {curLChildValue ? <Line3d hidden={!state.randomDone} points={[cdnOfNodes[i], getLChildValue(cdnOfNodes, i)]} /> : <></>}\n                                    {curRChildValue ? <Line3d hidden={!state.randomDone} points={[cdnOfNodes[i], getRChildValue(cdnOfNodes, i)]} /> : <></>}\n                                </Fragment> :\n                                <Sphere3d\n                                    key={i + '('}\n                                    position={cdnOfNodes[i]}\n                                    value={sphere.value}\n                                    isActive={sphere.isActive}\n                                    isLock={sphere.isLock}\n                                    isSpRev={!state.randomDone}\n                                />);\n                        } else {\n                            currentNodeJSX = <Fragment key={i + '('}></Fragment>\n                        }\n\n                        return currentNodeJSX;\n                    })}\n                </Scene3d>\n                <Console\n                    style={{ display: isSceneLoaded ? 'inline-block' : 'none' }}\n                    // onSliderChange={handleSliderChange}\n                    operation={\n                        <>\n                            <div className='btn-group'>\n                                <div className='row'>\n                                    <Button icon={<BarChartOutlined />} onClick={handleRandom}>随机生成</Button>\n                                    <Button icon={<BarChartOutlined />} onClick={handlePreorder}>前序遍历</Button>\n                                    <Button icon={<BarChartOutlined />} onClick={handleInorder}>中序遍历</Button>\n                                    <Button icon={<BarChartOutlined />} onClick={handlePostorder}>后序遍历</Button>\n                                </div>\n                            </div>\n\n                            <div className='input-group'>\n                                <label>\n                                    <span className='lable-name'>数值:</span>\n                                    <InputNumber onChange={(value) => setValue(value as number)} />\n                                </label>\n                                <label>\n                                    <span className='lable-name'>序号:</span>\n                                    <InputNumber onChange={(index) => setIndex(index as number)} />\n                                </label>\n                                <Button type='primary' onClick={handleAddEle}>添加</Button>\n                                <Button onClick={handleDeleteEle}>删除</Button>\n                            </div>\n                        </>\n                    }\n\n                    displayer={\n                        <Steps direction=\"vertical\" size=\"small\" current={state.opeDetails.length - 1}>\n                            {state.opeDetails.map((item, i) => {\n                                const { type, payload } = item;\n                                switch (type) {\n                                    // case OpeDetailTypes.TravDetails:\n                                    //     return (\n\n                                    //     )\n                                    default:\n                                        return (\n                                            <Step\n                                                key={'step' + i}\n                                                title={`当前二叉树: [${payload}]`}\n                                            />\n                                        )\n                                }\n                            })}\n\n                        </Steps>\n                    }\n                >\n                    <Item\n                        key='item1'\n                        icon={<DotChartOutlined />}\n                        onClick={handleRandom}\n                    >\n                        随机生成\n                    </Item>\n\n                    <SubMenu\n                        key='item2'\n                        icon={<BarChartOutlined />}\n                        title='遍历'\n                    >\n                        <Item onClick={handlePreorder}>前序遍历</Item>\n                        <Item onClick={handleInorder}>中序遍历</Item>\n                        <Item onClick={handlePostorder}>后序遍历</Item>\n                    </SubMenu>\n                </Console>\n\n            </div>\n        </div>\n    )\n}\n\nexport default BinarySearchTree;","import Home from '../../pages/Home/home'\nimport Sort from '../../pages/Sort/sort'\nimport AVLTree from '../../pages/AVLTree/avlTree'\nimport Graph from '../../pages/Graph/graph'\nimport BinaryHeap from '../../pages/BinaryHeap/binaryHeap'\nimport BTree from '../../pages/BTree/bTree'\nimport Queue from '../../pages/Queue/queue'\nimport Stack from '../../pages/Stack/stack'\nimport HashTable from '../../pages/HashTable/hashTable'\nimport LinkedList from '../../pages/LinkedList/linkedList'\nimport RedBlackTree from '../../pages/RedBlackTree/redBlackTree'\nimport BPlusTree from '../../pages/BPlusTree/bPlusTree'\nimport BinarySearchTree from '../../pages/BinarySearchTree/binarySearchTree'\n\nconst routerView = [\n    {\n        path: \"/data-structure-visualization/home/\",\n        page: Home\n    },\n    {\n        path: \"/data-structure-visualization/sort\",\n        page: Sort\n    },\n    {\n        path: \"/data-structure-visualization/linkedList\",\n        page: LinkedList\n    },\n    {\n        path: \"/data-structure-visualization/queue\",\n        page: Queue\n    },\n    {\n        path: \"/data-structure-visualization/stack\",\n        page: Stack\n    },\n    {\n        path: \"/data-structure-visualization/binarySearchTree\",\n        page: BinarySearchTree\n    },\n    {\n        path: \"/data-structure-visualization/binaryHeap\",\n        page: BinaryHeap\n    },\n    {\n        path: \"/data-structure-visualization/hashTable\",\n        page: HashTable\n    },\n    {\n        path: \"/data-structure-visualization/avlTree\",\n        page: AVLTree\n    },\n    {\n        path: \"/data-structure-visualization/redBlackTree\",\n        page: RedBlackTree\n    },\n    {\n        path: \"/data-structure-visualization/bTree\",\n        page: BTree\n    },\n\n    {\n        path: \"/data-structure-visualization/bPlusTree\",\n        page: BPlusTree\n    },\n    {\n        path: \"/data-structure-visualization/graph\",\n        page: Graph\n    },\n];\n\n\nexport default routerView\n","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport routerMap from \"./config\";\n\n\nconst RouterView = () => {\n  return (\n\n    <Router>\n      <Redirect to=\"/data-structure-visualization/home\" />\n      <Switch>\n        {routerMap.map((item, index) => (\n          <Route key={index} path={item.path} component={item.page} />\n        ))}\n      </Switch>\n    </Router>\n  \n  );\n};\n\nexport default RouterView;\n","import { Layout } from 'antd';\nimport RouterView from './configs/router';\nimport './App.scss';\nconst { Header, Content, Footer } = Layout;\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Layout className='layout'>\n        <Header className='header'>\n          <a href=\"/data-structure-visualization/\">Data Structure Visualization</a>\n        </Header>\n        <Content className='content'>\n          <RouterView />\n        </Content>\n        <Footer className='footer'>\n          DSV DC ©2021 Created by 孔磊 and 亢江林\n        </Footer>\n      </Layout>\n    </div>\n  );\n}\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n      <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}